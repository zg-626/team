(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0333b200"],{afb3:function(t,a,s){},b449:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("el-card",{staticClass:"ivu-mt",attrs:{bordered:!1}},[s("div",[s("div",{staticClass:"flex-wrapper"},[s("div",[s("iframe",{ref:"iframe",staticClass:"iframe-box",attrs:{src:t.pageData.site_url+"?inner_frame=1",frameborder:"0"}}),t._v(" "),s("div",{staticClass:"mask"})]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"content"},[s("div",{staticClass:"content-box title"},[s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"right title"},[t._v("小程序设置")])]),t._v(" "),t.pageData.routine_appId?t._e():s("el-alert",{attrs:{type:"info",description:"您尚未配置小程序信息，请前往小程序配置页面立即设置"}}),t._v(" "),s("div",{staticClass:"content-box"},[s("div",{staticClass:"left"},[t._v("小程序名称：")]),t._v(" "),s("div",{staticClass:"right"},[t._v(t._s(t.pageData.routine_name||"未命名"))])]),t._v(" "),s("div",{staticClass:"content-box"},[s("div",{staticClass:"left"},[t._v("种草功能：")]),t._v(" "),s("div",{staticClass:"right"},[s("span",[t._v("是否显示种草模块")]),t._v(" "),s("el-radio-group",{staticClass:"rad",attrs:{size:"small"},model:{value:t.is_menu,callback:function(a){t.is_menu=a},expression:"is_menu"}},[s("el-radio",{attrs:{label:1}},[t._v("显示")]),t._v(" "),s("el-radio",{attrs:{label:0}},[t._v("不显示")])],1)],1)]),t._v(" "),s("div",{staticClass:"content-box"},[s("div",{staticClass:"left"},[t._v("小程序包：")]),t._v(" "),s("div",{staticClass:"right"},[s("span",[t._v("是否已开通小程序直播")]),t._v(" "),s("el-radio-group",{staticClass:"rad",attrs:{size:"small"},model:{value:t.is_live,callback:function(a){t.is_live=a},expression:"is_live"}},[s("el-radio",{attrs:{label:0}},[t._v("未开通")]),t._v(" "),s("el-radio",{attrs:{label:1}},[t._v("已开通")])],1)],1)]),t._v(" "),s("div",{staticClass:"content-box last"},[s("div",{staticClass:"left"}),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"mt20"},[t._v("\n                请谨慎选择是否有开通小程序直播功能，否则将影响小程序的发布\n                可前往\n                "),s("a",{attrs:{href:t.pageData.url,target:"_blank"}},[t._v("帮助文档")]),t._v("\n                查看如何开通直播功能\n              ")]),t._v(" "),s("el-button",{staticClass:"mt20",attrs:{type:"primary",size:"small"},on:{click:function(a){return t.downLoad()}}},[t._v("下载小程序包")])],1)])],1)])])])])],1)},i=[],n=s("b562"),l={name:"routineTemplate",data:function(){return{is_live:1,is_menu:1,pageData:{routine_name:"",url:"",routine_appId:"1",site_url:""}}},created:function(){var t=this;Object(n["l"])().then((function(a){console.log(a),t.pageData=a.data}))},watch:{$route:function(t,a){}},computed:{},methods:{downLoad:function(){var t=this;Object(n["k"])({is_live:this.is_live,is_menu:this.is_menu}).then((function(t){window.open(t.data.url)})).catch((function(a){t.$message.warning(a.message)}))},downLoadCode:function(t){if(!t)return this.$message.warning("暂无小程序码");var a=new Image;a.src=t,a.setAttribute("crossOrigin","anonymous"),a.onload=function(){var t=document.createElement("canvas");t.width=a.width,t.height=a.height;var s=t.getContext("2d");s.drawImage(a,0,0,a.width,a.height);var e=t.toDataURL(),i=document.createElement("a"),n=new MouseEvent("click");i.download=name||"photo",i.href=e,i.dispatchEvent(n)}}}},r=l,c=(s("d90c"),s("2877")),o=Object(c["a"])(r,e,i,!1,null,"db15c4e8",null);a["default"]=o.exports},d90c:function(t,a,s){"use strict";s("afb3")}}]);