(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ee0a500"],{"1b0d":function(t,e,a){},3717:function(t,e,a){},"99f6":function(t,e,a){},b031:function(t,e,a){"use strict";a("1b0d")},c7bd:function(t,e,a){"use strict";a("99f6")},e6d3:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"divBox"},[a("div",{staticClass:"selCard"},[a("el-form",{ref:"searchForm",attrs:{model:t.tableForm,size:"small","label-width":"80px",inline:""}},[a("el-form-item",{attrs:{label:"状态：",prop:"status_tag"}},[a("el-select",{staticClass:"selWidth",attrs:{clearable:"",placeholder:"请选择"},on:{change:function(e){return t.getList(1)}},model:{value:t.tableForm.status_tag,callback:function(e){t.$set(t.tableForm,"status_tag",e)},expression:"tableForm.status_tag"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"待审核",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"审核已通过",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"审核未通过",value:"-1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"显示状态：",prop:"show_type"}},[a("el-select",{staticClass:"selWidth",attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.getList(1)}},model:{value:t.tableForm.show_type,callback:function(e){t.$set(t.tableForm,"show_type",e)},expression:"tableForm.show_type"}},t._l(t.studioShowStatusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"直播状态：",prop:"live_status"}},[a("el-select",{staticClass:"selWidth",attrs:{placeholder:"请选择",clearable:""},on:{change:function(e){return t.getList(1)}},model:{value:t.tableForm.live_status,callback:function(e){t.$set(t.tableForm,"live_status",e)},expression:"tableForm.live_status"}},t._l(t.studioStatusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"关键字：",prop:"keyword"}},[a("el-input",{staticClass:"selWidth",attrs:{placeholder:"请输入直播间名称/ID/主播昵称/微信号",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getList(1)}},model:{value:t.tableForm.keyword,callback:function(e){t.$set(t.tableForm,"keyword",e)},expression:"tableForm.keyword"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getList(1)}}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.searchReset()}}},[t._v("重置")])],1)],1)],1),t._v(" "),a("el-card",{staticClass:"mt14"},[a("div",{staticClass:"mb20"},[a("router-link",{attrs:{to:{path:t.roterPre+"/marketing/studio/creatStudio"}}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("创建直播间")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.tableData.data,size:"small","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+(t.tableForm.page-1)*t.tableForm.limit+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"直播间名称","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broadcast_room_id",label:"直播间ID","min-width":"90"}}),t._v(" "),a("el-table-column",{attrs:{prop:"anchor_name",label:"主播昵称","min-width":"90"}}),t._v(" "),a("el-table-column",{attrs:{prop:"anchor_wechat",label:"主播微信号","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"主播手机号","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"start_time","min-width":"150",label:"直播开始时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time","min-width":"150",label:"直播计划结束时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"直播状态","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("broadcastStatusFilter")(e.row.live_status)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time","min-width":"150",label:"创建时间"}}),t._v(" "),-1!==t.tableForm.status_tag?a("el-table-column",{key:"5",attrs:{label:"显示状态","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,width:55,"active-text":"显示","inactive-text":"隐藏"},nativeOn:{click:function(a){return t.onchangeIsShow(e.row)}},model:{value:e.row.is_mer_show,callback:function(a){t.$set(e.row,"is_mer_show",a)},expression:"scope.row.is_mer_show"}})]}}],null,!1,3890182314)}):t._e(),t._v(" "),a("el-table-column",{key:"15",attrs:{label:"开启收录","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.status?a("el-switch",{attrs:{width:55,"active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},nativeOn:{click:function(a){return t.onchangeIsFeeds(e.row)}},model:{value:e.row.is_feeds_public,callback:function(a){t.$set(e.row,"is_feeds_public",a)},expression:"scope.row.is_feeds_public"}}):a("el-switch",{attrs:{disabled:"","active-value":1,width:55,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},model:{value:e.row.is_feeds_public,callback:function(a){t.$set(e.row,"is_feeds_public",a)},expression:"scope.row.is_feeds_public"}})]}}])}),t._v(" "),a("el-table-column",{key:"16",attrs:{label:"禁言","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.status?a("el-switch",{attrs:{width:55,"active-value":0,"inactive-value":1,"active-text":"开启","inactive-text":"关闭"},nativeOn:{click:function(a){return t.onchangeIsCommen(e.row)}},model:{value:e.row.close_comment,callback:function(a){t.$set(e.row,"close_comment",a)},expression:"scope.row.close_comment"}}):a("el-switch",{attrs:{disabled:"",width:55,"active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},model:{value:e.row.close_comment,callback:function(a){t.$set(e.row,"close_comment",a)},expression:"scope.row.close_comment"}})]}}])}),t._v(" "),a("el-table-column",{key:"17",attrs:{label:"客服开关","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.status?a("el-switch",{attrs:{width:55,"active-value":0,"inactive-value":1,"active-text":"开启","inactive-text":"关闭"},nativeOn:{click:function(a){return t.onchangeIsKf(e.row)}},model:{value:e.row.close_kf,callback:function(a){t.$set(e.row,"close_kf",a)},expression:"scope.row.close_kf"}}):a("el-switch",{attrs:{disabled:"",width:55,"active-value":0,"inactive-value":1,"active-text":"开启","inactive-text":"关闭"},model:{value:e.row.close_kf,callback:function(a){t.$set(e.row,"close_kf",a)},expression:"scope.row.close_kf"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商城显示","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_mer_show&&1==e.row.is_show?a("span",[t._v("显示")]):0==e.row.is_mer_show&&1==e.row.is_show?a("span",[t._v("商户关闭")]):1==e.row.is_mer_show&&0==e.row.is_show?a("span",[t._v("平台关闭")]):a("span",[t._v("关闭")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"审核状态","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("liveReviewStatusFilter")(e.row.status)))]),t._v(" "),-1===e.row.status?a("span",{staticStyle:{display:"block","font-size":"12px"}},[t._v("原因 "+t._s(e.row.error_msg))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"直播商品","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.status?a("el-button",{key:"4",attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleImport(e.row)}}},[t._v("导入")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"180",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.onStudioDetails(e.row.broadcast_room_id,"detail")}}},[t._v("详情")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.onEditAssistant(e.row.broadcast_room_id)}}},[t._v("编辑助手")]),t._v(" "),2===e.row.status&&102===e.row.live_status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.onStudioDetails(e.row.broadcast_room_id,"edit")}}},[t._v("编辑")]):t._e(),t._v(" "),102!==e.row.live_status||-1!==e.row.status&&0!==e.row.status?t._e():a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.onEdit(e.row.broadcast_room_id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDelete(e.row,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","page-size":t.tableForm.limit,"current-page":t.tableForm.page,layout:"total, prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)],1),t._v(" "),a("details-from",{ref:"studioDetail"}),t._v(" "),a("import-goods",{ref:"uploadGoods"})],1)},i=[],o=(a("7f7f"),a("b7be")),l=a("83d6"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"divBox"},[t.dialogVisible?a("el-drawer",{attrs:{title:"直播间信息",visible:t.dialogVisible,size:"800px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"直播间信息",name:"basic"}},[a("div",{staticClass:"section"},[a("div",{staticClass:"title"},[t._v("用户信息")]),t._v(" "),a("ul",{staticClass:"list"},[a("li",{staticClass:"item"},[a("div",[t._v("直播间名称：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.FormData.name))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("主播微信号：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.FormData.anchor_wechat))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("直播间ID：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.FormData.broadcast_room_id))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("主播昵称：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.FormData.anchor_name))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("手机号：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.FormData.phone))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("审核结果：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t._f("liveReviewStatusFilter")(t.FormData.status)))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("直播开始时间：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.FormData.start_time))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("直播结束时间：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.FormData.end_time))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("直播间类型：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t._f("broadcastType")(t.FormData.type)))])]),t._v(" "),1==t.FormData.type?a("li",{staticClass:"item"},[a("div",[t._v("显示类型：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t._f("broadcastDisplayType")(t.FormData.screen_type)))])]):t._e(),t._v(" "),1==t.FormData.type&&t.FormData.push_url?a("li",{staticClass:"item"},[a("div",[t._v("推流地址：")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.FormData.push_url))]),t._v(" "),a("el-button",{staticClass:"copyBtn",attrs:{type:"primary",plain:""},on:{click:function(e){return t.handleClipboard(t.FormData.push_url,e)}}},[t._v("复制")])],1):t._e(),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("背景图：")]),t._v(" "),a("div",{staticClass:"value"},[a("img",{staticStyle:{"max-width":"150px",height:"80px"},attrs:{src:t.FormData.cover_img}})])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("分享图：")]),t._v(" "),a("div",{staticClass:"value"},[a("img",{staticStyle:{"max-width":"150px",height:"80px"},attrs:{src:t.FormData.share_img}})])])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{})])]),t._v(" "),a("div",{staticClass:"section"},[a("div",{staticClass:"title"},[t._v("操作信息")]),t._v(" "),a("ul",{staticClass:"list"},[a("li",{staticClass:"item"},[a("div",[t._v("是否开启点赞：")]),t._v(" "),a("div",{staticClass:"value theme"},[t._v(t._s(t.FormData.close_like?"✖":"✔"))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("是否开启货架：")]),t._v(" "),a("div",{staticClass:"value theme"},[t._v(t._s(t.FormData.close_goods?"✖":"✔"))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("是否开启评论：")]),t._v(" "),a("div",{staticClass:"value theme"},[t._v(t._s(t.FormData.close_comment?"✖":"✔"))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("是否开启直播回放：")]),t._v(" "),a("div",{staticClass:"value theme"},[t._v(t._s(t.FormData.replay_status?"✔":"✖"))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("是否开启分享：")]),t._v(" "),a("div",{staticClass:"value theme"},[t._v(t._s(t.FormData.close_share?"✖":"✔"))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("是否开启客服：")]),t._v(" "),a("div",{staticClass:"value theme"},[t._v(t._s(t.FormData.close_kf?"✖":"✔"))])]),t._v(" "),a("li",{staticClass:"item"},[a("div",[t._v("是否开启官方收录：")]),t._v(" "),a("div",{staticClass:"value theme"},[t._v(t._s(t.FormData.is_feeds_public?"✔":"✖"))])])]),t._v(" "),t.isEdit?[a("div",{staticClass:"item"},[a("div",[t._v("直播列表推荐：")]),t._v(" "),a("div",{staticClass:"value"},[a("el-rate",{staticClass:"rate_star",attrs:{colors:t.colors},model:{value:t.FormData.star,callback:function(e){t.$set(t.FormData,"star",e)},expression:"FormData.star"}})],1)]),t._v(" "),a("div",{staticClass:"item"},[a("div",[t._v("备注：")]),t._v(" "),a("div",{staticClass:"value"},[a("el-input",{attrs:{type:"textarea",rows:1},model:{value:t.FormData.mark,callback:function(e){t.$set(t.FormData,"mark",e)},expression:"FormData.mark"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary",disabled:""==t.FormData.mark},on:{click:t.handleRemarks}},[t._v("提交")])],1)])]:t._e()],2)]),t._v(" "),2===t.FormData.status?a("el-tab-pane",{attrs:{label:"商品信息",name:"product"}},[a("div",{staticClass:"section"},[a("div",{staticClass:"title mb20"},[t._v("已导入的直播商品：")]),t._v(" "),"edit"===t.type?a("el-button",{staticClass:"mr10",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handleImport(t.FormData)}}},[t._v("导入直播商品")]):t._e(),t._v(" "),a("selected-goods",{ref:"selectedGoods",attrs:{type:t.type,broadcast_room_id:t.FormData.broadcast_room_id}})],1)]):t._e()],1)],1)]):t._e(),t._v(" "),a("import-goods",{ref:"uploadGoods",on:{getList:t.getList}})],1)},n=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"importedGoods"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData.data,size:"small","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"broadcast_goods_id",label:"ID","min-width":"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图","min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.row.goods&&t.row.goods.cover_img}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"goods.name",label:"商品名称","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"库存","min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.goods&&e.row.goods.product&&e.row.goods.product.stock))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"goods.price",label:"直播价","min-width":"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods.pay_num",label:"销售数量","min-width":"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods.pay_price",label:"销售金额","min-width":"60"}}),t._v(" "),a("el-table-column",{attrs:{label:"上下架","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,width:55,"active-text":"上架","inactive-text":"下架"},on:{change:function(a){return t.onchangeIsShow(e.row)}},model:{value:e.row.on_sale,callback:function(a){t.$set(e.row,"on_sale",a)},expression:"scope.row.on_sale"}})]}}])})],1),t._v(" "),a("div",{staticClass:"block mb20"},[a("el-pagination",{attrs:{"page-size":t.tableFrom.limit,"current-page":t.tableFrom.page,layout:"prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)],1)},d=[],u=(a("c5f6"),{name:"GoodsList",data:function(){return{listLoading:!0,multipleSelection:[],tableData:{data:[],total:0},tableFrom:{page:1,limit:3,keyword:""}}},props:{broadcast_room_id:{type:Number},type:{type:String,default:"detail"}},watch:{broadcast_room_id:{deep:!0,handler:function(t){this.getList()}}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(o["ib"])(this.broadcast_room_id,this.tableFrom).then((function(e){t.tableData.data=e.data.list,t.tableData.total=e.data.count,t.listLoading=!1})).catch((function(e){t.listLoading=!1,t.$message.error(e.message)}))},pageChange:function(t){this.tableFrom.page=t,this.getList()},handleSizeChange:function(t){this.tableFrom.limit=t,this.getList()},onchangeIsShow:function(t){var e=this;Object(o["jb"])(t.broadcast_room_id,{goods_id:t.broadcast_goods_id,status:t.on_sale}).then((function(t){var a=t.message;e.$message.success(a),e.getList()})).catch((function(t){var a=t.message;e.$message.error(a)}))},handleDelete:function(t,e){var a=this;this.$modalSureDelete("确定删除该商品").then((function(){Object(o["e"])({room_id:t.broadcast_room_id,id:t.broadcast_goods_id}).then((function(t){var s=t.message;a.$message.success(s),a.tableData.data.splice(e,1)})).catch((function(t){var e=t.message;a.$message.error(e)}))}))}}}),m=u,v=a("2877"),_=Object(v["a"])(m,c,d,!1,null,"e291a878",null),b=_.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.importVisible?a("el-dialog",{attrs:{title:"商品信息",visible:t.importVisible,width:"700px","before-close":t.handleClose},on:{"update:visible":function(e){t.importVisible=e}}},[a("div",{staticClass:"divBox"},[a("el-form",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"直播间名称：","label-width":"150px"}},[a("span",[t._v(t._s(t.broadcast_room))])])],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"直播间ID：","label-width":"150px"}},[a("span",[t._v(t._s(t.broadcast_id))])])],1)],1)],1),t._v(" "),a("div",{staticClass:"box-card"},[t.importVisible?a("form-create",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"fc",staticClass:"formBox",attrs:{rule:t.FormData.rule,"handle-icon":"false"},on:{submit:t.onSubmit}}):t._e()],1)],1)]):t._e()},p=[],f=a("30ba"),g=a.n(f),w={name:"importGoods",components:{formCreate:g.a.$form()},data:function(){return{option:{form:{labelWidth:"150px"},global:{upload:{props:{onSuccess:function(t,e){200===t.status&&(e.url=t.data.src)}}}}},importVisible:!1,selectedProducts:"",broadcast_room:"",broadcast_id:"",image:"",FormData:{action:"/mer/studio/goods/create.html",config:{},rule:[{field:"product_id",props:{height:"536px",maxLength:5,modal:{modal:!1},src:"/merchant/setting/broadcastProduct?field=product_id",srcKey:"src",title:"请选择商品",type:"image",width:"60%"},title:"商品:",type:"frame",value:""}]},loading:!1,selectedGoods:[]}},mounted:function(){},methods:{handleClose:function(){this.importVisible=!1,this.FormData.rule[0].value=""},getFrom:function(){},modalPicTap:function(t,e,a){var s=this;this.$modalUpload((function(a){"1"!==t||e||(s.image=a[0])}),t)},onSubmit:function(t){var e=this;this.listLoading=!0,this.selectedProducts=JSON.parse(localStorage.getItem("broadcastPro"))||[];var a=this.filtersArr(this.selectedProducts),s=this.broadcast_id,i={ids:a,room_id:s};Object(o["f"])(i).then((function(t){e.$message.success(t.message),e.listLoading=!1,e.importVisible=!1,e.FormData.rule[0].value="",localStorage.removeItem("broadcastPro"),e.$emit("getList")})).catch((function(t){e.$emit("getList"),e.listLoading=!1,e.$message.error(t.message),e.FormData.rule[0].value="",e.importVisible=!1}))},filtersArr:function(t){var e=this;return this.selectedGoods=[],t.map((function(t){e.selectedGoods.push(t.broadcast_goods_id)})),this.selectedGoods}}},y=w,k=(a("f701"),Object(v["a"])(y,h,p,!1,null,"7f5a2c31",null)),C=k.exports,F=a("2b0e"),x=a("b311"),D=a.n(x);function $(){F["default"].prototype.$message({message:"复制成功",type:"success",duration:1500})}function L(){F["default"].prototype.$message({message:"复制失败",type:"error"})}function S(t,e){var a=new D.a(e.target,{text:function(){return t}});a.on("success",(function(){$(),a.destroy()})),a.on("error",(function(){L(),a.destroy()})),a.onClick(e)}var O={name:"StudioDetail",components:{selectedGoods:b,importGoods:C},data:function(){return{activeName:"basic",dialogVisible:!1,option:{form:{labelWidth:"150px"}},FormData:{},loading:!1,type:""}},mounted:function(){},methods:{getData:function(t,e){var a=this;this.loading=!0,this.type=e,Object(o["d"])(t).then((function(t){a.FormData=t.data,a.loading=!1,console.log(a.FormData)})).catch((function(t){a.$message.error(t.message),a.loading=!1}))},handleImport:function(t){this.$refs.uploadGoods.importVisible=!0,this.$refs.uploadGoods.broadcast_id=t.broadcast_room_id,this.$refs.uploadGoods.broadcast_room=t.name,this.$refs.uploadGoods.image="",localStorage.setItem("liveRoom_id",t.broadcast_room_id)},handleRemarks:function(t){var e=this;Object(o["l"])(this.FormData.broadcast_room_id,this.FormData.mark).then((function(t){e.loading=!1,e.$message.success(t.message),e.dialogVisible=!1,e.$emit("getList")})).catch((function(t){e.$message.error(t.message),e.loading=!1}))},getList:function(){this.$refs.selectedGoods.getList()},handleClipboard:function(t,e){S(t,e)}}},z=O,j=(a("b031"),Object(v["a"])(z,r,n,!1,null,"01a9efab",null)),I=j.exports,G={name:"StudioList",components:{detailsFrom:I,importGoods:C},data:function(){return{Loading:!1,roterPre:l["roterPre"],dialogVisible:!1,importVisible:!1,listLoading:!0,studioShowStatusList:[{label:"显示",value:3},{label:"商户关闭",value:2},{label:"平台关闭",value:1},{label:"关闭",value:0}],studioStatusList:[{label:"正在进行",value:"101"},{label:"已结束",value:"103"},{label:"未开始",value:"102"},{label:"已过期",value:"107"}],tableData:{data:[],total:0},tableForm:{page:1,limit:20,status_tag:this.$route.query.status?this.$route.query.status:"",keyword:"",show_type:"",status:"",broadcast_room_id:this.$route.query.id?this.$route.query.id:""},broadcast_room_id:this.$route.query.id?this.$route.query.id:"",liveRoomStatus:""}},watch:{broadcast_room_id:function(t,e){this.getList("")}},mounted:function(){this.getList("")},methods:{searchReset:function(){this.$refs.searchForm.resetFields(),this.getList(1)},onStudioDetails:function(t,e){this.broadcast_room_id=t,this.$refs.studioDetail.dialogVisible=!0,this.$refs.studioDetail.getData(t,e)},handleImport:function(t){this.$refs.uploadGoods.importVisible=!0,this.$refs.uploadGoods.broadcast_id=t.broadcast_room_id,this.$refs.uploadGoods.broadcast_room=t.name,this.$refs.uploadGoods.image="",localStorage.setItem("liveRoom_id",t.broadcast_room_id)},onEditAssistant:function(t){var e=this;this.$modalForm(Object(o["hb"])(t)).then((function(){return e.getList("")}))},handleDelete:function(t,e){var a=this;2==t.status&&101==t.live_status?this.$confirm("该直播间正在进行直播，删除后不可恢复，您确认删除吗？","提示",{confirmButtonText:"删除",cancelButtonText:"不删除",type:"warning"}).then((function(){Object(o["c"])(t.broadcast_room_id).then((function(t){var s=t.message;a.$message.success(s),a.tableData.data.splice(e,1)})).catch((function(t){var e=t.message;a.$message.error(e)}))})).catch((function(t){a.$message({type:"info",message:"已取消"})})):this.$modalSureDelete().then((function(){Object(o["c"])(t.broadcast_room_id).then((function(t){var s=t.message;a.$message.success(s),a.tableData.data.splice(e,1),a.getList()})).catch((function(t){var e=t.message;a.$message.error(e)}))}))},onPushMessage:function(t){var e=this;this.$confirm("给长期订阅用户推送消息？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["kb"])(t).then((function(t){var a=t.message;e.$message.success(a)})).catch((function(t){var a=t.message;e.$message.error(a)}))})).catch((function(t){e.$message({type:"info",message:"已取消"})}))},onEdit:function(t){var e=this;this.$modalForm(Object(o["gb"])(t)).then((function(){return e.getList("")}))},getList:function(t){var e=this;this.listLoading=!0,this.tableData.page=t||this.tableData.page,console.log(this.tableForm),Object(o["g"])(this.tableForm).then((function(t){e.tableData.data=t.data.list,e.tableData.total=t.data.count,e.listLoading=!1})).catch((function(t){e.listLoading=!1,e.$message.error(t.message)}))},pageChange:function(t){this.tableForm.page=t,this.getList("")},handleSizeChange:function(t){this.tableForm.limit=t,this.getList("")},onchangeIsShow:function(t){var e=this;Object(o["n"])(t.broadcast_room_id,{is_show:t.is_mer_show}).then((function(t){var a=t.message;e.$message.success(a),e.getList("")})).catch((function(t){var a=t.message;e.$message.error(a)}))},onchangeIsFeeds:function(t){var e=this;Object(o["V"])(t.broadcast_room_id,t.is_feeds_public).then((function(t){var a=t.message;e.$message.success(a),e.getList("")})).catch((function(t){var a=t.message;e.$message.error(a)}))},onchangeIsCommen:function(t){var e=this;Object(o["W"])(t.broadcast_room_id,t.close_comment).then((function(t){var a=t.message;e.$message.success(a),e.getList("")})).catch((function(t){var a=t.message;e.$message.error(a)}))},onchangeIsKf:function(t){var e=this;Object(o["fb"])(t.broadcast_room_id,t.close_kf).then((function(t){var a=t.message;e.$message.success(a),e.getList("")})).catch((function(t){var a=t.message;e.$message.error(a)}))}}},V=G,P=(a("c7bd"),Object(v["a"])(V,s,i,!1,null,"001c9173",null));e["default"]=P.exports},f701:function(t,e,a){"use strict";a("3717")}}]);