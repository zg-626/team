(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{526:function(t,e,o){var content=o(654);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("38af3b28",content,!0,{sourceMap:!1})},652:function(t,e,o){t.exports=o.p+"img/nocollect.900a50d.png"},653:function(t,e,o){"use strict";var n=o(526);o.n(n).a},654:function(t,e,o){(e=o(2)(!1)).push([t.i,'.collect .collectProduct li[data-v-4b254bbc]{padding:30px 5px;border-bottom:1px solid #e1e1e1}.collect .collectProduct li .hd[data-v-4b254bbc]{display:flex;padding-bottom:30px;border-bottom:1px dashed #e1e1e1}.collect .collectProduct li .hd .img-box[data-v-4b254bbc]{width:120px;height:120px}.collect .collectProduct li .hd .img-box img[data-v-4b254bbc]{width:100%;height:100%}.collect .collectProduct li .hd .info[data-v-4b254bbc]{display:flex;align-items:center;margin-left:25px;width:60%}.collect .collectProduct li .bd[data-v-4b254bbc]{display:flex;justify-content:flex-end;padding-top:25px;padding-right:25px}.collectStore[data-v-4b254bbc]{overflow:hidden;margin-top:30px}.collectStore li[data-v-4b254bbc]{float:left;border:1px solid #efefef;width:210px;height:240px;margin:0 20px 20px 0}.collectStore li[data-v-4b254bbc]:nth-child(4n){margin-right:0}.user-info[data-v-4b254bbc]{background:#fff;color:#282828;font-size:14px;padding:0 15px}.user-info[data-v-4b254bbc],.user-info .store-basis[data-v-4b254bbc]{display:flex;flex-direction:column;align-items:center;justify-content:center}.user-info .store-basis .trader[data-v-4b254bbc]{display:inline-block;width:32px;height:18px;line-height:18px;text-align:center;color:#e93323;color:#fff;background:#e93323;border-radius:2px;margin-right:3px;font-size:12px;font-family:"PingFang SC"}.user-info .store-logo[data-v-4b254bbc]{width:61px;height:61px;margin:30px 0 15px}.user-info .store-logo img[data-v-4b254bbc]{width:61px;height:61px;border-radius:50%}.user-info .store-name[data-v-4b254bbc]{color:#333;font-weight:700;font-size:16px}.user-info .store-name .names[data-v-4b254bbc]{max-width:150px;display:inline-block;position:relative;top:4px}.user-info .name[data-v-4b254bbc]{margin-top:10px;padding:0 15px}.store-info[data-v-4b254bbc]{padding:15px 0 0;position:relative;border-bottom:1px dashed #ececec;width:100%;text-align:center}.store-info .item[data-v-4b254bbc]{font-size:12px;color:#7e7e7e;margin-bottom:15px}.store-info .item .iconfont[data-v-4b254bbc]{cursor:pointer}.store-info .item .cont[data-v-4b254bbc]{margin-left:8px}.store-info .item .desc[data-v-4b254bbc]{color:#666;font-size:16px}.store-favorites[data-v-4b254bbc]{margin:9px 0;padding:0 12px;overflow:hidden;width:100%;position:relative}.store-favorites[data-v-4b254bbc]:after{content:"";display:inline-block;width:1px;height:20px;background:#f3f3f3;position:absolute;top:6px;right:50%}.store-favorites .store-btn[data-v-4b254bbc]{height:30px;line-height:30px;text-align:center;border:none;background:#fff;font-size:13px;color:#333}.store-favorites .toStore[data-v-4b254bbc]{float:left}.store-favorites .collection[data-v-4b254bbc]{float:right}.pages-box[data-v-4b254bbc]{margin-top:30px;text-align:right}.user-com-tab span[data-v-4b254bbc]{padding:0 8px}',""]),t.exports=e},752:function(t,e,o){"use strict";o.r(e);o(239),o(5);var n=o(115),c=o.n(n),r={name:"collect",auth:"guest",data:function(){return{tabCur:0,list:[],storeList:[],page:1,limit:12,total:0}},watch:{tabCur:function(t,e){this.page=1,1==t?this.getStoreList():this.getGoodsList()}},fetch:function(t){var e=t.store;e.commit("isBanner",!1),e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"我的收藏-"+this.$store.state.titleCon}},beforeMount:function(){},mounted:function(){this.getGoodsList()},methods:{getGoodsList:function(){var t=this;this.$axios.get("/api/user/relation/product/lst",{params:{page:this.page,limit:this.limit}}).then((function(e){t.list=e.data.list,t.total=e.data.count}))},getStoreList:function(){var t=this;this.$axios.get("/api/user/relation/merchant/lst",{params:{page:this.page,limit:this.limit}}).then((function(e){t.storeList=e.data.list,t.total=e.data.count}))},bindDetele:function(t,e){var o=this;this.$axios.post("/api/user/relation/delete",{type:10,type_id:t.type_id}).then((function(t){c.a.success(t.message),o.storeList.splice(e,1),o.getStoreList()})).catch((function(t){return c.a.error(t)}))},offCollect:function(t,e){var o=this;this.$axios.post("/api/user/relation/batch/delete",{type:1,type_id:[t]}).then((function(t){c.a.success(t.message),o.list.splice(e,1),o.getGoodsList()})).catch((function(t){return c.a.error(t)}))},goPage:function(t,e){e.spu.product_type?this.$router.push({path:"/goods_seckill_detail/".concat(t,"?time=").concat(e.spu.stop_time)}):this.$router.push({path:"/goods_detail/".concat(t)})},goStore:function(t){this.$router.push({path:"/store",query:{id:t}})},bindPageCur:function(data){this.page=data,1==this.tabCur?this.getStoreList():this.getGoodsList()}}},l=(o(653),o(6)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collect"},[n("div",{staticClass:"user-com-tab"},[n("span",{staticClass:"item",class:{on:0==t.tabCur},on:{click:function(e){t.tabCur=0}}},[t._v("商品收藏")]),t._v(" "),n("span",{staticClass:"item",class:{on:1==t.tabCur},on:{click:function(e){t.tabCur=1}}},[t._v("店铺收藏")])]),t._v(" "),1==t.tabCur?n("ul",{staticClass:"collectStore"},t._l(t.storeList,(function(e,o){return n("li",{key:o},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"store-basis"},[n("div",{staticClass:"store-logo"},[n("img",{attrs:{src:e.merchant.mer_avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"store-name line1"},[e.merchant.is_trader?n("span",{staticClass:"trader"},[t._v("自营")]):t._e(),t._v(" "),n("span",{staticClass:"names line1"},[t._v(t._s(e.merchant.mer_name))])])]),t._v(" "),n("div",{staticClass:"store-info"},[n("div",{staticClass:"item"},[n("span",{staticClass:"desc"},[t._v(t._s(e.merchant.care_count<1e4?e.merchant.care_count:(e.merchant.care_count/1e4).toFixed(1)+"万"||!1)+"人关注")])])]),t._v(" "),n("div",{staticClass:"store-favorites"},[n("button",{staticClass:"store-btn toStore",on:{click:function(o){return t.goStore(e.merchant.mer_id)}}},[t._v("进店逛逛")]),t._v(" "),n("button",{staticClass:"store-btn collection",on:{click:function(n){return t.bindDetele(e,o)}}},[t._v("取消关注")])])])])})),0):n("ul",{staticClass:"collectProduct"},t._l(t.list,(function(e,o){return n("li",{key:o},[n("div",{staticClass:"hd"},[n("div",{staticClass:"img-box"},[n("img",{attrs:{src:e.spu.image,alt:""}})]),t._v(" "),n("div",{staticClass:"info line2"},[t._v(t._s(e.spu.store_name))])]),t._v(" "),n("div",{staticClass:"bd"},[n("el-button",{on:{click:function(n){return t.offCollect(e.type_id,o)}}},[t._v("取消收藏")]),t._v(" "),e.type<2?n("el-button",{on:{click:function(o){return t.goPage(e.spu.product_id,e)}}},[t._v("查看商品")]):t._e()],1)])})),0),t._v(" "),t.total>0?n("div",{staticClass:"pages-box"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",pageSize:t.limit,total:t.total},on:{"current-change":t.bindPageCur}})],1):t._e(),t._v(" "),t.total<=0?n("div",{staticClass:"empty-box"},[n("img",{attrs:{src:o(652),alt:""}}),t._v(" "),n("p",[t._v("亲，暂无收藏哟~")])]):t._e()])}),[],!1,null,"4b254bbc",null);e.default=component.exports}}]);