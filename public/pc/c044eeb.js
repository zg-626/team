(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{465:function(t,e,o){t.exports=o.p+"img/noorder.258b663.png"},528:function(t,e,o){var content=o(658);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("e8429412",content,!0,{sourceMap:!1})},657:function(t,e,o){"use strict";var r=o(528);o.n(r).a},658:function(t,e,o){(e=o(2)(!1)).push([t.i,'.user-com-tab .item[data-v-903a0a30]{padding:0 10px}.user-order-list ul[data-v-903a0a30]{margin-top:20px}.user-order-list li[data-v-903a0a30]{position:relative}.user-order-list li .refund-icon[data-v-903a0a30]{position:absolute;right:50px;top:40px}.user-order-list li .bd .order-txt[data-v-903a0a30]{color:#282828;font-size:14px;height:40px;line-height:40px;background-color:#efefef;padding:0 20px}.user-order-list li .bd .content .invoice_list[data-v-903a0a30]{position:relative}.user-order-list li .bd .content .invoice_list[data-v-903a0a30]:after{content:"";display:block;height:112px;width:1px;background:#efefef;position:absolute;top:-48px;right:0}.user-order-list li .bd .content .invoice_list[data-v-903a0a30]:first-child:after{top:-20px}.user-order-list li .bd .content .invoice_list[data-v-903a0a30]:last-child:after{display:none}.user-order-list li .bd .content .invoice_list .colorE[data-v-903a0a30]{color:#999}.user-order-list li .bd .content .invoice_list .color0[data-v-903a0a30]{color:#e93323}.user-order-list li .bd .content .invoice_list .color1[data-v-903a0a30]{color:#71b247}.user-order-list li .bd .content .invoice_list .el_btn[data-v-903a0a30]{display:inline-block;color:#e93323;line-height:28px;text-align:center;border:1px solid #e93323;width:98px;cursor:pointer}.user-order-list li .bd .content .goods-item[data-v-903a0a30]{display:flex;position:relative;margin-bottom:20px;align-items:center;padding:20px 0;border:1px solid #efefef}.user-order-list li .bd .content .goods-item .invoice_img[data-v-903a0a30]{padding-left:20px;display:flex}.user-order-list li .bd .content .goods-item .img-box[data-v-903a0a30]{width:70px;height:70px}.user-order-list li .bd .content .goods-item .img-box img[data-v-903a0a30]{display:block;width:100%;height:100%}.user-order-list li .bd .content .goods-item .info-txt[data-v-903a0a30]{position:relative;display:flex;flex-direction:column;justify-content:center;max-width:200px;margin-left:24px;font-size:14px}.user-order-list li .bd .content .goods-item .info-txt .price[data-v-903a0a30]{margin-top:15px;font-size:14px}.user-order-list li .bd .content .goods-item .info-txt .num[data-v-903a0a30]{font-size:12px;margin-left:5px;display:inline-block;color:#999}.bg_gray[data-v-903a0a30]{background-color:#efefef}.order-list[data-v-903a0a30]{margin-top:30px;padding-right:20px}.invoice_header[data-v-903a0a30]{height:40px;line-height:40px;display:flex;align-items:center;text-align:center}.invoice_list[data-v-903a0a30]{width:15%;text-align:center}.invoice_list[data-v-903a0a30]:first-child{width:55%}.pages-box[data-v-903a0a30]{margin-top:30px;text-align:right}.invoice_data_container[data-v-903a0a30]{padding:0 20px}.invoice_data_container .list[data-v-903a0a30]{margin-bottom:30px}.invoice_data_container .list[data-v-903a0a30]:last-child{margin-bottom:0}.invoice_data_container .demo_item[data-v-903a0a30]{color:#282828;margin-bottom:10px}.invoice_data_container .demo_item label[data-v-903a0a30]{width:80px;margin-right:10px}.invoice_data_container .demo_item .color0[data-v-903a0a30]{color:#e93323}.invoice_data_container .demo_item .color1[data-v-903a0a30]{color:#71b247}.dialog-footer[data-v-903a0a30]{display:block;text-align:center;margin-top:20px}[data-v-903a0a30] .el-dialog__body{border-bottom:1px solid #efefef}',""]),t.exports=e},754:function(t,e,o){"use strict";o.r(e);o(31),o(12),o(49);var r={name:"orderList",auth:"guest",scrollToTop:!0,filters:{filterTxt:function(t){return{0:"未开票",1:"已开票",10:"未寄出"}[t]}},data:function(){return{dialogVisible:!1,tabCur:"",orderList:[],orderData:{},receipt_info:{},orderStatus:"",total:0,page:1,limit:10}},fetch:function(t){var e=t.store;e.commit("isBanner",!1),e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"我的发票-"+this.$store.state.titleCon}},beforeMount:function(){},mounted:function(){Promise.all([this.getList()])},methods:{bindTab:function(t){this.orderStatus=t,this.page=1,this.$set(this,"orderList",[]),this.getList()},getList:function(){var t=this;this.$axios.get("/api/user/receipt/order",{params:{page:this.page,limit:this.limit,status:this.orderStatus}}).then((function(e){t.orderList=e.data.list,t.total=e.data.count}))},goDetail:function(t){var e=this;this.dialogVisible=!0,this.$axios.get("/api/user/receipt/order/"+t.order_receipt_id).then((function(t){e.orderData=t.data,e.$set(e,"receipt_info",t.data.receipt_info)}))},handleClose:function(){this.dialogVisible=!1},bindPageCur:function(data){this.page=data,this.getList()}}},n=(o(657),o(6)),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-order-list"},[r("div",{staticClass:"user-com-tab"},[r("span",{staticClass:"item",class:""===t.orderStatus?"on":"",on:{click:function(e){return t.bindTab("")}}},[t._v("全部发票")]),t._v(" "),r("span",{staticClass:"item",class:1===t.orderStatus?"on":"",on:{click:function(e){return t.bindTab(1)}}},[t._v("已开票")]),t._v(" "),r("span",{staticClass:"item",class:0===t.orderStatus?"on":"",on:{click:function(e){return t.bindTab(0)}}},[t._v("未开票")])]),t._v(" "),t.orderList.length>0?r("div",{staticClass:"order-list"},[t._m(0),t._v(" "),r("ul",t._l(t.orderList,(function(e,o){return r("li",{key:o},[r("div",{staticClass:"bd"},[r("div",{staticClass:"order-txt"},[t._v("\n            订单日期: "+t._s(e.create_time)+"\n          ")]),t._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"goods-item"},[r("div",{staticClass:"invoice_list acea-row"},[r("div",{staticClass:"invoice_img"},[e.storeOrder.orderProduct[0].cart_info.productAttr.image?r("div",{staticClass:"img-box"},[r("img",{attrs:{src:e.storeOrder.orderProduct[0].cart_info.productAttr.image,alt:""}})]):r("div",{staticClass:"img-box"},[r("img",{attrs:{src:e.storeOrder.orderProduct[0].cart_info.product.image,alt:""}})]),t._v(" "),r("div",{staticClass:"info-txt"},[r("div",{staticClass:"title line2"},[t._v(t._s(e.storeOrder.orderProduct[0].cart_info.product.store_name))]),t._v(" "),r("div",{staticClass:"price"},[t._v("\n                      ¥ "+t._s(e.storeOrder.orderProduct[0].cart_info.productAttr.price||e.storeOrder.orderProduct[0].cart_info.product.price)+"\n                      "),r("span",{staticClass:"num"},[t._v("x"+t._s(e.storeOrder.orderProduct[0].product_num))])])])])]),t._v(" "),r("div",{staticClass:"invoice_list"},[r("div",{staticClass:"invoice_item colorE"},[t._v(t._s(1==e.receipt_info.receipt_type?"普通发票":"专用发票"))])]),t._v(" "),r("div",{staticClass:"invoice_list"},[r("div",{staticClass:"invoice_item",class:"color"+e.status},[t._v(t._s(t._f("filterTxt")(e.status)))])]),t._v(" "),r("div",{staticClass:"invoice_list"},[r("div",{staticClass:"invoice_item el_btn",on:{click:function(o){return t.goDetail(e)}}},[t._v("发票详情")])])])])])])})),0)]):t._e(),t._v(" "),t.total>0?r("div",{staticClass:"pages-box"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.bindPageCur}})],1):t._e(),t._v(" "),0==t.orderList.length?r("div",{staticClass:"empty-box"},[r("img",{attrs:{src:o(465),alt:""}}),t._v(" "),r("p",[t._v("亲，暂无发票信息哟~")])]):t._e(),t._v(" "),r("el-dialog",{attrs:{title:"发票信息",visible:t.dialogVisible,width:"600px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("div",{staticClass:"invoice_data_container"},[r("div",{staticClass:"demo-ruleForm"},[r("div",{staticClass:"list"},[r("div",{staticClass:"demo_item"},[r("label",[t._v("开票状态：")]),t._v(" "),r("span",{class:"color"+t.orderData.status},[t._v(t._s(1==t.orderData.status?"已开票":"未开票"))])]),t._v(" "),1==t.orderData.status?r("div",{staticClass:"demo_item"},[r("label",[t._v("开票时间：")]),t._v(" "),r("span",[t._v(t._s(t.orderData.status_time))])]):t._e(),t._v(" "),r("div",{staticClass:"demo_item"},[r("label",[t._v("申请时间：")]),t._v(" "),r("span",[t._v(t._s(t.orderData.create_time))])])]),t._v(" "),r("div",{staticClass:"list"},[r("div",{staticClass:"demo_item"},[r("label",[t._v("发票类型：")]),t._v(" "),r("span",[t._v(t._s(1==t.receipt_info.receipt_type?"普通发票":"专用发票"))])]),t._v(" "),r("div",{staticClass:"demo_item"},[r("label",[t._v("发票抬头类型：")]),t._v(" "),r("span",[t._v(t._s(1==t.receipt_info.receipt_title_type?"个人":"企业"))])]),t._v(" "),2==t.receipt_info.receipt_title_type?r("div",{staticClass:"demo_item"},[r("label",[t._v("单位税号：")]),t._v(" "),r("span",[t._v(t._s(t.receipt_info.duty_paragraph))])]):t._e(),t._v(" "),r("div",{staticClass:"demo_item"},[r("label",[t._v("发票抬头：")]),t._v(" "),r("span",[t._v(t._s(t.receipt_info.receipt_title))])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:"2"==t.receipt_info.receipt_title_type&&"2"==t.receipt_info.receipt_type,expression:"receipt_info.receipt_title_type == '2' && receipt_info.receipt_type == '2'"}]},[r("div",{staticClass:"demo_item"},[r("label",[t._v("开户银行：")]),t._v(" "),r("span",[t._v(t._s(t.receipt_info.bank_name))])]),t._v(" "),r("div",{staticClass:"demo_item"},[r("label",[t._v("银行账号：")]),t._v(" "),r("span",[t._v(t._s(t.receipt_info.bank_code))])]),t._v(" "),r("div",{staticClass:"demo_item"},[r("label",[t._v("企业地址：")]),t._v(" "),r("span",[t._v(t._s(t.receipt_info.address))])]),t._v(" "),r("div",{staticClass:"demo_item"},[r("label",[t._v("企业电话：")]),t._v(" "),r("span",[t._v(t._s(t.receipt_info.tel))])])])])])]),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticStyle:{width:"180px"},attrs:{type:"primary"},on:{click:t.handleClose}},[t._v("确 定")])],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"invoice_header bg_gray"},[e("div",{staticClass:"invoice_list"},[this._v("商品信息")]),this._v(" "),e("div",{staticClass:"invoice_list"},[this._v("发票类型")]),this._v(" "),e("div",{staticClass:"invoice_list"},[this._v("状态")]),this._v(" "),e("div",{staticClass:"invoice_list"},[this._v("操作")])])}],!1,null,"903a0a30",null);e.default=component.exports}}]);