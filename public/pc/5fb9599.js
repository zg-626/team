(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{450:function(t,e,o){var content=o(456);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("012aadfc",content,!0,{sourceMap:!1})},455:function(t,e,o){"use strict";var n=o(450);o.n(n).a},456:function(t,e,o){(e=o(2)(!1)).push([t.i,".sort-scroll[data-v-23c53d25]::-webkit-scrollbar{width:0}.sort-scroll[data-v-23c53d25]::-webkit-scrollbar-thumb,.sort-scroll[data-v-23c53d25]::-webkit-scrollbar-track{background:transparent}.sort-scroll[data-v-23c53d25]::-webkit-scrollbar-corner{background:transparent}.categoryMain[data-v-23c53d25]{background:#fff}.categoryMain .categoryCount[data-v-23c53d25]{position:relative;width:1200px;margin:0 auto}.categoryMain .categoryBtn[data-v-23c53d25]{width:208px;height:44px;line-height:44px;color:#fff;background-color:#e93323;text-align:center;cursor:pointer}.categoryMain .item-link[data-v-23c53d25]{padding:11.5px 10px;margin-right:13px;color:#282828;font-size:16px;font-weight:400;cursor:pointer;min-width:90px;display:inline-block;text-align:center}.categoryMain .item-link[data-v-23c53d25]:hover{color:#e93323}.categoryMain .category[data-v-23c53d25]{position:absolute;top:44px;left:0;z-index:9;height:450px}.categoryMain .sort[data-v-23c53d25]{width:208px;height:100%;background-color:rgba(0,0,0,.96);color:#fff;padding:14px 0}.categoryMain .sort .item[data-v-23c53d25]{height:35px;padding:0 21px;cursor:pointer}.categoryMain .sort .item .name[data-v-23c53d25]{width:150px}.categoryMain .sort .item .iconfont[data-v-23c53d25]{font-size:10px}.categoryMain .sort.sort-scroll[data-v-23c53d25]{overflow-y:scroll}.categoryMain .sort.sort-scroll .name[data-v-23c53d25]{width:125px}.categoryMain .sortCon[data-v-23c53d25]{width:664px;height:100%;background-color:#fff;box-shadow:5px 1px 10px rgba(0,0,0,.2);border:1px solid #f2f2f2;border-left:0;border-right:0;padding:0 5px 20px 29px}.categoryMain .sortCon .title[data-v-23c53d25]{padding-bottom:8px;border-bottom:1px solid #f1f1f1}.categoryMain .sortCon .title .font-color[data-v-23c53d25]{padding-bottom:8px;font-size:16px;border-bottom:2px solid #e93323}.categoryMain .sortCon .erSort[data-v-23c53d25]{overflow-x:hidden;overflow-y:auto;max-height:400px;padding-top:20px}.categoryMain .sortCon .erSort .item[data-v-23c53d25]{margin-top:10px;justify-content:space-between}.categoryMain .sortCon .erSort .item .name[data-v-23c53d25]{color:#282828;margin-left:14px;width:66px;font-weight:700;cursor:pointer}.categoryMain .sortCon .erSort .cateList[data-v-23c53d25]{width:548px}.categoryMain .sortCon .erSort .cateList .cateItem[data-v-23c53d25]{text-align:center;padding:0 20px;display:inline-block;color:#888;font-size:12px;margin-bottom:12px;cursor:pointer}.categoryMain .sortCon .erSort .cateList .cateItem[data-v-23c53d25]:hover{color:#e93323}",""]),t.exports=e},457:function(t,e,o){"use strict";var n={name:"categoryList",data:function(){return{headerList:[],seen:!1,current:-1,categoryList:[],categoryCurrent:null}},head:function(){},beforeMount:function(){this.getHeaderList(),this.getCategoryList()},mounted:function(){},methods:{enter:function(t){this.seen=!0,this.current=t,this.categoryCurrent=this.categoryList[t]},leave:function(){this.seen=!1,this.current=-1},getCategoryList:function(){var t=this;this.$axios.get("/api/store/product/category/lst").then((function(e){t.categoryList=e.data.list}))},goCate:function(t,e,o){this.seen=!1;var n="";n=t&&e?t.cate_name+"_"+t.store_category_id+","+e.cate_name+"_"+e.store_category_id+","+o.cate_name+"_"+o.store_category_id:e?e.cate_name+"_"+e.store_category_id+","+o.cate_name+"_"+o.store_category_id:o.cate_name+"_"+o.store_category_id,this.$router.push({path:"/goods_cate",query:{sid:o.store_category_id,name:encodeURI(n)}})},goUrl:function(t){t&&("http"==t.substring(0,4)?location.href=t:this.$router.push({path:t}))},getHeaderList:function(){var t=this;this.$axios.get("/api/pc/home").then((function(e){t.headerList=e.data.pc_home_tab}))}}},r=(o(455),o(6)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"categoryMain"},[o("div",{staticClass:"categoryCount"},[o("div",{staticClass:"list acea-row row-middle"},[o("div",{staticClass:"categoryBtn",on:{mouseenter:function(e){t.seen=!0}}},[t._v("\n              商品分类\n          ")]),t._v(" "),t._l(t.headerList,(function(e,n){return o("a",{key:n,staticClass:"item-link",class:{"font-color":e.link===t.$route.path||e.link===t.$route.fullPath},on:{click:function(o){return t.goUrl(e.link)}}},[t._v("\n            "+t._s(e.label)+"\n          ")])}))],2),t._v(" "),t.seen?o("div",{staticClass:"category acea-row row-middle",on:{mouseleave:function(e){return t.leave()}}},[o("div",{staticClass:"sort",class:t.categoryList.length>10?"sort-scroll":""},t._l(t.categoryList,(function(e,n){return o("div",{key:n,staticClass:"item acea-row row-between-wrapper",class:n===t.current?"bg-color":"",on:{mouseenter:function(e){return t.enter(n)}}},[o("div",{staticClass:"name line1",on:{click:function(o){return t.goCate("","",e)}}},[t._v(t._s(e.cate_name))]),t._v(" "),o("div",{staticClass:"iconfont icon-you"})])})),0),t._v(" "),t.categoryCurrent?o("div",{staticClass:"sortCon"},[o("div",{staticClass:"erSort"},t._l(t.categoryCurrent.children,(function(e,n){return o("div",{key:n,staticClass:"item acea-row"},[o("div",{staticClass:"name line1",on:{click:function(o){return t.goCate("",t.categoryCurrent,e)}}},[t._v(t._s(e.cate_name))]),t._v(" "),o("div",{staticClass:"cateList"},t._l(e.children,(function(n,r){return o("span",{key:r,staticClass:"cateItem",on:{click:function(o){return t.goCate(t.categoryCurrent,e,n)}}},[t._v("\n                  "+t._s(n.cate_name)+"\n              ")])})),0)])})),0)]):t._e()]):t._e()])])])}),[],!1,null,"23c53d25",null);e.a=component.exports},466:function(t,e,o){t.exports=o.p+"img/noCoupou.5ea35ab.png"},467:function(t,e,o){t.exports=o.p+"img/coupon-back2.a3364a6.png"},474:function(t,e,o){t.exports=o.p+"img/coupon-receive.b150456.png"},475:function(t,e,o){var content=o(547);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(3).default)("a56cd828",content,!0,{sourceMap:!1})},544:function(t,e,o){t.exports=o.p+"img/no_product.f586525.png"},545:function(t,e,o){t.exports=o.p+"img/coupon-title.762a5e2.png"},546:function(t,e,o){"use strict";var n=o(475);o.n(n).a},547:function(t,e,o){var n=o(2),r=o(50),c=o(548),d=o(549),l=o(467);e=n(!1);var f=r(c),v=r(d),m=r(l);e.push([t.i,".trader[data-v-2ea77f4e]{color:#fff;background-color:#e93323;display:inline-block;width:32px;height:18px;line-height:18px;text-align:center;border-radius:2px;margin-right:5px;font-size:12px}.cate_name[data-v-2ea77f4e]{cursor:pointer}.cate_name.on[data-v-2ea77f4e]{color:#e93323}.coupon-center[data-v-2ea77f4e]{background-image:url("+f+");background-repeat:no-repeat;background-size:100%}.title-section[data-v-2ea77f4e]{padding-top:40px;padding-bottom:40px;text-align:center}.title-section img[data-v-2ea77f4e]{display:inline-block;width:200px;height:48px;vertical-align:middle}.title-selection[data-v-2ea77f4e]{background:#fff;width:1200px;height:80px;margin:0 auto;display:flex;align-items:center;padding:0 30px}.title-selection .title-item[data-v-2ea77f4e]{margin-right:20px;padding:3px 18px;border-radius:21px;border:1px solid #bbb;color:#666;cursor:pointer}.title-selection .title-item.on[data-v-2ea77f4e]{color:#fff;background-color:#e93323;border-color:#e93323}.main-bd[data-v-2ea77f4e]{width:1200px;margin:30px auto 0}.main-bd .item[data-v-2ea77f4e]{width:380px;height:160px;margin-right:30px;margin-bottom:20px;background:url("+v+") 50%/cover no-repeat;box-shadow:0 3px 20px rgba(0,0,0,.08)}.main-bd .item.disabled[data-v-2ea77f4e]{background:url("+m+") 50%/cover no-repeat;pointer-events:none;cursor:not-allowed}.main-bd .item[data-v-2ea77f4e]:nth-child(3n){margin-right:0}.main-bd .item .text[data-v-2ea77f4e]{flex:1;padding-left:14px;display:flex;align-items:center}.main-bd .item .product[data-v-2ea77f4e],.main-bd .item .product img[data-v-2ea77f4e]{width:100px;height:100px}.main-bd .item .coupon-desc[data-v-2ea77f4e]{margin-left:20px}.main-bd .item .coupon-desc .price[data-v-2ea77f4e]{display:flex;align-items:baseline;color:#969696;font-size:12px}.main-bd .item .coupon-desc .price p[data-v-2ea77f4e]{font-size:16px;color:#e93323}.main-bd .item .coupon-desc .price p span[data-v-2ea77f4e]{font-size:28px;font-weight:700}.main-bd .item .coupon-title[data-v-2ea77f4e]{color:#282828;font-size:14px;line-height:22px;margin-top:12px;display:flex;align-items:center}.main-bd .item .coupon-title .coupon-label[data-v-2ea77f4e]{color:#e93323;font-size:12px;background:rgba(233,51,35,.1);padding:0 7px;line-height:20px;border-radius:10px;text-align:center}.main-bd .item .coupon-title .title[data-v-2ea77f4e]{display:inline-block;max-width:120px;margin-left:5px}.main-bd .item .btn[data-v-2ea77f4e]{width:52px;padding-right:18px;padding-left:18px;font-size:16px;color:#fff;cursor:pointer}.main-bd .item .btn.disabled[data-v-2ea77f4e]{pointer-events:none;cursor:not-allowed}.main-bd .item .btn a[data-v-2ea77f4e]{color:#fff}.coupon-poupon[data-v-2ea77f4e]{width:100%;height:100%;background-color:rgba(0,0,0,.5);position:fixed;top:0;left:0;z-index:100}.poupon-count[data-v-2ea77f4e]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:54px 0 60px;background:#fff;width:370px;height:400px;text-align:center}.poupon-count .closeBtn[data-v-2ea77f4e]{color:#939393;position:absolute;top:20px;right:20px;text-align:center;font-size:20px;cursor:pointer}.poupon-count .coupon-image[data-v-2ea77f4e]{text-align:center}.poupon-count .coupon-image img[data-v-2ea77f4e]{display:inline-block;width:120px;height:120px}.poupon-count .coupon-title[data-v-2ea77f4e]{margin-top:24px}.poupon-count .coupon-title .text[data-v-2ea77f4e]{color:#e93323;font-size:20px}.poupon-count .coupon-title .message[data-v-2ea77f4e]{margin-top:10px;color:#939393}.poupon-count .useBtn[data-v-2ea77f4e]{margin:46px auto 0;width:150px;height:42px;line-height:42px;border-radius:4px;background:#e93323;display:block;color:#fff}",""]),t.exports=e},548:function(t,e,o){t.exports=o.p+"img/coupon-center.3b19917.png"},549:function(t,e,o){t.exports=o.p+"img/coupon-back3.7a42244.png"},717:function(t,e,o){"use strict";o.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-section"},[e("img",{attrs:{src:o(545)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"coupon-image"},[e("img",{attrs:{src:o(474),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"coupon-title"},[e("div",{staticClass:"text"},[this._v("恭喜您，领取成功")]),this._v(" "),e("div",{staticClass:"message"},[this._v("感谢您的参与，祝您购物愉快")])])}],r=(o(82),o(26),o(25),o(4)),c={name:"goods_cate",auth:!1,components:{categoryList:o(457).a},data:function(){return{titleName:"",couponList:[],coupon_id:"",pullRefreshss:!0,page:1,limit:15,scollY:null,total:0,title:"下拉加载更多",cid:0,sid:"",order:"",priceOrder:"",price_on:"",price_off:"",news:0,is_multiple:!1,checkedBrands:[],is_showMore:!0,search:"",couponType:-1,typeList:[{label:"全部",val:"-1"},{label:"通用券",val:"10"},{label:"品类券",val:"11"},{label:"跨店券",val:"12"},{label:"店铺券",val:"0"}],isReceive:!1}},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.app,o=t.query,e.abrupt("return",{keyword:o.title?o.title:"",sid:o.sid?o.sid:"",titleName:o.name?decodeURI(o.name).split(","):""});case 2:case"end":return e.stop()}}),e)})))()},watch:{$route:{handler:function(t,e){this.keyword=t.query.title?t.query.title:"",this.sid=t.query.sid?t.query.sid:"",this.titleName=t.query.name?decodeURI(t.query.name).split(","):"",this.page=1,this.getCouponList()},deep:!0}},fetch:function(t){var e=t.store;e.commit("isBanner",!1),e.commit("isHeader",!0),e.commit("isFooter",!0)},head:function(){return{title:"领券中心-"+this.$store.state.titleCon}},beforeMount:function(){this.searchVal=this.$route.query.title,this.sid=this.$route.query.sid||"",this.getCouponList("")},mounted:function(){},beforeDestroy:function(){},methods:{getCouponList:function(t){var e=this;e.page=t||e.page;var o=-1==e.couponType?"":e.couponType,n={page:e.page,limit:e.limit,type:o,product:1};e.$axios.get("/api/coupon/getlst",{params:n}).then((function(t){e.total=t.data.count,e.couponList=t.data.list})).catch((function(t){e.$message.error(t)}))},bindPageCur:function(data){this.page=data,this.getCouponList("")},changeType:function(t){this.couponType=t,this.getCouponList(1)},parsePrice:function(t){return parseInt(t)},getReceive:function(t){var e=this;e.$axios.post("/api/coupon/receive/"+t.coupon_id).then((function(o){e.isReceive=!0,t.issue=!0,e.coupon_id=t.coupon_id})).catch((function(t){e.$message.error(t)}))},closeCoupon:function(){this.isReceive=!1}}},d=(o(546),o(6)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"goods_cate"},[n("category-List",{ref:"cateGory"}),t._v(" "),n("div",{staticClass:"coupon-center"},[t._m(0),t._v(" "),n("div",{staticClass:"title-selection"},t._l(t.typeList,(function(e,o){return n("div",{staticClass:"title-item",class:e.val==t.couponType?"on":"",on:{click:function(o){return t.changeType(e.val)}}},[n("span",[t._v(t._s(e.label))])])})),0)]),t._v(" "),n("div",{staticClass:"main-bd"},[t.couponList.length>0?n("div",[n("div",{staticClass:"list acea-row"},t._l(t.couponList,(function(e){return n("div",{key:e.id,staticClass:"item acea-row",class:e.ProductLst.length>0?"":"disabled"},[n("div",{staticClass:"text"},[n("div",{staticClass:"product"},[e.ProductLst&&e.ProductLst[0]?n("img",{attrs:{src:e.ProductLst[0].image}}):n("img",{attrs:{src:o(544),alt:""}})]),t._v(" "),n("div",{staticClass:"coupon-desc"},[n("div",{staticClass:"price"},[n("p",[t._v("¥"),n("span",[t._v(t._s(e.coupon_price))])]),t._v(" "),0==e.use_min_price?n("span",{staticClass:"used"},[t._v("无门槛使用")]):n("span",{staticClass:"used"},[t._v("满"+t._s(t.parsePrice(e.use_min_price))+"可用")])]),t._v(" "),n("div",{staticClass:"coupon-title"},[n("span",{staticClass:"coupon-label"},[t._v(t._s(0==e.type?"店铺券":1==e.type?"商品券":11==e.type?"品类券":12==e.type?"跨店券":"通用券"))]),t._v(" "),n("span",{staticClass:"title line1"},[t._v(t._s(e.title))])])]),t._v(" "),n("div",{staticClass:"text-cont acea-row row-middle"})]),t._v(" "),e.issue?n("div",{staticClass:"btn acea-row row-middle"},[e.ProductLst.length>0?n("nuxt-link",{attrs:{to:{path:"/goods_coupon",query:{id:e.coupon_id}}}},[t._v("去使用")]):n("div",[t._v("去使用")])],1):n("div",{staticClass:"btn acea-row row-middle",class:e.ProductLst.length>0?"":"disabled",on:{click:function(o){return t.getReceive(e)}}},[t._v("立即领取")])])})),0),t._v(" "),t.total>0?n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,pageSize:t.limit},on:{"current-change":t.bindPageCur}}):t._e()],1):t._e(),t._v(" "),0==t.couponList.length?n("div",{staticClass:"empty-box"},[n("img",{attrs:{src:o(466),alt:""}}),t._v(" "),n("p",[t._v("亲，暂无可使用优惠券哟~")])]):t._e()])],1),t._v(" "),t.isReceive?n("div",{staticClass:"coupon-poupon"},[n("div",{staticClass:"poupon-count"},[n("span",{staticClass:"closeBtn iconfont icon-guanbi",on:{click:t.closeCoupon}}),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("nuxt-link",{staticClass:"useBtn",attrs:{to:{path:"/goods_coupon",query:{id:t.coupon_id}}}},[t._v("\n          立即使用\n      ")])],1)]):t._e()])}),n,!1,null,"2ea77f4e",null);e.default=component.exports}}]);