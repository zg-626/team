(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-activity-registrate_activity-index"],{7581:function(t,e,a){"use strict";a.r(e);var i=a("cad3"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"786c":function(t,e,a){var i=a("93aa");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("135fa4fd",i,!0,{sourceMap:!1,shadowMode:!1})},"78c3":function(t,e,a){"use strict";a.r(e);var i=a("e695"),n=a("7581");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("b426");var o=a("f0c5"),r=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"939665b0",null,!1,i["a"],void 0);e["default"]=r.exports},"93aa":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */[data-v-939665b0] uni-radio .wx-radio-input.wx-radio-input-checked,[data-v-939665b0] uni-radio .uni-radio-input.uni-radio-input-checked{border:1px solid var(--view-theme)!important;background-color:var(--view-theme)!important}[data-v-939665b0] uni-checkbox .uni-checkbox-input.uni-checkbox-input-checked,[data-v-939665b0] uni-checkbox .wx-checkbox-input.wx-checkbox-input-checked{border:1px solid var(--view-theme)!important;background-color:var(--view-theme)!important;color:#fff!important}.personal-data[data-v-939665b0]{padding-bottom:%?150?%;padding-bottom:calc(150rpx+ constant(safe-area-inset-bottom));padding-bottom:calc(%?150?% + env(safe-area-inset-bottom));min-height:100vh}.personal-data .activity-pic[data-v-939665b0]{display:flex;align-items:center;justify-content:center}.personal-data .activity-pic .image[data-v-939665b0]{width:100%}.personal-data .wrapper[data-v-939665b0]{background-color:#fff;width:%?710?%;border-radius:%?16?%;margin:0 auto;position:relative;top:%?-20?%}.personal-data .wrapper + .wrapper[data-v-939665b0]{margin-top:%?20?%}.form-wrapper[data-v-939665b0]{pointer-events:none}.personal-data .wrapper .text-info[data-v-939665b0]{padding:%?30?%}.personal-data .wrapper .text-info > uni-view + uni-view[data-v-939665b0]{margin-top:%?30?%}.personal-data .wrapper .text-info .activity-name[data-v-939665b0]{justify-content:space-between}.personal-data .wrapper .text-info .activity-name .title[data-v-939665b0]{width:%?580?%;color:#282828;font-size:%?32?%;font-weight:700}.personal-data .wrapper .text-info .share[data-v-939665b0]{text-align:center;color:#666;font-size:%?18?%;cursor:pointer}.personal-data .wrapper .text-info .share .icon-fenxiang4[data-v-939665b0]{display:block;color:#282828;font-size:%?34?%;margin:0 0 %?3?% 0}.personal-data .wrapper .text-info .iconfont[data-v-939665b0]{margin-right:%?17?%}.personal-data .wrapper .text-info .activity-item[data-v-939665b0]{display:flex;align-items:center}.personal-data .wrapper .text-info .iconfont[data-v-939665b0]{color:#666}.personal-data .wrapper .text-info .info[data-v-939665b0]{color:#282828}.personal-data .wrapper .text-info .info.info-theme[data-v-939665b0]{color:var(--view-theme)}.personal-data .wrapper .text-info .acea-info[data-v-939665b0]{width:%?600?%;text-align:justify;word-break:break-all}.personal-data .wrapper .item .name[data-v-939665b0]{position:relative;width:%?190?%}.personal-data .wrapper .item[data-v-939665b0]{padding:%?27?% %?30?%;font-size:%?28?%;color:#282828;position:relative}.personal-data .wrapper .item[data-v-939665b0]::after{content:"";width:%?670?%;border-bottom:1px solid #eee;position:absolute;bottom:0}.personal-data .wrapper .disabled[data-v-939665b0]{pointer-events:none}.personal-data .wrapper .item.on[data-v-939665b0]{padding:%?16?% %?30?%;align-items:baseline}.personal-data .wrapper .item.on3[data-v-939665b0]{align-items:baseline}.personal-data .wrapper .item .discount[data-v-939665b0]{color:#282828;font-size:%?30?%}.personal-data .wrapper .item.on .discount[data-v-939665b0],\n.personal-data .wrapper .item.on3 .discount[data-v-939665b0]{width:%?460?%;text-align:right}.personal-data .wrapper .item .item-select[data-v-939665b0]{color:#282828}.personal-data .wrapper .item.on3 .discount .city[data-v-939665b0]{width:%?400?%;color:#ccc}.personal-data .wrapper .item.on3 .discount .city.item-select[data-v-939665b0]{color:#282828}.personal-data .wrapper .item .discount uni-input[data-v-939665b0]{text-align:right;width:%?450?%}.personal-data .wrapper .item .discount .iconfont[data-v-939665b0]{color:#bbb;font-size:%?28?%;margin-left:%?15?%}.personal-data .wrapper .item .discount .num[data-v-939665b0]{font-size:%?32?%;margin-right:%?20?%}.personal-data .wrapper .item .discount .radio[data-v-939665b0]{margin:0 %?22?% 0 %?22?%;padding:%?10?% 0}.personal-data .wrapper .item .discount .radio[data-v-939665b0] uni-checkbox .uni-checkbox-input{border-radius:0}.personal-data .wrapper .item uni-textarea[data-v-939665b0]{background-color:#f9f9f9;width:%?650?%;height:%?140?%;border-radius:%?3?%;margin-top:%?30?%;padding:%?25?% %?28?%;box-sizing:border-box}.personal-data .wrapper .item .placeholder[data-v-939665b0]{color:#ccc;font-size:%?30?%}.asterisk[data-v-939665b0]{color:red}.footer[data-v-939665b0]{background:#fff;width:%?750?%;height:%?126?%;height:calc(126rpx+ constant(safe-area-inset-bottom));height:calc(%?126?% + env(safe-area-inset-bottom));display:flex;align-items:center;justify-content:center;position:fixed;left:0;bottom:0}.personal-data .modifyBnt[data-v-939665b0]{font-size:%?32?%;color:var(--view-theme);background-color:#fff;border:1px solid var(--view-theme);width:%?690?%;height:%?90?%;border-radius:%?50?%;text-align:center;line-height:%?90?%}.personal-data .modifyBnt.disabled[data-v-939665b0]{color:#fff;background-color:#bbb;border-color:#bbb}.success[data-v-939665b0]{z-index:10;position:fixed;left:0;top:0;width:100%;height:100%}.success .bg[data-v-939665b0]{position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.5)}.success .con[data-v-939665b0]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;width:%?520?%;height:%?526?%;background:#fff;border-radius:%?10?%;font-size:%?34?%;color:#282828}.success .con uni-image[data-v-939665b0]{width:%?214?%;height:%?180?%}.success .con .title[data-v-939665b0]{color:#282828;font-size:%?32?%;font-weight:700}.success .con .text[data-v-939665b0]{color:#999;font-size:%?26?%;margin-top:%?30?%}.success .con .foot[data-v-939665b0]{height:%?78?%;border-top:1px solid #eaeaea;display:flex;align-items:center;justify-content:center;width:100%;position:absolute;bottom:0;left:0}.success .con .foot .btn[data-v-939665b0]{color:#999;font-size:%?26?%;width:50%;text-align:center;height:%?78?%;display:flex;align-items:center;justify-content:center}.success .con .foot .btn + .btn[data-v-939665b0]{color:#e93323;position:relative}.success .con .foot .btn + .btn[data-v-939665b0]::before{content:"";display:block;width:1px;height:%?78?%;background:#eaeaea;position:absolute;left:0;top:0}.generate-posters[data-v-939665b0]{width:100%;height:%?170?%;background-color:#fff;position:fixed;left:0;bottom:0;z-index:301;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);transition:all .3s cubic-bezier(.25,.5,.5,.9);border-top:%?1?% solid #eee}.generate-posters.on[data-v-939665b0]{-webkit-transform:translateZ(0);transform:translateZ(0)}.generate-posters .item[data-v-939665b0]{flex:50%;text-align:center;font-size:%?30?%}.generate-posters .item.item3[data-v-939665b0]{flex:33.33%}.generate-posters .item .iconfont[data-v-939665b0]{font-size:%?80?%;color:#5eae72}.generate-posters .item .iconfont.icon-haibao[data-v-939665b0]{color:#5391f1}.generate-posters .item .iconfont.icon-fuzhikouling1[data-v-939665b0]{color:#fbb324}.distribution-posters[data-v-939665b0]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#a3a3a3}.canvas[data-v-939665b0]{width:100%;position:absolute;top:0;left:0}.box[data-v-939665b0]{width:100%;height:100%;position:relative;border-radius:%?18?%;overflow:hidden}.box .user-msg[data-v-939665b0]{position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.box .user-msg .user-code[data-v-939665b0]{width:100%;display:flex;align-items:center;justify-content:center;justify-content:space-between}.box .user-msg .user-code uni-image[data-v-939665b0]{width:100%}.img-list[data-v-939665b0]{margin-right:40px}.distribution-posters uni-swiper[data-v-939665b0]{width:100%;height:%?1000?%;position:relative;margin-top:%?40?%}.distribution-posters .slide-image[data-v-939665b0]{width:100%;height:100%;margin:0 auto;border-radius:%?15?%}.distribution-posters[data-v-939665b0] .active{-webkit-transform:none;transform:none;transition:all .2s ease-in 0s}.distribution-posters[data-v-939665b0] .quiet{-webkit-transform:scale(.83333);transform:scale(.83333);transition:all .2s ease-in 0s}.distribution-posters .keep[data-v-939665b0]{font-size:%?30?%;color:#fff;width:%?600?%;height:%?80?%;border-radius:%?50?%;text-align:center;line-height:%?80?%;margin:%?38?% auto;background-color:var(--view-theme)}.share-box[data-v-939665b0]{z-index:1000;position:fixed;left:0;top:0;width:100%;height:100%}.share-box uni-image[data-v-939665b0]{width:100%;height:100%}',""]),t.exports=e},b3f2:function(t,e,a){"use strict";a("7a82");var i=a("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("577a"),s=i(a("b8fd")),o=function(t,e){t&&s.default.set("spread",t||0),t&&e&&(0,n.spread)(t).then((function(t){}))};e.default=o},b426:function(t,e,a){"use strict";var i=a("786c"),n=a.n(i);n.a},cad3:function(t,e,a){"use strict";a("7a82");var i=a("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("14d9"),a("d3b7"),a("159b"),a("99af"),a("4e82"),a("c975"),a("b64b"),a("d81d"),a("a434"),a("498a"),a("ac1f"),a("00b4"),a("3ca3"),a("ddb0");var n=i(a("f07e")),s=i(a("c964")),o=i(a("d0ff")),r=i(a("f3f3")),l=a("577a"),c=i(a("b3f2")),u=(a("d2aa"),a("26cb")),d=a("1ccf"),v=a("4425"),f=i(a("169e")),p=i(a("7c8f")),m=i(a("81c4")),h={},g={data:function(){return{domain:v.HTTP_REQUEST_URL,userInfo:{},activityData:{},formData:{},loginType:"h5",activity_id:"",isShowbox:!1,selectIndex:0,timerangesIndex:0,newImg:[],display:!1,cityShow:2,addressInfoArea:[],timeranges:[],mp_is_new:this.$Cache.get("MP_VERSION_ISNEW")||!1,posters:!1,weixinStatus:!1,posterStatus:!1,H5ShareBox:!1,disabled:!1,isShow:!1,imgUrls:[],indicatorDots:!1,posterImageStatus:!0,circular:!1,autoplay:!1,interval:3e3,duration:500,swiperIndex:0,spreadList:[],spid:"",poster:"",spreadData:[{}],nickName:"",siteName:"",mpUrl:"",canvasImageUrl:"",posterImage:[],codeShow:!1,cid:"1",ifShow:!0,val:"",size:200,unit:"upx",background:"#FFF",foreground:"#000",pdground:"#32dbc6",icon:"",iconsize:40,lv:3,onval:!0,loadMake:!0,src:"",codeSrc:"",wd:225,hg:500}},components:{areaWindow:p.default,timeranges:m.default},computed:(0,r.default)({},(0,u.mapGetters)(["isLogin","viewColor","keyColor"])),watch:{},onLoad:function(t){this.activity_id=t.id,this.spid=t.spid;var e=(0,f.default)(new Date(Number((new Date).getTime()))).format("HH:mm").split(":"),a=e;a.push(0);var i=[];[].concat((0,o.default)(a),(0,o.default)(e)).forEach((function(t){i.push(Number(t))})),this.timeranges=i,this.isLogin?(this.registrateDetail(),(0,c.default)(this.spid,this.isLogin)):(0,d.toLogin)()},onShow:function(){},methods:{compareTime:function(t){var e=new Date(t),a=new Date;return e>a||!(e<=a)&&void 0},formatDate:function(t){var e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),n=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,n=n<10?"0"+n:n,s=s<10?"0"+s:s,o=o<10?"0"+o:o,e+"."+a+"."+i+"."+n+":"+s},registrateDetail:function(){var t=this,e=this;uni.showLoading(),(0,l.registrateDetail)(e.activity_id).then((function(a){uni.hideLoading();var i=a.data;if(i.activity_related_id)e.disabled=!0,e.getRecordDetail(i.activity_related_id);else{if(e.$set(e,"activityData",i),e.disabled=!e.compareTime(i.end_time),e.disabled)return t.$util.Tips({title:"活动已结束"},{tab:3,url:1});if(!i.systemForm||!i.systemForm.value)return t.$util.Tips({title:"关联表单已被删除"},{tab:3,url:1});var n=e.objToArr(i.systemForm.value);e.filterData(n)}})).catch((function(e){return uni.hideLoading(),t.$util.Tips({title:e},{tab:3,url:1})}))},getRecordDetail:function(t){var e=this;(0,l.registrateRecordDetail)(t).then((function(t){uni.hideLoading();var a=t.data;e.$set(e,"activityData",a.activity);var i=e.objToArr(a.form_value);i.forEach((function(t,e){for(var i in a.value)t["key"]==i&&(t.value=a.value[i],"checkboxs"!=t["name"]&&"radios"!=t["name"]||function(){var e=a.value[i].split(",");t["wordsConfig"]["list"].forEach((function(a,i){e.forEach((function(e,n){a["val"]==e&&(t["wordsConfig"]["list"][i]["show"]=!0)}))}))}())})),i.sort((function(t,e){return t.timestamp-e.timestamp})),e.$set(e,"formData",i)})).catch((function(t){return uni.hideLoading(),e.$util.Tips({title:t},{tab:3,url:1})}))},filterData:function(t){var e=this;t.forEach((function(t,a,i){if(e.$set(t,"value",""),h[a]="","texts"==t.name)t.defaultValConfig.value?t.value=t.defaultValConfig.value:t.value="";else if("radios"==t.name)t.value=t.wordsConfig.list[0].val;else if("uploadPicture"==t.name)t.value=[];else if("dateranges"==t.name)if(0==t.valConfig.tabVal)if(0==t.valConfig.tabData){var n=(0,f.default)(new Date(Number((new Date).getTime()))).format("YYYY-MM-DD");t.value=[n,n]}else{var s=(0,f.default)(new Date(Number(new Date(t.valConfig.specifyDate[0]).getTime()))).format("YYYY-MM-DD"),o=(0,f.default)(new Date(Number(new Date(t.valConfig.specifyDate[1]).getTime()))).format("YYYY-MM-DD");t.value=[s,o]}else t.value=[];else if(-1!=["times","dates","timeranges"].indexOf(t.name))if(0==t.valConfig.tabVal)if(0==t.valConfig.tabData)if("times"==t.name)t.value=(0,f.default)(new Date(Number((new Date).getTime()))).format("HH:mm");else if("dates"==t.name)t.value=(0,f.default)(new Date(Number((new Date).getTime()))).format("YYYY-MM-DD");else{var r=(0,f.default)(new Date(Number((new Date).getTime()))).format("HH:mm");t.value=r+" - "+r}else"times"==t.name||"dates"==t.name?t.value=t.valConfig.specifyDate:t.value=t.valConfig.specifyDate[0]+" - "+t.valConfig.specifyDate[1];else t.value="";else t.name,t.value=""})),t.sort((function(t,e){return t.timestamp-e.timestamp})),e.$set(e,"formData",t)},objToArr:function(t){var e=Object.keys(t),a=e.map((function(e){return t[e]}));return a},radioChange:function(t,e,a){this.formData[e].value=a.wordsConfig.list[t.detail.value].val},clickTextArea:function(){this.$refs.textarea.focus()},bindDateChange:function(t,e){this.formData[e].value=t.target.value,this.$forceUpdate()},bindTimeChange:function(t,e){this.formData[e].value=t.target.value},bindSelectChange:function(t,e,a){this.$set(this.formData[e],"value",a.wordsConfig.list[t.detail.value].val)},getTimeranges:function(t){this.isShow=!0,this.timerangesIndex=t},confrim:function(t){this.isShow=!1,this.formData[this.timerangesIndex].value=t.time;var e=[];t.val.forEach((function(t){e.push(Number(t))})),this.timeranges=e},cancels:function(){this.isShow=!1},checkboxChange:function(t,e,a){var i=t.detail.value,n="";a.wordsConfig.list.forEach((function(t,e){i.forEach((function(a){e==a&&(n=n+(n?",":"")+t.val)}))})),this.formData[e].value=n},OnAreaAddress:function(t){var e;e=t.map((function(t){return t.name})).join("/"),this.formData[this.timerangesIndex].value=e,h[this.timerangesIndex]=t},changeRegion:function(t){this.formData[t].value||(this.addressInfoArea=[]),this.timerangesIndex=t,this.cityShow=Number(this.formData[t].valConfig.tabVal)+1,this.display=!0,h[t]&&(this.addressInfoArea=h[t])},changeAddressClose:function(){this.display=!1},uploadpic:function(t){var e=this;this.$util.uploadImageOne("upload/image",(function(a){e.newImg.push(a.data.path),e.$set(e.formData[t],"value",e.newImg)}))},DelPic:function(t,e){this.formData[t].value;this.formData[t].value.splice(e,1),this.$set(this.formData[t],"value",this.formData[t].value)},formSubmit:function(t){var e=this,a={};if(e.isLogin)for(var i=0;i<e.formData.length;i++){var n=e.formData[i];if(-1==["radios"].indexOf(n.name)&&(n.titleShow.val||-1==["uploadPicture","dateranges"].indexOf(n.name)&&n.value&&n.value.trim())){if(("texts"===n.name&&0==n.valConfig.tabVal||-1!=["dates","times","selects","citys","checkboxs"].indexOf(n.name))&&(!n.value||n.value&&!n.value.trim()))return e.$util.Tips({title:"请选择".concat(n.titleConfig.value)});if("timeranges"===n.name&&!n.value)return e.$util.Tips({title:"请选择".concat(n.titleConfig.value)});if("dateranges"===n.name&&!n.value.length)return e.$util.Tips({title:"请选择".concat(n.titleConfig.value)});if("texts"===n.name&&4==n.valConfig.tabVal&&n.value<=0)return e.$util.Tips({title:"请填写大于0的".concat(n.titleConfig.value)});if("texts"===n.name&&3==n.valConfig.tabVal&&!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(n.value))return e.$util.Tips({title:"请填写正确的".concat(n.titleConfig.value)});if("texts"===n.name&&1==n.valConfig.tabVal&&!/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.value))return e.$util.Tips({title:"请填写正确的".concat(n.titleConfig.value)});if("texts"===n.name&&2==n.valConfig.tabVal&&!/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/i.test(n.value))return e.$util.Tips({title:"请填写正确的".concat(n.titleConfig.value)});if("uploadPicture"===n.name&&!n.value.length)return e.$util.Tips({title:"请上传".concat(n.titleConfig.value)})}a[n.key]=n.value}else(0,d.toLogin)();uni.showLoading({title:"提交中",mask:!0}),(0,l.registrateCreate)(e.activity_id,a).then((function(t){uni.hideLoading(),e.isShowbox=!0})).catch((function(t){return uni.hideLoading(),e.$util.Tips({title:t})}))},listenerActionSheet:function(){0==this.isLogin?(0,d.toLogin)():(!0===this.$wechat.isWeixin()&&(this.weixinStatus=!0),this.posters=!this.posters)},listenerActionClose:function(){this.posters=!1},bindchange:function(t){this.swiperIndex=t.detail.current},goPoster:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.posters=!1,a.posterStatus=!0,t.isShowbox=!1,t.$nextTick((function(){var e=uni.createSelectorQuery().select(".aaa");e.fields({size:!0},(function(e){t.wd=e.width,t.hg=e.height})).exec()})),e.next=7,t.getPosters();case 7:case"end":return e.stop()}}),e)})))()},getPosters:function(){var t=this;return(0,s.default)((0,n.default)().mark((function e(){var a,i,s,o,r;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,{id:a.activityData.activity_id,type:"h5"},e.next=4,(0,l.registratePoster)(a.activityData.activity_id);case 4:return i=e.sent,a.spreadData=i.data.poster,a.nickName=i.data.nickname,e.next=9,a.imgToBase(i.data.qrcode);case 9:s=e.sent,uni.showLoading({title:"海报生成中",mask:!0}),o=(0,n.default)().mark((function t(e){var o,r;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=void 0,t.next=3,a.imgToBase(i.data.poster[e]);case 3:r=t.sent,o=[s,r],a.$util.userPosterCanvas(o,i.data.nickname,i.data.mark,e,a.wd,a.hg,(function(t){a.$set(a.posterImage,e,t)})),uni.hideLoading();case 7:case"end":return t.stop()}}),t)})),r=0;case 13:if(!(r<i.data.poster.length)){e.next=18;break}return e.delegateYield(o(r),"t0",15);case 15:r++,e.next=13;break;case 18:case"end":return e.stop()}}),e)})))()},imgToBase:function(t){return(0,s.default)((0,n.default)().mark((function e(){var a;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.imgToBase)({image:t});case 2:return a=e.sent,e.abrupt("return",a.data.image);case 4:case"end":return e.stop()}}),e)})))()},downloadFilestoreImage:function(t){var e=this;return new Promise((function(a,i){var n=e;uni.downloadFile({url:t,success:function(t){a(t.tempFilePath)},fail:function(){return n.$util.Tips({title:""})}})}))},savePosterPath:function(t){},goFriend:function(){this.posters=!1}}};e.default=g},e695:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={uniDatetimePicker:a("79777").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{style:"background-color: "+t.activityData.color},[t.posterStatus?t._e():a("v-uni-form",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[t.activityData.activity_name?a("v-uni-view",{staticClass:"personal-data",style:t.viewColor},[a("v-uni-view",{staticClass:"list"},[a("v-uni-view",{staticClass:"activity-pic"},[a("v-uni-image",{staticClass:"image",attrs:{src:t.activityData.pic,mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"wrapper"},[a("v-uni-view",{staticClass:"text-info"},[a("v-uni-view",{staticClass:"acea-row activity-name"},[a("v-uni-view",{staticClass:"title line2"},[t._v(t._s(t.activityData.activity_name))]),a("v-uni-view",{staticClass:"share",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listenerActionSheet.apply(void 0,arguments)}}},[a("i",{staticClass:"iconfont icon-fenxiang4"}),t._v("分享")])],1),a("v-uni-view",{staticClass:"activity-item"},[a("v-uni-view",{staticClass:"iconfont icon-huodong-shijian"}),t.activityData.start_time&&t.activityData.end_time?a("v-uni-view",{staticClass:"info"},[t._v(t._s(t.formatDate(new Date(t.activityData.start_time)))+" - "+t._s(t.formatDate(new Date(t.activityData.end_time))))]):t._e()],1),a("v-uni-view",{staticClass:"activity-item"},[a("v-uni-view",{staticClass:"iconfont icon-huodong-renshu"}),a("v-uni-view",{staticClass:"info"},[t._v(t._s(0==t.activityData.count?"不限人数":t.activityData.count+"人"))])],1),a("v-uni-view",{staticClass:"activity-item"},[a("v-uni-view",{staticClass:"iconfont icon-huodong-renshu"}),a("v-uni-view",{staticClass:"info info-theme"},[t._v(t._s(t.activityData.total)+"人")])],1),a("v-uni-view",{staticClass:"acea-row"},[a("v-uni-view",{staticClass:"iconfont icon-huodong-jianjie"}),a("v-uni-view",{staticClass:"info acea-info"},[t._v(t._s(t.activityData.info))])],1)],1)],1),t.formData.length?a("v-uni-view",{staticClass:"wrapper",class:{"form-wrapper":t.disabled}},t._l(t.formData,(function(e,i){return a("v-uni-view",{key:i,staticClass:"item acea-row row-between-wrapper",class:{on:"radios"==e.name||"checkboxs"==e.name,on2:"dateranges"==e.name,on3:"citys"==e.name}},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(e.titleConfig.value)),e.titleShow.val?a("span",{staticClass:"asterisk"},[t._v("*")]):t._e()]),"radios"==e.name?a("v-uni-view",{staticClass:"discount"},[a("v-uni-radio-group",{staticClass:"acea-row row-middle row-right item-select",class:1==t.disabled?"disabled":"",on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.radioChange(a,i,e)}}},t._l(e.wordsConfig.list,(function(e,i){return a("v-uni-label",{key:i,staticClass:"radio"},[a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-radio",{attrs:{value:i.toString(),checked:e.show}}),a("v-uni-view",[t._v(t._s(e.val))])],1)],1)})),1)],1):t._e(),"checkboxs"==e.name?a("v-uni-view",{staticClass:"discount"},[a("v-uni-checkbox-group",{staticClass:"acea-row row-middle row-right item-select",class:1==t.disabled?"disabled":"",on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.checkboxChange(a,i,e)}}},t._l(e.wordsConfig.list,(function(e,i){return a("v-uni-label",{key:i,staticClass:"radio"},[a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-checkbox",{staticStyle:{transform:"scale(0.9)"},attrs:{value:i.toString(),checked:e.show}}),a("v-uni-view",[t._v(t._s(e.val))])],1)],1)})),1)],1):t._e(),"texts"==e.name&&0==e.valConfig.tabVal?a("v-uni-view",{staticClass:"discount"},[a("v-uni-input",{attrs:{type:"text",placeholder:e.tipConfig.value,"placeholder-class":"placeholder",disabled:t.disabled},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1):t._e(),"texts"==e.name&&4==e.valConfig.tabVal?a("v-uni-view",{staticClass:"discount"},[a("v-uni-input",{attrs:{type:"number",placeholder:e.tipConfig.value,"placeholder-class":"placeholder",disabled:t.disabled},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1):t._e(),"texts"==e.name&&3==e.valConfig.tabVal?a("v-uni-view",{staticClass:"discount"},[a("v-uni-input",{attrs:{type:"text",placeholder:e.tipConfig.value,"placeholder-class":"placeholder",disabled:t.disabled},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1):t._e(),"dates"==e.name?a("v-uni-view",{staticClass:"discount"},[a("v-uni-picker",{class:e.value.length?"":"placeholder",attrs:{mode:"date",value:e.value},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindDateChange(e,i)}}},[a("v-uni-view",{staticClass:"acea-row row-between-wrapper"},[""==e.value?a("v-uni-view",[t._v(t._s(e.tipConfig.value))]):a("v-uni-view",[t._v(t._s(e.value))]),a("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1)],1)],1):t._e(),"dateranges"==e.name?a("v-uni-view",{staticClass:"discount",class:e.value.length?"":"placeholder"},[a("uni-datetime-picker",{class:1==t.disabled?"disabled":"",attrs:{type:"daterange"},on:{maskClick:function(e){arguments[0]=e=t.$handleEvent(e),t.maskClick.apply(void 0,arguments)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}},[t._v(t._s(e.value.length?e.value[0]+" - "+e.value[1]:e.tipConfig.value)),a("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1)],1):t._e(),"times"==e.name?a("v-uni-view",{staticClass:"discount",class:e.value.length?"":"placeholder"},[a("v-uni-picker",{class:1==t.disabled?"disabled":"",attrs:{mode:"time",value:e.value,placeholder:e.tipConfig.value},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindTimeChange(e,i)}}},[a("v-uni-view",{staticClass:"acea-row row-between-wrapper"},[""==e.value?a("v-uni-view",[t._v(t._s(e.tipConfig.value))]):a("v-uni-view",[t._v(t._s(e.value))]),a("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1)],1)],1):t._e(),"timeranges"==e.name?a("v-uni-view",{staticClass:"discount acea-row row-between-wrapper",class:e.value.length?"":"placeholder",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getTimeranges(i)}}},[e.value?a("v-uni-view",[t._v(t._s(e.value))]):a("v-uni-view",[t._v(t._s(e.tipConfig.value))]),a("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1):t._e(),"selects"==e.name?a("v-uni-view",{staticClass:"discount"},[a("v-uni-picker",{class:t.disabled?"disabled":"",attrs:{value:e.value,range:e.wordsConfig.list,"range-key":"val"},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.bindSelectChange(a,i,e)}}},[a("v-uni-view",{staticClass:"acea-row row-between-wrapper"},[e.value?a("v-uni-view",[t._v(t._s(e.value))]):a("v-uni-view",{staticClass:"placeholder"},[t._v("请选择")]),a("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1)],1)],1):t._e(),"citys"==e.name?a("v-uni-view",{staticClass:"discount",class:t.disabled?"disabled":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeRegion(i)}}},[a("v-uni-view",{staticClass:"acea-row row-middle row-right"},[""==e.value?a("v-uni-view",{staticClass:"city"},[t._v(t._s(e.tipConfig.value))]):a("v-uni-view",{staticClass:"city item-select"},[t._v(t._s(e.value))]),a("v-uni-text",{staticClass:"iconfont icon-jiantou"})],1)],1):t._e(),"texts"==e.name&&2==e.valConfig.tabVal?a("v-uni-view",{staticClass:"discount"},[a("v-uni-input",{attrs:{type:"idcard",placeholder:e.tipConfig.value,"placeholder-class":"placeholder",disabled:t.disabled},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1):t._e(),"texts"==e.name&&1==e.valConfig.tabVal?a("v-uni-view",{staticClass:"discount"},[a("v-uni-input",{attrs:{type:"number",placeholder:e.tipConfig.value,"placeholder-class":"placeholder",disabled:t.disabled},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1):t._e(),"uploadPicture"==e.name?a("v-uni-view",{staticClass:"confirmImg",staticStyle:{"padding-bottom":"0"}},[a("v-uni-view",{staticClass:"upload acea-row row-middle"},[t._l(e.value,(function(e,n){return a("v-uni-view",{key:n,staticClass:"pictrue"},[a("v-uni-image",{attrs:{src:e,mode:"aspectFill"}}),t.disabled?t._e():a("v-uni-view",{staticClass:"close acea-row row-center-wrapper",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.DelPic(i,n)}}},[a("v-uni-view",{staticClass:"iconfont icon-guanbi5"})],1)],1)})),e.value.length<e.numConfig.val&&!t.disabled?a("v-uni-view",{staticClass:"pictrue acea-row row-center-wrapper row-column",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.uploadpic(i)}}},[a("v-uni-text",{staticClass:"iconfont icon-icon25201"}),a("v-uni-view",[t._v("上传图片")])],1):t._e()],2)],1):t._e()],1)})),1):t._e()],1),a("v-uni-view",{staticClass:"footer"},[-1==t.activityData.time_status?a("v-uni-button",{staticClass:"modifyBnt disabled"},[t._v("已结束")]):t.activityData.count==t.activityData.total&&0!=t.activityData.count?a("v-uni-button",{staticClass:"modifyBnt disabled"},[t._v("已报满")]):t.disabled&&1==t.activityData.time_status?a("v-uni-button",{staticClass:"modifyBnt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listenerActionSheet.apply(void 0,arguments)}}},[t._v("分享好友")]):[1==t.activityData.time_status?a("v-uni-button",{staticClass:"modifyBnt",attrs:{formType:"submit"}},[t._v("提交报名")]):0==t.activityData.time_status?a("v-uni-button",{staticClass:"modifyBnt disabled"},[t._v("未开始")]):t._e()]],2)],1):t._e()],1),a("timeranges",{attrs:{isShow:t.isShow,time:t.timeranges},on:{confrim:function(e){arguments[0]=e=t.$handleEvent(e),t.confrim.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.cancels.apply(void 0,arguments)}}}),t.isShowbox?a("v-uni-view",{staticClass:"success"},[a("v-uni-view",{staticClass:"bg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isShowbox=!1}}}),a("v-uni-view",{staticClass:"con"},[a("v-uni-image",{attrs:{src:t.domain+"/static/images/sign_success.png",mode:""}}),a("v-uni-view",{staticClass:"title"},[t._v("报名成功")]),a("v-uni-view",{staticClass:"text"},[t._v("感谢参与，您已完成报名！")]),a("v-uni-view",{staticClass:"foot"},[a("v-uni-navigator",{staticClass:"btn",attrs:{url:"/pages/activity/my_registrate/index","hover-class":"none"}},[t._v("查看详情")]),a("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listenerActionSheet.apply(void 0,arguments)}}},[t._v("分享报名")])],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"generate-posters acea-row row-middle",class:t.posters?"on":""},[!0===t.weixinStatus?a("v-uni-button",{staticClass:"item",class:t.weixinStatus?"item3":"",attrs:{"hover-class":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.H5ShareBox=!0,t.posters=!1}}},[a("v-uni-view",{staticClass:"iconfont icon-weixin3"}),a("v-uni-view",{},[t._v("发送给朋友")])],1):t._e(),a("v-uni-button",{staticClass:"item",class:t.weixinStatus?"item3":"",attrs:{"hover-class":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPoster.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"iconfont icon-haibao"}),a("v-uni-view",{},[t._v("生成海报")])],1)],1),t.posters?a("v-uni-view",{staticClass:"mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listenerActionClose.apply(void 0,arguments)}}}):t._e(),t.H5ShareBox?a("v-uni-view",{staticClass:"share-box"},[a("v-uni-image",{attrs:{src:t.domain+"/static/images/share-info.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.H5ShareBox=!1}}})],1):t._e(),a("areaWindow",{ref:"areaWindow",attrs:{display:t.display,address:t.addressInfoArea,cityShow:t.cityShow},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.OnAreaAddress.apply(void 0,arguments)},changeClose:function(e){arguments[0]=e=t.$handleEvent(e),t.changeAddressClose.apply(void 0,arguments)}}}),t.posterStatus?a("v-uni-view",{staticClass:"distribution-posters"},[a("v-uni-swiper",{attrs:{"indicator-dots":t.indicatorDots,autoplay:t.autoplay,circular:t.circular,interval:t.interval,duration:t.duration,"previous-margin":"40px","next-margin":"40px"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindchange.apply(void 0,arguments)}}},[t._l(t.spreadData,(function(e,i){return[a("v-uni-swiper-item",{key:i+"_0",staticClass:"aaa"},[a("div",{ref:"bill",refInFor:!0,staticClass:"box",class:t.swiperIndex==i?"active":"quiet"},[a("v-uni-view",{staticClass:"user-msg"},[a("v-uni-view",{staticClass:"user-code"},[t.posterImage[i]?a("v-uni-image",{staticClass:"canvas",style:{height:t.hg+"px"},attrs:{src:t.posterImage[i]}}):a("v-uni-canvas",{staticClass:"canvas",style:{height:t.hg+"px"},attrs:{"canvas-id":"myCanvas"+i}})],1)],1)],1)])]}))],2)],1):t._e()],1)},s=[]}}]);