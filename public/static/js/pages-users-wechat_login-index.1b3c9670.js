(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-wechat_login-index"],{"0582":function(t,e,a){"use strict";var i=a("fdcd"),n=a.n(i);n.a},"176e":function(t,e,a){"use strict";a.r(e);var i=a("b5fd"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"1c3c":function(t,e,a){var i=a("65de");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("5288dfaa",i,!0,{sourceMap:!1,shadowMode:!1})},"25e5":function(t,e,a){"use strict";a.r(e);var i=a("aae8"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"44be":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{style:t.viewColor},[a("v-uni-view",{staticClass:"product-window",class:{on:t.isShow}},[a("v-uni-view",{staticClass:"iconfont icon-guanbi",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAttr.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"mp-data"},[a("v-uni-image",{attrs:{src:t.routine_logo,mode:""}}),a("v-uni-text",{staticClass:"mp-name"},[t._v(t._s(t.site_name)+" 申请")])],1),a("v-uni-view",{staticClass:"trip-msg"},[a("v-uni-view",{staticClass:"title"},[t._v("获取您的昵称、头像")]),a("v-uni-view",{staticClass:"trip"},[t._v("提供具有辨识度的用户中心界面")])],1),a("v-uni-form",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"edit"},[a("v-uni-view",{staticClass:"avatar edit-box"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-view",{staticClass:"head"},[t._v("头像")]),t.mp_is_new?a("v-uni-button",{staticClass:"avatar-box",attrs:{"open-type":"chooseAvatar"},on:{chooseavatar:function(e){arguments[0]=e=t.$handleEvent(e),t.onChooseAvatar.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:t.userInfo.avatar||t.domain+"/static/images/def_avatar.png"}})],1):a("v-uni-view",{staticClass:"avatar-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.uploadpic.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:t.userInfo.avatar||t.domain+"/static/images/def_avatar.png"}})],1)],1)],1),a("v-uni-view",{staticClass:"nickname edit-box"},[a("v-uni-view",{staticClass:"left"},[a("v-uni-view",{staticClass:"head"},[t._v("昵称")]),a("v-uni-view",{staticClass:"input"},[a("v-uni-input",{attrs:{type:"nickname","placeholder-class":"pl-sty",placeholder:"请输入昵称",name:"nickname",maxlength:16,value:t.userInfo.nickname}})],1)],1)],1)],1),a("v-uni-view",{staticClass:"bottom"},[a("v-uni-button",{staticClass:"save",class:{open:t.userInfo.avatar},attrs:{formType:"submit"}},[t._v("保存")])],1)],1)],1),t.canvasStatus?a("v-uni-canvas",{style:{width:t.canvasWidth+"px",height:t.canvasHeight+"px",position:"absolute",left:"-100000px",top:"-100000px"},attrs:{"canvas-id":"canvas"}}):t._e(),t.isShow?a("v-uni-view",{staticClass:"mask",on:{touchmove:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAttr.apply(void 0,arguments)}}}):t._e()],1)},n=[]},"5c13":function(t,e,a){"use strict";var i=a("1c3c"),n=a.n(i);n.a},"5cc5":function(t,e,a){var i=a("bb1c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("42e7a698",i,!0,{sourceMap:!1,shadowMode:!1})},"65de":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.product-window.on[data-v-6d57e6e2]{-webkit-transform:translateZ(0);transform:translateZ(0)}.product-window[data-v-6d57e6e2]{position:fixed;bottom:0;width:100%;left:0;background-color:#fff;z-index:1000;border-radius:%?40?% %?40?% 0 0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);transition:all .3s cubic-bezier(.25,.5,.5,.9);padding:%?64?% %?40?%;padding-bottom:%?38?%;padding-bottom:calc(%?38?% + constant(safe-area-inset-bottom));padding-bottom:calc(%?38?% + env(safe-area-inset-bottom));box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06)}.product-window .icon-guanbi[data-v-6d57e6e2]{position:absolute;top:%?40?%;right:%?40?%;font-size:%?24?%;font-weight:700;color:#999}.product-window .mp-data[data-v-6d57e6e2]{display:flex;align-items:center;justify-content:center;margin-bottom:%?40?%}.product-window .mp-data .mp-name[data-v-6d57e6e2]{font-size:%?34?%;font-weight:500;color:#333;line-height:%?48?%}.product-window .trip-msg[data-v-6d57e6e2]{padding-bottom:%?32?%}.product-window .trip-msg .title[data-v-6d57e6e2]{font-size:%?30?%;font-weight:700;color:#000;margin-bottom:%?6?%}.product-window .trip-msg .trip[data-v-6d57e6e2]{color:#333;font-size:%?28?%;font-family:PingFang SC-Regular,PingFang SC;font-weight:400}.product-window .trip-title[data-v-6d57e6e2]{font-size:%?28?%;font-weight:500;color:#333;margin-bottom:%?8?%}.product-window .main-color[data-v-6d57e6e2]{font-size:%?28?%;font-weight:400;color:var(--view-theme);margin-bottom:%?40?%}.product-window .bottom[data-v-6d57e6e2]{display:flex;align-items:center;justify-content:center;flex-direction:column}.product-window .bottom .save[data-v-6d57e6e2],\r\n.product-window .bottom .reject[data-v-6d57e6e2]{display:flex;align-items:center;justify-content:center;width:%?670?%;height:%?80?%;border-radius:%?80?%;background-color:#f5f5f5;color:#333;font-size:%?30?%;font-weight:500}.product-window .bottom .save[data-v-6d57e6e2]{background-color:var(--view-theme);color:#fff;margin-bottom:%?24?%}',""]),t.exports=e},"6e18":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.product-window.on[data-v-b4ac2afe]{-webkit-transform:translateZ(0);transform:translateZ(0);display:block}.mask[data-v-b4ac2afe]{z-index:99}.product-window[data-v-b4ac2afe]{position:fixed;bottom:0;width:100%;left:0;background-color:#fff;z-index:1000;border-radius:%?20?% %?20?% 0 0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);transition:all .3s cubic-bezier(.25,.5,.5,.9);padding:%?38?% %?40?%;display:none}.product-window .icon-guanbi[data-v-b4ac2afe]{position:absolute;top:%?40?%;right:%?40?%;font-size:%?24?%;font-weight:700;color:#999}.product-window .mp-data[data-v-b4ac2afe]{display:flex;align-items:center;margin-bottom:%?30?%}.product-window .mp-data .mp-name[data-v-b4ac2afe]{font-size:%?28?%;font-weight:700;color:#000}.product-window .mp-data uni-image[data-v-b4ac2afe]{width:%?48?%;height:%?48?%;border-radius:50%;margin-right:%?16?%}.product-window .trip-msg[data-v-b4ac2afe]{padding-bottom:%?32?%;border-bottom:1px solid #f5f5f5}.product-window .trip-msg .title[data-v-b4ac2afe]{font-size:%?30?%;font-weight:700;color:#000;margin-bottom:%?6?%}.product-window .trip-msg .trip[data-v-b4ac2afe]{font-size:%?26?%;color:#777}.product-window .edit[data-v-b4ac2afe]{border-bottom:1px solid #f5f5f5}.product-window .edit .avatar[data-v-b4ac2afe]{border-bottom:1px solid #f5f5f5}.product-window .edit .nickname .input[data-v-b4ac2afe]{width:100%}.product-window .edit .nickname uni-input[data-v-b4ac2afe]{height:%?80?%}.product-window .edit .edit-box[data-v-b4ac2afe]{display:flex;justify-content:space-between;align-items:center;font-size:%?30?%;padding:%?22?% 0}.product-window .edit .edit-box .left[data-v-b4ac2afe]{display:flex;align-items:center;flex:1}.product-window .edit .edit-box .left .head[data-v-b4ac2afe]{color:rgba(0,0,0,.9);white-space:nowrap;margin-right:%?60?%}.product-window .edit .edit-box .left uni-button[data-v-b4ac2afe]{flex:1;display:flex;align-items:center}.product-window .edit .edit-box uni-image[data-v-b4ac2afe]{width:%?80?%;height:%?80?%;border-radius:%?6?%}.product-window .edit .icon-xiangyou[data-v-b4ac2afe]{color:#cfcfcf}.product-window .bottom[data-v-b4ac2afe]{display:flex;align-items:center;justify-content:center}.product-window .bottom .save[data-v-b4ac2afe]{border:1px solid #f5f5f5;display:flex;align-items:center;justify-content:center;width:%?368?%;height:%?80?%;border-radius:%?12?%;margin-top:%?52?%;background-color:#f5f5f5;color:#ccc;font-size:%?30?%;font-weight:700}.product-window .bottom .save.open[data-v-b4ac2afe]{border:1px solid #fff;background-color:#07c160;color:#fff}',""]),t.exports=e},"7b5f":function(t,e,a){"use strict";a.r(e);var i=a("44be"),n=a("176e");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("86af"),a("c3fc");var r=a("828b"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"b4ac2afe",null,!1,i["a"],void 0);e["default"]=s.exports},"86af":function(t,e,a){"use strict";var i=a("bfc1"),n=a.n(i);n.a},"94b7":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{style:t.viewColor},[a("v-uni-view",{staticClass:"mask",attrs:{hidden:0==t.isShow},on:{touchmove:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.rejectAgreement.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"product-window",class:{on:t.isShow}},[a("v-uni-view",{staticClass:"mp-data"},[a("v-uni-text",{staticClass:"mp-name"},[t._v(t._s(t.site_name)+"服务与隐私协议")])],1),a("v-uni-view",{staticClass:"trip-msg"},[a("v-uni-view",{staticClass:"trip"},[t._v("欢迎您使用"+t._s(t.site_name)+"！请仔细阅读以下内容，并作出适当的选择：")])],1),a("v-uni-view",{staticClass:"trip-title"},[t._v("隐私政策概要")]),a("v-uni-view",{staticClass:"trip-msg"},[a("v-uni-view",{staticClass:"trip"},[t._v("当您点击同意并开始时用产品服务时，即表示您已理解并同息该条款内容，该条款将对您产生法律约束力。如您拒绝，将无法继续下一步操作。")])],1),a("v-uni-view",{staticClass:"main-color",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.privacy(3)}}},[t._v("点击阅读"+t._s(t.agreementName))]),a("v-uni-view",{staticClass:"bottom"},[a("v-uni-button",{staticClass:"save open",attrs:{type:"default",id:"agree-btn","open-type":"agreePrivacyAuthorization"},on:{agreeprivacyauthorization:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAgree.apply(void 0,arguments)}}},[t._v("同意并继续")]),a("v-uni-button",{staticClass:"reject",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.rejectAgreement.apply(void 0,arguments)}}},[t._v("取消")])],1)],1)],1)},n=[]},"9938b":function(t,e,a){"use strict";a.r(e);var i=a("fec9"),n=a("a6de");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("0582");var r=a("828b"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"3712c682",null,!1,i["a"],void 0);e["default"]=s.exports},a677:function(t,e,a){"use strict";a.r(e);var i=a("94b7"),n=a("25e5");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("aa9c5"),a("5c13");var r=a("828b"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"6d57e6e2",null,!1,i["a"],void 0);e["default"]=s.exports},a6de:function(t,e,a){"use strict";a.r(e);var i=a("da1b"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},aa9c5:function(t,e,a){"use strict";var i=a("5cc5"),n=a.n(i);n.a},aae8:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9b1b")),o=a("8f59"),r=a("07cd"),s=(i(a("58f1")),getApp(),{data:function(){return{isShow:!1,agreementName:"",mpData:uni.getStorageSync("copyRight")}},computed:(0,n.default)({},(0,r.configMap)({site_name:""},(0,o.mapGetters)(["viewColor"]))),mounted:function(){var t=this;wx.getPrivacySetting({success:function(e){e.needAuthorization?(t.isShow=!0,t.agreementName=e.privacyContractName):t.$emit("onAgree")},fail:function(){},complete:function(){}})},methods:{handleAgree:function(){this.isShow=!1,this.$emit("onclose")},rejectAgreement:function(){this.isShow=!1,this.$emit("onReject")},privacy:function(t){uni.navigateTo({url:"/pages/users/privacy/index?type="+t})}}});e.default=s},b5fd:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("8f59"),o=a("07cd"),r=(i(a("2ed6")),a("852c")),s=a("6008"),c={props:{isShow:{type:Boolean,value:!1}},data:function(){return{domain:s.HTTP_REQUEST_URL,mp_is_new:this.$Cache.get("MP_VERSION_ISNEW")||!1,userInfo:{avatar:"",nickname:""},canvasStatus:!1}},computed:(0,o.configMap)({routine_logo:"",site_name:""},(0,n.mapGetters)(["viewColor","keyColor"])),mounted:function(){},methods:{uploadpic:function(){var t=this,e=this;this.canvasStatus=!0,e.$util.uploadImageChange("upload/image",(function(a){var i=e.userInfo;void 0!==i&&(e.userInfo.avatar=a.data.url),t.canvasStatus=!1}),(function(e){t.canvasStatus=!1}),(function(e){t.canvasWidth=e.w,t.canvasHeight=e.h}))},onChooseAvatar:function(t){var e=this,a=t.detail.avatarUrl;this.$util.uploadImgs("upload/image",a,(function(t){e.userInfo.avatar=t.data.path}),(function(t){}))},closeAttr:function(){this.$emit("closeEdit")},formSubmit:function(t){var e=this,a=this;return this.userInfo.avatar?t.detail.value.nickname?(this.userInfo.nickname=t.detail.value.nickname,void(0,r.editAvatar)(this.userInfo).then((function(t){return e.$emit("editSuccess"),a.$util.Tips({title:t.message,icon:"success"},{tab:3})})).catch((function(t){return a.$util.Tips({title:t||"保存失败"},{tab:3,url:1})}))):a.$util.Tips({title:"请输入昵称"}):a.$util.Tips({title:"请上传头像"})}}};e.default=c},bb1c:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".pl-sty[data-v-6d57e6e2]{color:#999;font-size:%?30?%}",""]),t.exports=e},bfc1:function(t,e,a){var i=a("f51b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("07649b24",i,!0,{sourceMap:!1,shadowMode:!1})},c3fc:function(t,e,a){"use strict";var i=a("d6f3"),n=a.n(i);n.a},d6f3:function(t,e,a){var i=a("6e18");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("f5e3fdfa",i,!0,{sourceMap:!1,shadowMode:!1})},da1b:function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("5ef2");var n=i(a("9b1b")),o=i(a("7b5f")),r=i(a("a677")),s=a("658d"),c=a("32f9"),d=a("852c"),u=i(a("58f1")),l=(i(a("1a22")),i(a("1a22"))),f=a("6008"),p=a("07cd"),v=i(a("2ed6")),h=(a("167a"),a("8f59")),m=getApp(),g=uni.getSystemInfoSync().statusBarHeight+"px",w={data:function(){return{domain:f.HTTP_REQUEST_URL,isUp:!1,canClose:!0,phone:"",statusBarHeight:g,isHome:!1,isPhoneBox:!1,protocol:!1,isShow:!1,logoUrl:"",code:"",codeVal:"",authKey:"",options:"",userInfo:{},codeNum:0,canUseGetUserProfile:!1,canGetPrivacySetting:!1,inAnimation:!1,colorStatus:uni.getStorageSync("color_status"),mp_is_new:this.$Cache.get("MP_VERSION_ISNEW")||!1,configData:v.default.get("BASIC_CONFIG"),bindPhone:!1,wechat_phone_switch:0}},computed:(0,n.default)({},(0,p.configMap)({login_logo:"",site_name:"",first_avatar_switch:""},(0,h.mapGetters)(["isLogin","viewColor"]))),components:{editUserModal:o.default,privacyAgreementPopup:r.default},watch:{},onLoad:function(t){uni.getUserProfile&&(this.canUseGetUserProfile=!0);var e=getCurrentPages(),a=e[e.length-2];a&&"pages/order_addcart/order_addcart"==a.route?this.isHome=!0:this.isHome=!1},onReady:function(){this.getCode()},created:function(){},methods:{getCode:function(){this.code=1},getAuthLogin:function(){var t=this,e=this;if(!e.protocol&&!e.canGetPrivacySetting)return e.$util.Tips({title:"请勾选用户协议与隐私政策"});uni.showLoading({title:"正在登录中"}),e.canUseGetUserProfile=!1,u.default.getUserProfile().then((function(a){var i=a.userInfo;i.code=e.code,i.spread=m.globalData.spid,i.spread_code=m.globalData.code,(0,s.commonAuth)({auth:{type:"routine",auth:i}}).then((function(a){if(200!=a.data.status)return uni.setStorageSync("auth_token",a.data.result.key),uni.navigateTo({url:"/pages/users/login/index"});var i=a.data.result.expires_time-v.default.time();e.$store.commit("UPDATE_USERINFO",a.data.result.user),e.$store.commit("LOGIN",{token:a.data.result.token,time:i}),e.$store.commit("SETUID",a.data.result.user.uid),v.default.set(c.EXPIRES_TIME,a.data.result.expires_time,i),v.default.set(c.USER_INFO,a.data.result.user,i),a.data.result.user.isNew&&e.mp_is_new&&1==e.first_avatar_switch?(uni.hideLoading(),e.isShow=!0):t.$util.Tips({title:"授权成功",icon:"success"},{tab:3})})).catch((function(t){uni.hideLoading(),uni.showToast({title:t,icon:"none",duration:2e3})}))})).catch((function(t){uni.hideLoading(),uni.showToast({title:t.errMsg,icon:"none",duration:2e3})}))},onAgree:function(){this.protocol=!0},ChangeIsDefault:function(t){this.$set(this,"protocol",!this.protocol)},editSuccess:function(){this.isShow=!1},closeEdit:function(){this.isShow=!1,this.$util.Tips({title:"登录成功",icon:"success"},{tab:3})},onReject:function(){uni.switchTab({url:"/pages/index/index"})},back:function(){uni.navigateBack({delta:1})},home:function(){uni.switchTab({url:"/pages/index/index"})},maskClose:function(t){this.isUp=!1},bindPhoneClose:function(t){this.isPhoneBox=!1,t.isStatus&&this.$util.Tips({title:"登录成功",icon:"success"},{tab:3})},getPath:function(t){return-1!=t.indexOf("?")&&(t=t.split("?")[0]),t},getUserInfo:function(t,e){var a=this,i=this;(0,d.getUserInfo)().then((function(n){uni.hideLoading(),i.userInfo=n.data,i.$store.commit("SETUID",n.data.uid),i.$store.commit("UPDATE_USERINFO",n.data),t?a.isShow=!0:i.$util.Tips({title:"登录成功",icon:"success"},{tab:4,url:e||"/pages/user/index"})})).catch((function(t){uni.hideLoading(),uni.showToast({title:t.msg,icon:"none",duration:2e3})}))},privacy:function(t){uni.navigateTo({url:"/pages/users/privacy/index?type="+t})},wechatLogin:function(){if(!this.protocol)return this.$util.Tips({title:"请勾选用户协议与隐私政策"});l.default.oAuth()}}};e.default=w},e4e0:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-3712c682]{background:#fff}body.?%PAGE?%[data-v-3712c682]{background:#fff}[data-v-3712c682] uni-checkbox .uni-checkbox-input,\r\n::v-deepcheckbox .wx-checkbox-input[data-v-3712c682]{border-radius:100%;width:%?28?%;height:%?28?%}::v-deepcheckbox .uni-checkbox-input.uni-checkbox-input-checked[data-v-3712c682],\r\n::v-deepcheckbox .wx-checkbox-input.wx-checkbox-input-checked[data-v-3712c682]{border:1px solid var(--view-theme)!important;background-color:var(--view-theme)!important}.wrapper[data-v-3712c682]{position:relative;height:100vh}.wrapper .bag[data-v-3712c682]{position:absolute;top:0;left:0;width:100%;opacity:.8;z-index:-1;z-index:0}.wrapper .bag img[data-v-3712c682]{width:100%;height:%?838?%}.wrapper .merchant-msg[data-v-3712c682]{padding-top:%?252?%;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:2;position:relative}.wrapper .merchant-msg img[data-v-3712c682]{width:%?152?%;height:%?152?%;border-radius:50%}.wrapper .merchant-msg .name[data-v-3712c682]{font-size:%?40?%;font-weight:500;color:#333;line-height:%?56?%;margin-top:%?32?%}.wechat_login[data-v-3712c682]{margin-top:%?96?%}.wechat_login .img uni-image[data-v-3712c682]{width:100%}.wechat_login .btn-wrapper[data-v-3712c682]{padding:0 %?66?%}.wechat_login .btn-wrapper uni-button[data-v-3712c682]{width:100%;height:%?86?%;line-height:%?86?%;margin-bottom:%?40?%;border-radius:%?120?%;font-size:%?30?%}.wechat_login .btn-wrapper uni-button.btn1[data-v-3712c682]{color:#fff;background:var(--view-theme)}.wechat_login .btn-wrapper uni-button.btn2[data-v-3712c682]{color:#666;border:1px solid #ddd}.title-bar[data-v-3712c682]{position:relative;display:flex;align-items:center;justify-content:center;font-size:%?34?%;font-weight:500;color:#333;line-height:%?48?%}.icon[data-v-3712c682]{position:absolute;left:%?30?%;top:0;display:flex;align-items:center;justify-content:center;width:%?80?%;height:%?80?%}.icon uni-image[data-v-3712c682]{width:%?50?%;height:%?50?%}.protocol[data-v-3712c682]{position:fixed;bottom:%?52?%;left:%?80?%;width:100%;margin:0 auto;color:#999;font-size:%?24?%;line-height:%?36?%;text-align:center;bottom:calc(%?52?% + constant(safe-area-inset-bottom));bottom:calc(%?52?% + env(safe-area-inset-bottom))}.protocol .main-color[data-v-3712c682]{color:var(--view-theme)}.protocol .trembling[data-v-3712c682]{-webkit-animation:shake .6s;animation:shake .6s}',""]),t.exports=e},f51b:function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".pl-sty[data-v-b4ac2afe]{color:#999;font-size:%?30?%}",""]),t.exports=e},fdcd:function(t,e,a){var i=a("e4e0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("0715eb9f",i,!0,{sourceMap:!1,shadowMode:!1})},fec9:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={uCheckboxGroup:a("2ec7").default,uCheckbox:a("3624").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"wrapper",style:t.viewColor},[a("v-uni-view",{staticClass:"bag"},[a("img",{attrs:{src:t.domain+"/static/images/logo_bgh.png",alt:"",srcset:""}})]),a("v-uni-view",{staticClass:"system-height",style:{height:t.statusBarHeight}}),a("v-uni-view",{staticClass:"merchant-msg"},[a("img",{attrs:{src:t.login_logo}}),a("v-uni-view",{staticClass:"name"},[t._v(t._s(t.site_name))])],1),a("v-uni-view",{staticClass:"wechat_login"},[a("v-uni-view",{staticClass:"btn-wrapper"},[a("v-uni-button",{staticClass:"bg-theme btn1",attrs:{"hover-class":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.wechatLogin.apply(void 0,arguments)}}},[t._v("微信登录")])],1)],1),t.canGetPrivacySetting?t._e():a("v-uni-view",{staticClass:"protocol"},[a("u-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.ChangeIsDefault.apply(void 0,arguments)}}},[a("u-checkbox",{attrs:{checked:t.protocol,label:"已阅读并同意"}}),a("v-uni-text",{staticClass:"main-color",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.privacy(4)}}},[t._v("《用户协议》")]),t._v("与"),a("v-uni-text",{staticClass:"main-color",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.privacy(3)}}},[t._v("《隐私协议》")])],1)],1),[a("editUserModal",{attrs:{isShow:t.isShow},on:{closeEdit:function(e){arguments[0]=e=t.$handleEvent(e),t.closeEdit.apply(void 0,arguments)},editSuccess:function(e){arguments[0]=e=t.$handleEvent(e),t.editSuccess.apply(void 0,arguments)}}})]],2)},o=[]}}]);