(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-store-life-friend"],{"2ec5":function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"8d65":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"search"},[n("v-uni-view",{staticClass:"search-box"},[n("v-uni-view",{staticClass:"search-input"},[n("v-uni-input",{attrs:{type:"text",placeholder:"好友手机号"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.searchKeyword=e.detail.value}},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}})],1),n("v-uni-button",{staticClass:"search-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}}},[t._v("搜索")])],1)],1),t.searchDone?n("v-uni-view",{staticClass:"search-result"},[t.friendFound?n("v-uni-view",{staticClass:"friend-info"},[n("v-uni-image",{staticClass:"friend-avatar",attrs:{src:t.friendInfo.avatar,mode:"aspectFill"}}),n("v-uni-view",{staticClass:"friend-detail"},[n("v-uni-text",{staticClass:"friend-name"},[t._v(t._s(t.friendInfo.nickname||"未设置昵称"))]),n("v-uni-text",{staticClass:"friend-phone"},[t._v(t._s(t.friendInfo.phone))])],1)],1):n("v-uni-view",{staticClass:"no-friend"},[n("v-uni-text",{staticClass:"no-friend-text"},[t._v("该手机号尚未注册，是否为其注册？")]),n("v-uni-button",{staticClass:"register-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showRegisterPopup.apply(void 0,arguments)}}},[t._v("为Ta注册")])],1)],1):t._e(),n("v-uni-view",{staticClass:"amount-section"},[n("v-uni-view",{staticClass:"input"},[n("v-uni-text",[t._v("￥")]),n("v-uni-input",{attrs:{placeholder:"请输入金额",type:"digit","placeholder-class":"placeholder"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1),n("v-uni-button",{staticClass:"pay-button",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPay.apply(void 0,arguments)}}},[t._v("去支付")]),n("v-uni-view",{staticClass:"myself",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchAccount()}}},[t._v("为自己下单")]),t.showRegister?n("v-uni-view",{staticClass:"mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeRegisterPopup.apply(void 0,arguments)}}}):t._e(),t.showRegister?n("v-uni-view",{staticClass:"register-popup"},[n("v-uni-view",{staticClass:"register-header"},[n("v-uni-text",{staticClass:"register-title"},[t._v("注册账号")]),n("v-uni-text",{staticClass:"register-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeRegisterPopup.apply(void 0,arguments)}}},[t._v("×")])],1),n("v-uni-view",{staticClass:"register-content"},[n("v-uni-view",{staticClass:"form-item"},[n("v-uni-text",{staticClass:"form-label"},[t._v("手机号")]),n("v-uni-input",{staticClass:"form-input",attrs:{type:"text",value:t.searchKeyword,disabled:!0}})],1),n("v-uni-view",{staticClass:"form-item"},[n("v-uni-text",{staticClass:"form-label"},[t._v("短信验证码")]),n("v-uni-view",{staticClass:"verify-code-box"},[n("v-uni-input",{staticClass:"form-input code-input",attrs:{type:"number",maxlength:"6",placeholder:"请输入验证码"},model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}}),n("v-uni-button",{staticClass:"send-code-btn",attrs:{disabled:t.codeSending},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleVerify.apply(void 0,arguments)}}},[t._v(t._s(t.codeSending?t.countdown+"s后重发":"获取验证码"))])],1)],1)],1),n("v-uni-button",{staticClass:"register-confirm-btn",attrs:{disabled:!t.verifyCode},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmRegister.apply(void 0,arguments)}}},[t._v("注册并下单")])],1):t._e(),n("Verify",{ref:"verify",attrs:{captchaType:"blockPuzzle",imgSize:{width:"330px",height:"155px"}},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.success.apply(void 0,arguments)}}})],1)},o=[]},"9b4c":function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.arrivalNoticeApi=function(t){return i.default.post("store/product/increase_take",t)},e.bagExplain=function(){return i.default.get("store/product/bag/explain")},e.bagRecommend=function(){return i.default.get("product/spu/bag/recommend")},e.collectAdd=function(t){return i.default.post("user/relation/create",t)},e.collectAll=function(t){return i.default.post("user/relation/batch/create",t)},e.collectDel=function(t){return i.default.post("user/relation/delete",t)},e.copyPasswordApi=function(t){return i.default.get("product/spu/copy",t,{noAuth:!0})},e.copyPasswordSearch=function(t){return i.default.get("command/copy",t,{noAuth:!0})},e.create=function(t){return i.default.post("intention/create",t)},e.createFist=function(t){return i.default.post("intention/create_first",t)},e.createFour=function(t){return i.default.post("intention/create_four",t)},e.createGroup=function(t){return i.default.post("user/group/create",t)},e.createThree=function(t){return i.default.post("intention/create_three",t)},e.create_second=function(t){return i.default.post("intention/create_second",t)},e.discountsCartAdd=function(t){return i.default.post("user/cart/batchCreate",t)},e.express=function(t){return i.default.post("ordero/express/"+t,{noAuth:!0})},e.followStore=function(t){return i.default.post("user/relation/create",{type:10,type_id:t})},e.getApplicationRecordList=function(t){return i.default.get("intention/lst",t)},e.getBrandlist=function(t){return i.default.get("store/product/brand/lst",t,{noAuth:!0})},e.getBroadcastListApi=function(t){return i.default.get("broadcast/lst",t,{noAuth:!0})},e.getCaptcha=function(){return i.default.get("captcha")},e.getCategoryList=function(){return i.default.get("store/product/category/lst",{},{noAuth:!0})},e.getCollectUserList=function(t){return i.default.get("user/relation/product/lst",t)},e.getCouponProductlist=function(t){t.brand_id&&Array.isArray(t.brand_id)&&(t=(0,o.default)({},t),t.brand_id=t.brand_id.toString());return i.default.get("product/spu/coupon_product",t,{noAuth:!0})},e.getDiscountsLst=function(t){return i.default.get("discounts/lst",t,{noAuth:!0})},e.getGeocoder=function(t){return i.default.get("lbs/geocoder?location=".concat(t.lat,",").concat(t.long),{},{noAuth:!0})},e.getGoodsDetails=function(t){return i.default.get("intention/detail/"+t,{})},e.getGroomList=function(t,e){return i.default.get("product/spu/hot/"+t,e,{noAuth:!0})},e.getGroupDetails=function(t){return i.default.get("user/group/detail/"+t,{})},e.getGroupList=function(t){return i.default.get("user/group/lst",t)},e.getHotBanner=function(t){return i.default.get("common/hot_banner/"+t,{},{noAuth:!0})},e.getHotRanking=function(){return i.default.get("product/spu/hot_top",{},{noAuth:!0})},e.getIntentionInfo=function(t){return i.default.post("intention/info",t)},e.getLiveList=function(t){return i.default.get("broadcast/hot",t,{noAuth:!0})},e.getMerClass=function(t){return i.default.post("intention/lklChildCate",t)},e.getMerProductHot=function(t,e){return i.default.get("product/spu/recommend",{page:void 0===e.page?1:e.page,limit:void 0===e.limit?10:e.limit,mer_id:t||""},{noAuth:!0})},e.getMerchantLst=function(t){return i.default.get("user/relation/merchant/lst",t,{noAuth:!0})},e.getParmasList=function(t){return i.default.get("product/spu/params",t,{noAuth:!0})},e.getParmasValue=function(t){return i.default.get("product/spu/params_value/".concat(t),{},{noAuth:!0})},e.getPresellProductDetail=function(t){return i.default.get("store/product/presell/detail/"+t,{},{noAuth:!0})},e.getPreviewProDetail=function(t){return i.default.get("store/product/preview",t,{noAuth:!0})},e.getProductCode=function(t,e){return i.default.get("store/product/qrcode/"+t,e)},e.getProductDetail=function(t){return i.default.get("store/product/detail/"+t,{},{noAuth:!0})},e.getProductHot=function(t,e){return i.default.get("product/spu/recommend",{page:void 0===t?1:t,limit:void 0===e?10:e},{noAuth:!0})},e.getProductParmas=function(t){return i.default.get("store/product/show/"+t,{},{noAuth:!0})},e.getProductslist=function(t){t.brand_id&&Array.isArray(t.brand_id)&&(t=(0,o.default)({},t),t.brand_id=t.brand_id.toString());return i.default.get("product/spu/lst",t,{noAuth:!0})},e.getQrcode=function(t){return i.default.get("store/merchant/pay_code/".concat(t),{},{noAuth:!0})},e.getReplyConfig=function(t){return i.default.get("reply/config/"+t)},e.getReplyList=function(t,e){return i.default.get("store/product/reply/lst/"+t,e,{noAuth:!0})},e.getSearchKeyword=function(){return i.default.get("common/hot_keyword",{},{noAuth:!0})},e.getSeckillProductDetail=function(t){return i.default.get("store/product/seckill/detail/"+t,{},{noAuth:!0})},e.getStatus=function(){return i.default.post("intention/status")},e.getStoreCategory=function(t,e){return i.default.get("store/merchant/category/lst/"+t,e,{noAuth:!0})},e.getStoreCoupon=function(t){return i.default.get("coupon/store/"+t,{noAuth:!0})},e.getStoreDetail=function(t,e){return i.default.get("store/merchant/detail/"+t,e,{noAuth:!0})},e.getStoreGoods=function(t,e){return i.default.get("product/spu/merchant/"+t,e,{noAuth:!0})},e.getStoreRecommend=function(t){return i.default.get("store/product/good_list/"+t,{},{noAuth:!0})},e.getStoreTypeApi=function(t){return i.default.get("intention/type",t,{noAuth:!0})},e.getTodayHotSearch=function(){return i.default.get("product/spu/hot_lst",{},{noAuth:!0})},e.lklBankInfo=function(t){return i.default.post("intention/lklBankInfo",t)},e.lklBankOrganization=function(t){return i.default.post("intention/lklBankOrganization",t)},e.lklOrganization=function(t){return i.default.post("intention/lklOrganization",t)},e.merClassifly=function(){return i.default.get("intention/cate",{},{noAuth:!0})},e.merchantProduct=function(t,e){e.brand_id&&Array.isArray(e.brand_id)&&(e=(0,o.default)({},e),e.brand_id=e.brand_id.toString());return i.default.get("product/spu/merchant/"+t,e,{noAuth:!0})},e.merchantQrcode=function(t,e){return i.default.get("store/merchant/qrcode/"+t,e,{noAuth:!0})},e.postCartAdd=function(t){return i.default.post("user/cart/create",t)},e.priceRuleApi=function(t){return i.default.get("store/product/price_rule/".concat(t),{},{noAuth:!0})},e.productBag=function(t){return i.default.get("product/spu/bag",t,{noAuth:!0})},e.storeCategory=function(t){return i.default.get("store/product/category",t,{noAuth:!0})},e.storeCertificate=function(t){return i.default.post("store/certificate/".concat(t.merId),t)},e.storeMerchantList=function(t){return i.default.get("store/merchant/lst",t,{noAuth:!0})},e.storeServiceList=function(t,e){return i.default.get("product/spu/local/".concat(t),e,{noAuth:!0})},e.unfollowStore=function(t){return i.default.post("user/relation/delete",{type:10,type_id:t})},e.updateGoodsRecord=function(t,e){return i.default.post("intention/update/"+t,e)},e.updateGroupRecord=function(t,e){return i.default.post("user/group/update/"+t,e)},e.userCollectDel=function(t){return i.default.post("user/relation/batch/delete",t)},e.verify=function(t){return i.default.post("auth/verify",t)},n("c9b5"),n("bf0f"),n("ab80"),n("c223");var o=r(n("9b1b")),i=r(n("64b7"))},"9cf8":function(t,e,n){"use strict";var r=n("a8c7"),o=n.n(r);o.a},a8c7:function(t,e,n){var r=n("aa4f");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=n("967d").default;o("46d673a6",r,!0,{sourceMap:!1,shadowMode:!1})},aa4f:function(t,e,n){var r=n("c86c");e=r(!1),e.push([t.i,"@charset \"UTF-8\";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 整体容器 */.container[data-v-5483e960]{display:flex;flex-direction:column;background-color:#fff;min-height:100vh;padding:%?40?% %?40?%;box-sizing:border-box;position:relative}\r\n/* 店铺信息区域 */.store-info[data-v-5483e960]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:%?20?%}.store-image[data-v-5483e960]{width:%?120?%;height:%?120?%;border-radius:%?10?%;margin-right:%?20?%;background-color:#f5f5f5}.store-text[data-v-5483e960]{display:flex;flex-direction:column;justify-content:space-between}.store-name[data-v-5483e960]{font-size:%?35?%;color:#333;margin-bottom:%?10?%;font-weight:700}.reward[data-v-5483e960]{font-size:%?26?%;color:#999}\r\n/* 搜索区域 */.search[data-v-5483e960]{margin-bottom:%?30?%}.search-box[data-v-5483e960]{display:flex;flex-direction:row;align-items:center}.search-input[data-v-5483e960]{flex:1;background-color:#f5f5f5;border-radius:%?10?%;padding:%?10?% %?20?%;margin-right:%?20?%;display:flex;align-items:center}.search-icon[data-v-5483e960]{font-size:%?28?%;margin-right:%?10?%\r\n  /* 移除了背景图片样式 */\r\n  /* background-image: url('/static/icons/search.png');\r\n       background-size: contain; */}.search-button[data-v-5483e960]{width:%?140?%;height:%?80?%;line-height:%?80?%;font-size:%?30?%;border-radius:%?10?%;background-color:#19afff;color:#fff;text-align:center;padding:0}\r\n/* 搜索结果区域 */.search-result[data-v-5483e960]{margin-bottom:%?30?%;background-color:#f9f9f9;border-radius:%?10?%;padding:%?20?%}.friend-info[data-v-5483e960]{display:flex;flex-direction:row;align-items:center}.friend-avatar[data-v-5483e960]{width:%?100?%;height:%?100?%;border-radius:50%;background-color:#eee;margin-right:%?20?%}.friend-detail[data-v-5483e960]{flex:1;display:flex;flex-direction:column}.friend-name[data-v-5483e960]{font-size:%?30?%;color:#333;font-weight:700;margin-bottom:%?10?%}.friend-phone[data-v-5483e960]{font-size:%?26?%;color:#666}.no-friend[data-v-5483e960]{display:flex;flex-direction:column;align-items:center;padding:%?30?% 0}.no-friend-text[data-v-5483e960]{font-size:%?28?%;color:#666;margin-bottom:%?20?%}.register-btn[data-v-5483e960]{width:%?200?%;height:%?70?%;line-height:%?70?%;font-size:%?28?%;border-radius:%?35?%;background-color:#19afff;color:#fff;text-align:center;padding:0}.friendBox[data-v-5483e960]{display:flex;justify-content:space-between;margin:%?20?% 0}.friendBox .tofied[data-v-5483e960]{color:#19afff}\r\n/* 金额输入区域 */.amount-section[data-v-5483e960]{display:flex;flex-direction:row;align-items:center;margin-bottom:%?20?%}.input[data-v-5483e960]{display:flex;align-items:center}.input uni-text[data-v-5483e960]{font-size:%?60?%;font-weight:700}.input uni-input[data-v-5483e960]{width:%?400?%;height:%?94?%;text-align:center;font-size:%?60?%}\r\n/* 支付方式选择 */.payment-method[data-v-5483e960]{display:flex;align-items:center;margin:%?20?% 0}.payment-label[data-v-5483e960]{font-size:%?30?%;color:#333;margin-right:%?20?%}.radio-group[data-v-5483e960]{display:flex;flex-direction:row}.radio-label[data-v-5483e960]{display:flex;align-items:center;margin-right:%?20?%;font-size:%?28?%;color:#333}\r\n/* 支付按钮 */.pay-button[data-v-5483e960]{width:100%;height:%?80?%;line-height:%?80?%;font-size:%?30?%;border-radius:%?50?%;background-color:#19afff;color:#fff;text-align:center}.myself[data-v-5483e960]{margin:%?30?%;text-align:center;font-size:%?26?%;color:#19afff}\r\n/* 注册弹窗样式 */.mask[data-v-5483e960]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:100}.register-popup[data-v-5483e960]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:%?600?%;background-color:#fff;border-radius:%?20?%;z-index:101;overflow:hidden;padding:%?30?%}.register-header[data-v-5483e960]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?30?%}.register-title[data-v-5483e960]{font-size:%?36?%;font-weight:700;color:#333}.register-close[data-v-5483e960]{font-size:%?48?%;color:#999;padding:0 %?20?%}.register-content[data-v-5483e960]{margin-bottom:%?40?%}.form-item[data-v-5483e960]{margin-bottom:%?30?%}.form-label[data-v-5483e960]{display:block;font-size:%?28?%;color:#333;margin-bottom:%?15?%}.form-input[data-v-5483e960]{width:100%;height:%?80?%;background-color:#f5f5f5;border-radius:%?10?%;padding:0 %?20?%;font-size:%?28?%;box-sizing:border-box}.verify-container[data-v-5483e960]{display:flex;flex-direction:column;align-items:center}.verify-code-box[data-v-5483e960]{display:flex;align-items:center}.code-input[data-v-5483e960]{flex:1;margin-right:%?20?%}.send-code-btn[data-v-5483e960]{width:%?200?%;height:%?80?%;line-height:%?80?%;font-size:%?24?%;border-radius:%?10?%;background-color:#19afff;color:#fff;text-align:center;padding:0}.send-code-btn[disabled][data-v-5483e960]{background-color:#ccc}.register-confirm-btn[data-v-5483e960]{width:100%;height:%?90?%;line-height:%?90?%;font-size:%?32?%;border-radius:%?45?%;background-color:#19afff;color:#fff;text-align:center}.register-confirm-btn[disabled][data-v-5483e960]{background-color:#ccc}",""]),t.exports=e},abfd:function(t,e,n){"use strict";n.r(e);var r=n("8d65"),o=n("c82f");for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("9cf8");var a=n("828b"),u=Object(a["a"])(o["default"],r["b"],r["c"],!1,null,"5483e960",null,!1,r["a"],void 0);e["default"]=u.exports},c82f:function(t,e,n){"use strict";n.r(e);var r=n("ffeb"),o=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},f87d:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.applyInvoiceApi=function(t,e){return o.default.post("order/receipt/".concat(t),e)},e.cartDel=function(t){return o.default.post("user/cart/delete",t)},e.cartProductAttr=function(t){return o.default.get("store/product/get_attr_value/".concat(t))},e.changeCartNum=function(t,e){return o.default.post("user/cart/change/"+t,e)},e.createOrder=function(t){return o.default.post("v2/order/create",t,{noAuth:!0})},e.createPay=function(t){return o.default.post("order/offline/create",t)},e.develiveryDetail=function(t){return o.default.get("order/delivery/".concat(t))},e.express=function(t){return o.default.post("order/express/"+t)},e.expressList=function(){return o.default.get("common/express")},e.findFriends=function(t){return o.default.get("user/find_friends?phone="+t)},e.getCallBackUrlApi=function(t){return o.default.get("common/pay_key/"+t,{},{noAuth:!0})},e.getCartCounts=function(){return o.default.get("user/cart/count")},e.getCartList=function(){return o.default.get("user/cart/lst")},e.getCouponsOrderPrice=function(t,e){return o.default.get("coupons/order/"+t,e)},e.getOfflineDetail=function(t){return o.default.get("order/offline/detail/"+t)},e.getOfflineOrderList=function(t){return o.default.get("order/offline/list",t)},e.getOrderConfirm=function(t){return o.default.post("v2/order/check",t)},e.getOrderDetail=function(t){return o.default.get("order/detail/"+t)},e.getOrderList=function(t){return o.default.get("order/list",t)},e.getPayOrder=function(t){return o.default.get("order/status/"+t)},e.getReceiptOrder=function(t){return o.default.get("user/receipt/order/"+t)},e.groupOrderDetail=function(t){return o.default.get("order/group_order_detail/"+t)},e.groupOrderList=function(t){return o.default.get("order/group_order_list",t,{noAuth:!0})},e.integralOrderPay=function(t,e){return o.default.post("order/points/pay/"+t,e)},e.ordeRefundReason=function(){return o.default.get("order/refund/reason")},e.orderAgain=function(t){return o.default.post("user/cart/again",t)},e.orderComment=function(t,e){return o.default.post("reply/"+t,e)},e.orderConfirm=function(t){return o.default.post("order/check",t)},e.orderCreate=function(t){return o.default.post("order/create",t,{noAuth:!0})},e.orderData=function(){return o.default.get("order/number")},e.orderDel=function(t){return o.default.post("order/del/"+t)},e.orderPay=function(t,e){return o.default.post("order/pay/"+t,e)},e.orderProduct=function(t){return o.default.get("reply/product/"+t)},e.orderRefundVerify=function(t){return o.default.post("order/refund/verify",t)},e.orderTake=function(t){return o.default.post("order/take/"+t)},e.postOrderComputed=function(t,e){return o.default.post("/order/computed/"+t,e)},e.presellOrderPay=function(t,e){return o.default.post("presell/pay/"+t,e)},e.receiptOrder=function(t){return o.default.get("user/receipt/order",t)},e.refundApply=function(t,e){return o.default.post("refund/apply/"+t,e,{noAuth:!0})},e.refundBackGoods=function(t,e){return o.default.post("refund/back_goods/"+t,e,{noAuth:!0})},e.refundBatch=function(t){return o.default.get("refund/batch_product/"+t,{noAuth:!0})},e.refundCancelApi=function(t){return o.default.post("refund/cancel/".concat(t))},e.refundDel=function(t){return o.default.post("refund/del/"+t,{noAuth:!0})},e.refundDetail=function(t){return o.default.get("refund/detail/"+t,{noAuth:!0})},e.refundExpress=function(t){return o.default.get("refund/express/"+t,{noAuth:!0})},e.refundList=function(t){return o.default.get("refund/list",t,{noAuth:!0})},e.refundMessage=function(){return o.default.get("common/refund_message",{noAuth:!0})},e.refundOrderExpress=function(t,e){return o.default.get("server/".concat(t,"/refund/express/").concat(e))},e.refundProduct=function(t,e){return o.default.get("refund/product/"+t,e,{noAuth:!0})},e.unOrderCancel=function(t){return o.default.post("order/cancel/"+t)},e.userDeduction=function(t){return o.default.post("order/offline/check",t)},e.verifyCode=function(t){return o.default.get("order/verify_code/"+t)},n("c223");var o=r(n("64b7"))},ffeb:function(t,e,n){"use strict";n("6a54");var r=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("2634")),i=r(n("2fdc")),a=r(n("fcf3"));n("d4b5"),n("5c47"),n("0506"),n("af8f");var u=n("9b4c"),c=n("f87d"),d=(n("092d"),r(n("a109"))),s=n("6647"),f={components:{Verify:d.default},data:function(){return{amount:"",id:0,store:{},pay_type:"routine",mer_id:null,searchKeyword:"",searchDone:!1,friendFound:!1,friendInfo:{},friendSelected:!1,account:"",showRegister:!1,verifyCode:"",codeSending:!1,countdown:60,timer:null,verifyPassed:!1,verifyToken:""}},onLoad:function(t){this.id=t.id},mounted:function(){this.getStore()},beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},methods:{search:function(){var t=this;if(11===this.searchKeyword.length){uni.showLoading({title:"搜索中..."});var e=this.searchKeyword;(0,c.findFriends)(e).then((function(n){uni.hideLoading(),t.searchDone=!0;var r=null;if(n.data?Array.isArray(n.data)&&n.data.length>0?r=n.data[0]:"object"===(0,a.default)(n.data)&&(r=n.data):"object"===(0,a.default)(n)&&(r=n),r&&(r.id||r.uid||r.user_id)){var o=r.id||r.uid||r.user_id;t.friendInfo={id:o,uid:r.uid||o,nickname:r.nickname||r.name||"未设置昵称",phone:r.phone||r.mobile||e,avatar:r.avatar||r.headerImg||"/static/default-avatar.png"},t.account=r.phone,t.friendFound=!0,t.mer_id=t.friendInfo.uid,uni.showToast({title:"已找到该用户",icon:"success"})}else t.friendFound=!1,t.friendInfo={}})).catch((function(e){uni.hideLoading(),t.searchDone=!0,t.friendFound=!1}))}else uni.showToast({title:"请输入正确格式的手机号",icon:"none"})},showRegisterPopup:function(){this.showRegister=!0,this.verifyCode=""},closeRegisterPopup:function(){this.showRegister=!1,this.verifyCode="",this.timer&&(clearInterval(this.timer),this.timer=null,this.codeSending=!1,this.countdown=60)},handleVerify:function(){this.codeSending||(this.searchKeyword?/^1(3|4|5|7|8|9|6)\d{9}$/i.test(this.searchKeyword)?this.$refs.verify.show():uni.showToast({title:"请输入正确的手机号码",icon:"none"}):uni.showToast({title:"请输入手机号码",icon:"none"}))},success:function(t){this.$refs.verify.hide(),this.code(t)},code:function(t){var e=this;return(0,i.default)((0,o.default)().mark((function n(){var r;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e,r.account=r.searchKeyword,r.account){n.next=4;break}return n.abrupt("return",r.$util.Tips({title:"请输入手机号码"}));case 4:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(r.account)){n.next=6;break}return n.abrupt("return",r.$util.Tips({title:"请输入正确的手机号码"}));case 6:return r.codeSending=!0,r.countdown=60,n.next=10,(0,s.registerVerify)({phone:r.account,type:"login",key:r.keyCode,toke:t.token,captchaType:"blockPuzzle",captchaVerification:t.captchaVerification}).then((function(t){r.$util.Tips({title:t.message});(function(){uni.showToast({title:"验证码已发送",icon:"success"}),r.timer=setInterval((function(){r.countdown>1?r.countdown--:(clearInterval(r.timer),r.timer=null,r.codeSending=!1)}),1e3)})()})).catch((function(t){r.codeSending=!1,r.$util.Tips({title:t})}));case 10:case"end":return n.stop()}}),n)})))()},confirmRegister:function(){var t=this;if(this.verifyCode){uni.showLoading({title:"注册中..."});var e={phone:this.account,sms_code:this.verifyCode,pwd:"123456",spread:this.id};(0,s.register)(e).then((function(e){uni.hideLoading(),t.closeRegisterPopup(),uni.showToast({title:"注册成功",icon:"success",duration:2e3}),setTimeout((function(){t.search()}),1e3)})).catch((function(t){uni.hideLoading(),uni.showToast({title:t.message||"注册失败，请稍后再试",icon:"none",duration:2e3})}))}else uni.showToast({title:"请输入验证码",icon:"none"})},switchAccount:function(){var t=this.id;uni.navigateTo({url:"/pages/store/life/lifePay?id=".concat(t)})},getStore:function(){var t=this;(0,u.getStoreDetail)(this.id).then((function(e){t.store=e.data}))},goPay:function(){var t=this;this.amount?this.pay_type?(0,c.createPay)({money:money,mer_id:this.id,pay_type:this.pay_type,is_app:1,user_deduction:this.use_amount}).then((function(e){var n=t.id;if(e.data.result&&e.data.result.config){var r=e.data.result.config;uni.requestPayment({provider:"wxpay",timeStamp:String(r.timestamp),nonceStr:r.nonceStr,package:r.package,signType:r.signType,paySign:r.paySign,success:function(t){uni.showToast({title:"支付成功",icon:"success"}),setTimeout((function(){uni.redirectTo({url:"/pages/store/life/merchant?id=".concat(n)})}),1e3)},fail:function(t){uni.showToast({title:t.errMsg||"支付失败",icon:"none"}),setTimeout((function(){uni.redirectTo({url:"/pages/store/life/merchant?id=".concat(n)})}),2e3)}})}else e.data.result?(uni.showToast({title:"支付成功",icon:"success"}),setTimeout((function(){uni.redirectTo({url:"/pages/store/life/merchant?id=".concat(n)})}),2e3)):(uni.showToast({title:e.message||"支付参数错误",icon:"none"}),uni.navigateTo({url:"/pages/store/life/merchant?id=".concat(n)}))})).catch((function(t){uni.showToast({title:t.message||"创建订单失败",icon:"none"}),uni.navigateTo({url:"/pages/store/life/merchant?id=".concat(currentId)})})):uni.showToast({title:"请选择支付方式",icon:"none"}):uni.showToast({title:"请输入金额",icon:"none"})}}};e.default=f}}]);