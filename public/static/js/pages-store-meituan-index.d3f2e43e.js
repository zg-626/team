(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-store-meituan-index"],{"10a3":function(t,e,n){"use strict";n.r(e);var i=n("e7d7"),a=n("f590");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("95dc");var r=n("828b"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"59daa00e",null,!1,i["a"],void 0);e["default"]=u.exports},"1aa8":function(t,e,n){var i,a,o=n("bdbb").default;n("6a54"),n("d4b5"),n("7a76"),n("c9b5"),n("aa9c"),n("c223"),n("e966"),n("5c47"),n("0506"),n("5ef2"),function(r,u){"object"==o(e)&&"undefined"!=typeof t?t.exports=u():(i=u,a="function"===typeof i?i.call(e,n,e,t):i,void 0===a||(t.exports=a))}(0,(function(){"use strict";try{var t={};Object.defineProperty(t,"passive",{get:function(){}}),window.addEventListener("test-passive",null,t)}catch(t){}var e=Object.prototype.hasOwnProperty;function n(t,n){return e.call(t,n)}for(var i,a=[],o=function(t,e){var n={options:{timestamp:+new Date},name:t,arg:e};if(window.__dcloud_weex_postMessage||window.__dcloud_weex_){if("postMessage"===t){var i={data:[e]};return window.__dcloud_weex_postMessage?window.__dcloud_weex_postMessage(i):window.__dcloud_weex_.postMessage(JSON.stringify(i))}var o={type:"WEB_INVOKE_APPSERVICE",args:{data:n,webviewIds:a}};window.__dcloud_weex_postMessage?window.__dcloud_weex_postMessageToService(o):window.__dcloud_weex_.postMessageToService(JSON.stringify(o))}if(!window.plus)return window.parent.postMessage({type:"WEB_INVOKE_APPSERVICE",data:n,pageId:""},"*");if(0===a.length){var r=plus.webview.currentWebview();if(!r)throw new Error("plus.webview.currentWebview() is undefined");var u,s=r.parent();u=s?s.id:r.id,a.push(u)}if(plus.webview.getWebviewById("__uniapp__service"))plus.webview.postMessageToUniNView({type:"WEB_INVOKE_APPSERVICE",args:{data:n,webviewIds:a}},"__uniapp__service");else{var d=JSON.stringify(n);plus.webview.getLaunchWebview().evalJS('UniPlusBridge.subscribeHandler("'.concat("WEB_INVOKE_APPSERVICE",'",').concat(d,",").concat(JSON.stringify(a),");"))}},r={navigateTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url;o("navigateTo",{url:encodeURI(e)})},navigateBack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.delta;o("navigateBack",{delta:parseInt(e)||1})},switchTab:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url;o("switchTab",{url:encodeURI(e)})},reLaunch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url;o("reLaunch",{url:encodeURI(e)})},redirectTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url;o("redirectTo",{url:encodeURI(e)})},getEnv:function(t){window.plus?t({plus:!0}):t({h5:!0})},postMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o("postMessage",t.data||{})}},u=/uni-app/i.test(navigator.userAgent),s=/Html5Plus/i.test(navigator.userAgent),d=/complete|loaded|interactive/,c=window.my&&navigator.userAgent.indexOf("AlipayClient")>-1,l=window.swan&&window.swan.webView&&/swan/i.test(navigator.userAgent),f=window.qq&&window.qq.miniProgram&&/QQ/i.test(navigator.userAgent)&&/miniProgram/i.test(navigator.userAgent),p=window.tt&&window.tt.miniProgram&&/toutiaomicroapp/i.test(navigator.userAgent),v=window.wx&&window.wx.miniProgram&&/micromessenger/i.test(navigator.userAgent)&&/miniProgram/i.test(navigator.userAgent),g=window.qa&&/quickapp/i.test(navigator.userAgent),m=function(){window.UniAppJSBridge=!0,document.dispatchEvent(new CustomEvent("UniAppJSBridgeReady",{bubbles:!0,cancelable:!0}))},h=[function(t){if(u||s)return window.__dcloud_weex_postMessage||window.__dcloud_weex_?document.addEventListener("DOMContentLoaded",t):window.plus&&d.test(document.readyState)?setTimeout(t,0):document.addEventListener("plusready",t),r},function(t){if(v)return window.WeixinJSBridge&&window.WeixinJSBridge.invoke?setTimeout(t,0):document.addEventListener("WeixinJSBridgeReady",t),window.wx.miniProgram},function(t){if(f)return window.QQJSBridge&&window.QQJSBridge.invoke?setTimeout(t,0):document.addEventListener("QQJSBridgeReady",t),window.qq.miniProgram},function(t){if(c){document.addEventListener("DOMContentLoaded",t);var e=window.my;return{navigateTo:e.navigateTo,navigateBack:e.navigateBack,switchTab:e.switchTab,reLaunch:e.reLaunch,redirectTo:e.redirectTo,postMessage:e.postMessage,getEnv:e.getEnv}}},function(t){if(l)return document.addEventListener("DOMContentLoaded",t),window.swan.webView},function(t){if(p)return document.addEventListener("DOMContentLoaded",t),window.tt.miniProgram},function(t){if(g){window.QaJSBridge&&window.QaJSBridge.invoke?setTimeout(t,0):document.addEventListener("QaJSBridgeReady",t);var e=window.qa;return{navigateTo:e.navigateTo,navigateBack:e.navigateBack,switchTab:e.switchTab,reLaunch:e.reLaunch,redirectTo:e.redirectTo,postMessage:e.postMessage,getEnv:e.getEnv}}},function(t){return document.addEventListener("DOMContentLoaded",t),r}],w=0;w<h.length&&!(i=h[w](m));w++);i||(i={});var _="undefined"!=typeof webUni?webUni:{};if(!_.navigateTo)for(var b in i)n(i,b)&&(_[b]=i[b]);return _.webView=i,_}))},2177:function(t,e,n){var i=n("2aba");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("77d9648e",i,!0,{sourceMap:!1,shadowMode:!1})},"2aba":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.container[data-v-59daa00e]{padding:%?30?%;background-color:#f5f5f5}.pay-header[data-v-59daa00e]{background:linear-gradient(135deg,#4caf50,#2e7d32);color:#fff;padding:%?40?% %?30?%;border-radius:%?16?%;margin-bottom:%?30?%;box-shadow:0 %?4?% %?12?% rgba(46,125,50,.2)}.pay-title[data-v-59daa00e]{font-size:%?36?%;font-weight:700;margin-bottom:%?20?%}.pay-countdown[data-v-59daa00e]{font-size:%?28?%;opacity:.9}.payment-details[data-v-59daa00e],\r\n.coupon-info[data-v-59daa00e],\r\n.payment-method[data-v-59daa00e]{background-color:#fff;border-radius:%?16?%;padding:%?30?%;margin-bottom:%?30?%;box-shadow:0 %?2?% %?8?% rgba(0,0,0,.05)}.detail-title[data-v-59daa00e],\r\n.method-title[data-v-59daa00e]{font-size:%?32?%;font-weight:700;margin-bottom:%?30?%;position:relative;padding-left:%?20?%}.detail-title[data-v-59daa00e]::before,\r\n.method-title[data-v-59daa00e]::before{content:"";position:absolute;left:0;top:%?6?%;width:%?8?%;height:%?32?%;background-color:#4caf50;border-radius:%?4?%}.detail-item[data-v-59daa00e]{display:flex;justify-content:space-between;margin-bottom:%?20?%;font-size:%?28?%;color:#333}.discount-item[data-v-59daa00e]{color:#4caf50}.discount-amount[data-v-59daa00e]{color:#4caf50;font-weight:700}.total-amount[data-v-59daa00e]{display:flex;justify-content:space-between;margin-top:%?30?%;padding-top:%?30?%;border-top:1px solid #eee}.amount[data-v-59daa00e]{font-size:%?36?%;font-weight:700;color:#4caf50}.coupon-info[data-v-59daa00e]{display:flex;justify-content:space-between;align-items:center}.coupon-left[data-v-59daa00e]{flex:1}.coupon-available[data-v-59daa00e]{display:flex;flex-direction:column}.coupon-label[data-v-59daa00e]{font-size:%?28?%;color:#666;margin-bottom:%?10?%}.coupon-value[data-v-59daa00e]{font-size:%?32?%;font-weight:700;color:#4caf50}.no-coupon[data-v-59daa00e]{color:#999}.deduction-input-area[data-v-59daa00e]{width:100%}.input-wrapper[data-v-59daa00e]{display:flex;align-items:center;background-color:#f9f9f9;border-radius:%?8?%;padding:%?10?% %?20?%;border:1px solid #e0e0e0}.input-label[data-v-59daa00e]{font-size:%?28?%;color:#666;white-space:nowrap;margin-right:%?10?%}.deduction-input[data-v-59daa00e]{flex:1;height:%?60?%;font-size:%?28?%;background-color:initial}.input-unit[data-v-59daa00e]{font-size:%?28?%;color:#666;margin-left:%?5?%}.checkbox-container[data-v-59daa00e]{display:flex;align-items:center;margin-left:%?20?%}.checkbox[data-v-59daa00e]{width:%?40?%;height:%?40?%;border-radius:50%;border:1px solid #ddd;display:flex;align-items:center;justify-content:center;margin-right:%?10?%}.checkbox .iconfont[data-v-59daa00e]{font-size:%?40?%;color:#4caf50}.checkbox-label[data-v-59daa00e]{font-size:%?28?%;color:#333}.method-item[data-v-59daa00e]{display:flex;align-items:center;padding:%?20?% 0}.method-icon[data-v-59daa00e]{width:%?60?%;height:%?60?%;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:%?20?%}.wechat-icon[data-v-59daa00e]{background-color:#4caf50}.wechat-icon .iconfont[data-v-59daa00e]{color:#fff;font-size:%?36?%}.method-name[data-v-59daa00e]{flex:1;font-size:%?28?%}.method-selected .iconfont[data-v-59daa00e]{font-size:%?40?%;color:#4caf50}.pay-button-container[data-v-59daa00e]{margin-top:%?60?%;padding-bottom:%?40?%}.pay-button[data-v-59daa00e]{background:linear-gradient(135deg,#4caf50,#2e7d32);color:#fff;border:none;border-radius:%?50?%;height:%?90?%;line-height:%?90?%;font-size:%?32?%;font-weight:700;box-shadow:0 %?6?% %?16?% rgba(46,125,50,.3)}.pay-button[data-v-59daa00e]:active{-webkit-transform:scale(.98);transform:scale(.98)}.pay-button[disabled][data-v-59daa00e]{background:linear-gradient(135deg,#a5d6a7,#81c784);opacity:.7}.integral_checked[data-v-59daa00e]{border:none}',""]),t.exports=e},8306:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("e838"),n("c223"),n("d4b5"),n("5ef2"),n("5c47"),n("a1c1"),n("795c"),n("c9b5"),n("bf0f"),n("ab80");var a=i(n("9b1b")),o=n("b69b"),r=n("f87d"),u=n("6647"),s=n("a9c8"),d=n("8f59"),c=(i(n("1aa8")),{data:function(){return{amount:"",id:0,store:{},pay_type:"routine",mer_id:null,userinfo:{},user_deduction:!1,is_pay:null,use_amount:0,target:"",pvRatio:"",countdownTime:"00:15:08",productTotal:"25.20",serviceFee:"1.26",discountAmount:"0.00",finalAmount:"26.46",pointsReward:"1.52",coinReward:"26.46",hasDiscount:!0,isPayButtonDisabled:!1,FormData:{},isDeductionValid:!0,isOrderExpired:!1,returnUrl:""}},computed:(0,a.default)((0,a.default)({},(0,s.configMap)({hide_mer_status:1,recommend_switch:0,navigation:{}},(0,d.mapGetters)(["isLogin","viewColor"]))),{},{finalPayAmount:function(){if(!this.finalAmount||isNaN(parseFloat(this.finalAmount)))return"0.00";if(!this.user_deduction||!this.use_amount||isNaN(parseFloat(this.use_amount)))return this.finalAmount;var t=Math.max(0,parseFloat(this.finalAmount)-parseFloat(this.use_amount));return t.toFixed(2)}}),onLoad:function(t){this.FormData=t,this.returnUrl=t.returnUrl,t.phone&&(this.phone=t.phone),t.tradeNo&&(this.trade_no=t.tradeNo),t.orderId&&(this.id=t.orderId),this.startCountdown(),this.loginMobile()},mounted:function(){this.startCountdown()},methods:{loginMobile:function(){var t=this,e=this;(0,u.loginMobile)({phone:e.phone,sms_code:1234,user_type:"h5"}).then((function(n){var i=n.data;e.$store.commit("LOGIN",{token:i.token,time:i.exp}),e.$store.commit("SETUID",i.user.uid),e.$store.commit("UPDATE_USERINFO",i.user),t.getOrder(t.id),t.userinfo=i.user})).catch((function(t){e.$util.Tips({title:t})}))},getOrder:function(t){var e=this;(0,o.getOrderDetail)(t).then((function(t){e.store=t.data.store,e.productTotal=t.data.pay_price,e.finalAmount=t.data.pay_price,e.mer_id=t.data.mer_id,t.data.create_time?e.startCountdownFromCreateTime(t.data.create_time):e.startCountdown()}))},handleAmountChange:function(){this.user_deduction&&this.getConfirm()},changeDeduction:function(t){this.user_deduction=!this.user_deduction,this.user_deduction?parseFloat(this.userinfo.coupon_amount)>parseFloat(this.finalAmount)?this.use_amount=this.finalAmount:this.use_amount=this.userinfo.coupon_amount:this.use_amount=0},handleDeductionChange:function(){if(!isNaN(parseFloat(this.use_amount))&&""!==this.use_amount)return parseFloat(this.use_amount)<0?(jWeixin.miniProgram.showToast({title:"抵用券金额不能为负数",icon:"none"}),this.use_amount=0,void(this.isDeductionValid=!1)):parseFloat(this.use_amount)>parseFloat(this.userinfo.coupon_amount)?(jWeixin.miniProgram.showToast({title:"抵用券金额不能超过可用额度",icon:"none"}),this.use_amount=this.userinfo.coupon_amount,void(this.isDeductionValid=!1)):parseFloat(this.use_amount)>parseFloat(this.finalAmount)?(jWeixin.miniProgram.showToast({title:"抵用券金额不能超过商品总计",icon:"none"}),this.use_amount=this.finalAmount,void(this.isDeductionValid=!1)):void(this.isDeductionValid=!0);this.isDeductionValid=!1},getQueryString:function(t,e){for(var n=t.split("?"),i=n[1].split("&"),a=0;a<i.length;a++){var o=i[a].split("=");if(o[0]==e)return o[1]}},getConfirm:function(){var t=this,e={user_deduction:this.user_deduction,money:this.amount,use_integral:!1};(0,r.userDeduction)(e).then((function(e){t.is_pay=e.data.finalAmount,t.use_amount=e.data.use_deduction})).catch((function(e){jWeixin.miniProgram.showToast({title:"金额不能为空",icon:"none"}),t.user_deduction=!1}))},getUserInfo:function(){var t=this;(0,u.getUserInfo)().then((function(e){t.userinfo=e.data}))},tofied:function(){var t=this.id,e=this.pvRatio||this.store.commission_rate;jWeixin.miniProgram.navigateTo({url:"/pages/store/life/friend?id=".concat(t,"&pvRatio=").concat(e)})},goPay:function(){var t=this;this.isPayButtonDisabled||(!this.user_deduction||this.isDeductionValid?this.user_deduction&&parseFloat(this.use_amount)>parseFloat(this.finalAmount)?jWeixin.miniProgram.showToast({title:"抵用券额不能超过订单金额",icon:"none"}):(this.isPayButtonDisabled=!0,this.user_deduction?this.finalPayAmount:this.finalAmount,(0,o.meituanPay)({phone:this.phone,trade_no:this.trade_no,pay_type:"routine",is_app:1,user_deduction:this.user_deduction?this.use_amount:0}).then((function(e){if(0===parseFloat(t.user_deduction?t.finalPayAmount:t.finalAmount)||"success"==e.data.result.status)return jWeixin.miniProgram.showToast({title:"支付成功",icon:"success"}),void setTimeout((function(){jWeixin.miniProgram.navigateBack()}),1e3);if(e.data.result&&e.data.result.config){var n=e.data.result.config;t.isWeixinBrowser()?t.onBridgeReady(n):window.location.href=e.data.result.mweb_url||""}if("success"==e.data.result.status)jWeixin.miniProgram.showToast({title:"支付成功",icon:"success"}),setTimeout((function(){jWeixin.miniProgram.navigateBack()}));else{var i="支付处理失败，请稍后重试";e.message?i=e.message:e.data&&e.data.message?i=e.data.message:e.data&&e.data.result&&e.data.result.message?i=e.data.result.message:e.data&&e.data.result&&"string"===typeof e.data.result.status&&(i="支付处理失败，状态: ".concat(e.data.result.status)),jWeixin.miniProgram.showToast({title:i,icon:"none",duration:3e3}),t.isPayButtonDisabled=!1}})).catch((function(e){jWeixin.miniProgram.showToast({title:e||"创建订单失败",icon:"none"}),t.isPayButtonDisabled=!1}))):jWeixin.miniProgram.showToast({title:"请输入有效的抵用券额",icon:"none"}))},isWeixinBrowser:function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("micromessenger")},onBridgeReady:function(t){var e=this;"undefined"===typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",(function(){return e.callWeixinJSBridge(t)}),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",(function(){return e.callWeixinJSBridge(t)})),document.attachEvent("onWeixinJSBridgeReady",(function(){return e.callWeixinJSBridge(t)}))):this.callWeixinJSBridge(t)},callWeixinJSBridge:function(t){this.id;jWeixin.miniProgram.postMessage({data:{config:t}}),jWeixin.miniProgram.navigateBack({delta:1})},startCountdown:function(){var t=this;this.countdownInterval&&clearInterval(this.countdownInterval);var e=908;this.updateCountdownDisplay(e),this.countdownInterval=setInterval((function(){if(e--,e<=0)return clearInterval(t.countdownInterval),jWeixin.miniProgram.showToast({title:"支付超时",icon:"none"}),void setTimeout((function(){jWeixin.miniProgram.navigateBack()}),1500);t.updateCountdownDisplay(e)}),1e3)},startCountdownFromCreateTime:function(t){var e=this;this.countdownInterval&&clearInterval(this.countdownInterval);var n=new Date(t.replace(/-/g,"/")),i=new Date,a=Math.floor((i-n)/1e3),o=900-a;if(o<=0)return this.countdownTime="00:00",jWeixin.miniProgram.showToast({title:"支付已超时",icon:"none"}),this.isOrderExpired=!0,void setTimeout((function(){jWeixin.miniProgram.navigateBack()}),1500);this.updateCountdownDisplay(o),this.countdownInterval=setInterval((function(){if(o--,o<=0)return clearInterval(e.countdownInterval),jWeixin.miniProgram.showToast({title:"支付超时",icon:"none"}),e.isOrderExpired=!0,void setTimeout((function(){jWeixin.miniProgram.navigateBack()}),1500);e.updateCountdownDisplay(o)}),1e3)},updateCountdownDisplay:function(t){var e=Math.floor(t/60),n=t%60;this.countdownTime="".concat(e.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},switchAccount:function(){jWeixin.miniProgram.showToast({title:"切换商家账户",icon:"none"})}},handleDeductionChange:function(){return this.isDeductionValid=!0,isNaN(parseFloat(this.use_amount))?(this.use_amount=0,void(this.isDeductionValid=!1)):parseFloat(this.use_amount)>parseFloat(this.userinfo.coupon_amount)?(this.use_amount=this.userinfo.coupon_amount,jWeixin.miniProgram.showToast({title:"抵用券额不能超过可用抵用券额",icon:"none"}),void(this.isDeductionValid=!1)):parseFloat(this.use_amount)>parseFloat(this.finalAmount)?(this.use_amount=this.finalAmount,jWeixin.miniProgram.showToast({title:"抵用券额不能超过订单金额",icon:"none"}),void(this.isDeductionValid=!1)):parseFloat(this.use_amount)<0?(this.use_amount=0,void(this.isDeductionValid=!1)):void 0},beforeDestroy:function(){this.countdownInterval&&clearInterval(this.countdownInterval)}});e.default=c},"95dc":function(t,e,n){"use strict";var i=n("2177"),a=n.n(i);a.a},b69b:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getOrderDetail=function(t){return a.default.get("order/mtdetail/"+t)},e.meituanPay=function(t){return a.default.post("meituan/meituan_pay",t)};var a=i(n("64b7"))},e7d7:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"pay-header"},[n("v-uni-view",{staticClass:"pay-title"},[t._v("请支付")]),n("v-uni-view",{staticClass:"pay-countdown"},[t._v("剩余支付时间: "+t._s(t.countdownTime))])],1),n("v-uni-view",{staticClass:"payment-details"},[n("v-uni-view",{staticClass:"detail-title"},[t._v("支付明细")]),n("v-uni-view",{staticClass:"detail-item"},[n("v-uni-text",[t._v("商品总计")]),n("v-uni-text",[t._v("¥"+t._s(t.productTotal))])],1),t.user_deduction&&parseFloat(t.use_amount)>0?n("v-uni-view",{staticClass:"detail-item discount-item"},[n("v-uni-text",[t._v("抵用券抵扣")]),n("v-uni-text",{staticClass:"discount-amount"},[t._v("-¥"+t._s(t.use_amount))])],1):t._e(),n("v-uni-view",{staticClass:"total-amount"},[n("v-uni-text",[t._v("实付")]),n("v-uni-text",{staticClass:"amount"},[t._v("¥"+t._s(t.user_deduction?t.finalPayAmount:t.finalAmount))])],1)],1),t.userinfo.coupon_amount?n("v-uni-view",{staticClass:"coupon-info"},[n("v-uni-view",{staticClass:"coupon-left"},[parseFloat(t.userinfo.coupon_amount)>0?n("v-uni-view",[t.user_deduction?n("v-uni-view",{staticClass:"deduction-input-area"},[n("v-uni-view",{staticClass:"input-wrapper"},[n("v-uni-text",{staticClass:"input-label"},[t._v("抵用券金额：")]),n("v-uni-input",{staticClass:"deduction-input",attrs:{type:"digit",placeholder:"请输入抵用券额"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handleDeductionChange.apply(void 0,arguments)}},model:{value:t.use_amount,callback:function(e){t.use_amount=e},expression:"use_amount"}})],1)],1):n("v-uni-view",{staticClass:"coupon-available"},[n("v-uni-text",{staticClass:"coupon-label"},[t._v("当前可抵用券金额")]),n("v-uni-text",{staticClass:"coupon-value"},[t._v(t._s(t.userinfo.coupon_amount)+"元")])],1)],1):n("v-uni-text",{staticClass:"coupon-label no-coupon"},[t._v("暂无抵用券")])],1),parseFloat(t.userinfo.coupon_amount)>0?n("v-uni-view",{staticClass:"checkbox-container",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeDeduction.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"checkbox integral_checked"},[t.user_deduction?n("v-uni-view",{staticClass:"iconfont icon-xuanzhong1"}):n("v-uni-view",{staticClass:"iconfont icon-weixuanzhong"})],1),n("v-uni-text",{staticClass:"checkbox-label"},[t._v("使用抵用券")])],1):t._e()],1):t._e(),n("v-uni-view",{staticClass:"payment-method"},[n("v-uni-view",{staticClass:"method-title"},[t._v("支付方式")]),n("v-uni-view",{staticClass:"method-item selected"},[n("v-uni-view",{staticClass:"method-icon wechat-icon"},[n("v-uni-text",{staticClass:"iconfont icon-weixinzhifu"})],1),n("v-uni-view",{staticClass:"method-name"},[t._v("微信支付")]),n("v-uni-view",{staticClass:"method-selected"},[n("v-uni-text",{staticClass:"iconfont icon-xuanzhong1"})],1)],1)],1),n("v-uni-view",{staticClass:"pay-button-container"},[n("v-uni-button",{staticClass:"pay-button",attrs:{disabled:t.isPayButtonDisabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPay.apply(void 0,arguments)}}},[t._v("¥"+t._s(t.user_deduction?t.finalPayAmount:t.finalAmount)+" 继续支付")])],1)],1)},a=[]},f590:function(t,e,n){"use strict";n.r(e);var i=n("8306"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},f87d:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.applyInvoiceApi=function(t,e){return a.default.post("order/receipt/".concat(t),e)},e.cartDel=function(t){return a.default.post("user/cart/delete",t)},e.cartProductAttr=function(t){return a.default.get("store/product/get_attr_value/".concat(t))},e.changeCartNum=function(t,e){return a.default.post("user/cart/change/"+t,e)},e.createOrder=function(t){return a.default.post("v2/order/create",t,{noAuth:!0})},e.createPay=function(t){return a.default.post("order/offline/create",t)},e.develiveryDetail=function(t){return a.default.get("order/delivery/".concat(t))},e.express=function(t){return a.default.post("order/express/"+t)},e.expressList=function(){return a.default.get("common/express")},e.findFriends=function(t){return a.default.get("user/find_friends?phone="+t)},e.getCallBackUrlApi=function(t){return a.default.get("common/pay_key/"+t,{},{noAuth:!0})},e.getCartCounts=function(){return a.default.get("user/cart/count")},e.getCartList=function(){return a.default.get("user/cart/lst")},e.getCouponsOrderPrice=function(t,e){return a.default.get("coupons/order/"+t,e)},e.getOfflineDetail=function(t){return a.default.get("order/offline/detail/"+t)},e.getOfflineOrderList=function(t){return a.default.get("order/offline/list",t)},e.getOrderConfirm=function(t){return a.default.post("v2/order/check",t)},e.getOrderDetail=function(t){return a.default.get("order/detail/"+t)},e.getOrderList=function(t){return a.default.get("order/list",t)},e.getPayOrder=function(t){return a.default.get("order/status/"+t)},e.getReceiptOrder=function(t){return a.default.get("user/receipt/order/"+t)},e.groupOrderDetail=function(t){return a.default.get("order/group_order_detail/"+t)},e.groupOrderList=function(t){return a.default.get("order/group_order_list",t,{noAuth:!0})},e.integralOrderPay=function(t,e){return a.default.post("order/points/pay/"+t,e)},e.ordeRefundReason=function(){return a.default.get("order/refund/reason")},e.orderAgain=function(t){return a.default.post("user/cart/again",t)},e.orderComment=function(t,e){return a.default.post("reply/"+t,e)},e.orderConfirm=function(t){return a.default.post("order/check",t)},e.orderCreate=function(t){return a.default.post("order/create",t,{noAuth:!0})},e.orderData=function(){return a.default.get("order/number")},e.orderDel=function(t){return a.default.post("order/del/"+t)},e.orderPay=function(t,e){return a.default.post("order/pay/"+t,e)},e.orderProduct=function(t){return a.default.get("reply/product/"+t)},e.orderRefundVerify=function(t){return a.default.post("order/refund/verify",t)},e.orderTake=function(t){return a.default.post("order/take/"+t)},e.postOrderComputed=function(t,e){return a.default.post("/order/computed/"+t,e)},e.presellOrderPay=function(t,e){return a.default.post("presell/pay/"+t,e)},e.receiptOrder=function(t){return a.default.get("user/receipt/order",t)},e.refundApply=function(t,e){return a.default.post("refund/apply/"+t,e,{noAuth:!0})},e.refundBackGoods=function(t,e){return a.default.post("refund/back_goods/"+t,e,{noAuth:!0})},e.refundBatch=function(t){return a.default.get("refund/batch_product/"+t,{noAuth:!0})},e.refundCancelApi=function(t){return a.default.post("refund/cancel/".concat(t))},e.refundDel=function(t){return a.default.post("refund/del/"+t,{noAuth:!0})},e.refundDetail=function(t){return a.default.get("refund/detail/"+t,{noAuth:!0})},e.refundExpress=function(t){return a.default.get("refund/express/"+t,{noAuth:!0})},e.refundList=function(t){return a.default.get("refund/list",t,{noAuth:!0})},e.refundMessage=function(){return a.default.get("common/refund_message",{noAuth:!0})},e.refundOrderExpress=function(t,e){return a.default.get("server/".concat(t,"/refund/express/").concat(e))},e.refundProduct=function(t,e){return a.default.get("refund/product/"+t,e,{noAuth:!0})},e.unOrderCancel=function(t){return a.default.post("order/cancel/"+t)},e.userDeduction=function(t){return a.default.post("order/offline/check",t)},e.verifyCode=function(t){return a.default.get("order/verify_code/"+t)},n("c223");var a=i(n("64b7"))}}]);