(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-points_mall-exchange_record"],{"0ddc":function(t,e,n){"use strict";var i=n("9dd3"),a=n.n(i);a.a},1184:function(t,e,n){var i=n("1761");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("235c3bfa",i,!0,{sourceMap:!1,shadowMode:!1})},1761:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.empty-box[data-v-f1a26612]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:%?200?%}.empty-box uni-image[data-v-f1a26612]{width:%?414?%;height:%?240?%}.empty-box .txt[data-v-f1a26612]{font-size:%?26?%;color:#999}',""]),t.exports=e},"3d09":function(t,e,n){"use strict";n.r(e);var i=n("dc3c"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"4d7d":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.exchange-record .item[data-v-4053d546]{background-color:#fff;margin:%?10?% %?30?%;border-radius:%?6?%}.exchange-record .item .exchange_record-time[data-v-4053d546]{color:#333;border-bottom:1px solid #eee;padding:%?22?% %?30?%;display:flex;justify-content:space-between}.exchange-record .item .exchange_record-time .status[data-v-4053d546]{color:var(--view-theme)}.exchange-record .item .picTxt[data-v-4053d546]{border-bottom:1px solid #f0f0f0;padding:%?30?% %?30?%}.exchange-record .item .picTxt .pictrue[data-v-4053d546]{width:%?120?%;height:%?120?%}.exchange-record .item .picTxt .pictrue uni-image[data-v-4053d546]{width:100%;height:100%;border-radius:%?6?%}.exchange-record .item .picTxt .text[data-v-4053d546]{width:%?470?%;font-size:%?30?%;color:#282828}.exchange-record .item .picTxt .text .time[data-v-4053d546]{font-size:%?24?%;color:#868686;justify-content:left!important}.exchange-record .item .picTxt .text .successTxt[data-v-4053d546]{font-size:%?24?%}.exchange-record .item .picTxt .text .endTxt[data-v-4053d546]{font-size:%?24?%;color:#999}.exchange-record .item .picTxt .text .money[data-v-4053d546]{font-size:%?24?%}.exchange-record .item .picTxt .text .money .num[data-v-4053d546]{font-size:%?32?%;font-weight:700}.exchange-record .item .picTxt .text .money .symbol[data-v-4053d546]{font-weight:700}.exchange-record .item .bottom[data-v-4053d546]{height:%?100?%;padding:0 %?30?%;font-size:%?27?%}.exchange-record .item .bottom .purple[data-v-4053d546]{color:#f78513}.exchange-record .item .bottom .end[data-v-4053d546]{color:#999}.exchange-record .item .bottom .success[data-v-4053d546]{color:#e93323}.exchange-record .item .bottom .bnt[data-v-4053d546]{font-size:%?27?%;color:#fff;width:%?176?%;height:%?60?%;border-radius:%?32?%;text-align:center;line-height:%?60?%}.exchange-record .item .bottom .bnt.cancel[data-v-4053d546]{color:#aaa;border:1px solid #ddd}.exchange-record .item .bottom .bnt ~ .bnt[data-v-4053d546]{margin-left:%?18?%}.exchange-record .item .bottom .bg-colort[data-v-4053d546]{background-color:var(--view-theme)}.gray-sty[data-v-4053d546]{width:100%;font-size:%?24?%;color:#999}',""]),t.exports=e},8752:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{style:t.viewColor},[t.exchangeList.length>0?n("v-uni-view",[n("v-uni-view",{staticClass:"exchange-record"},t._l(t.exchangeList,(function(e,i){return n("v-uni-view",{key:i},t._l(e.orderProduct,(function(a,o){return n("v-uni-view",{key:o,staticClass:"item"},[n("v-uni-view",{staticClass:"exchange_record-time"},[n("v-uni-view",[t._v(t._s(1==e.paid?"兑换时间："+e.pay_time:"订单编号："+e.order_sn))]),0==e.paid?n("v-uni-view",{staticClass:"status"},[t._v("待付款")]):n("v-uni-view",{staticClass:"status"},[t._v(t._s(0==e.status?"待发货":1==e.status?"待收货":"已完成"))])],1),a.cart_info?n("v-uni-view",{staticClass:"picTxt acea-row row-between-wrapper"},[n("v-uni-view",{staticClass:"pictrue"},[n("v-uni-image",{attrs:{src:a.cart_info.productAttr&&a.cart_info.productAttr.image||a.cart_info.product.image}})],1),n("v-uni-view",{staticClass:"text acea-row row-column-around"},[n("v-uni-view",{staticClass:"line1",staticStyle:{width:"100%"}},[t._v(t._s(a.cart_info.product.store_name))]),n("v-uni-view",{staticClass:"line1 gray-sty"},[t._v(t._s(a.cart_info.productAttr&&a.cart_info.productAttr.sku||"默认"))])],1)],1):t._e(),n("v-uni-view",{staticClass:"bottom acea-row row-between-wrapper"},[n("v-uni-view",{staticClass:"end"}),n("v-uni-view",{staticClass:"acea-row row-middle row-right"},[0==e.paid?n("v-uni-view",{staticClass:"bnt bg-colort",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goPay(e)}}},[t._v("立即付款")]):t._e(),2!=e.status&&1!=e.status||1!=e.delivery_type?t._e():n("v-uni-view",{staticClass:"bnt cancel",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getLogistics(e.order_id)}}},[t._v("查看物流")]),3==e.status&&1==e.paid?n("v-uni-view",{staticClass:"bnt cancel",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.delOrder(e.order_id,i,o)}}},[t._v("删除")]):t._e(),1==e.paid?n("v-uni-view",{staticClass:"bnt bg-colort",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goDetail(e.order_id)}}},[t._v("查看详情")]):t._e()],1)],1)],1)})),1)})),1)],1):t._e(),t.isLogin?n("v-uni-view",{staticClass:"acea-row row-center-wrapper loadingicon",attrs:{hidden:!t.loading}},[n("v-uni-text",{staticClass:"iconfont icon-jiazai loading",attrs:{hidden:!t.loading}}),t._v(t._s(t.loadTitle))],1):t._e(),0!=t.exchangeList.length||t.loading?t._e():[n("emptyPage",{attrs:{title:"暂无兑换记录～"}})],n("payment",{attrs:{payMode:t.payMode,order_type:2,pay_close:t.pay_close,returnUrl:"/pages/points_mall/integral_order_details?order_id="+t.order_id,order_id:t.pay_order_id,totalPrice:t.totalPrice},on:{onChangeFun:function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeFun.apply(void 0,arguments)}}})],2)},a=[]},"90a8":function(t,e,n){"use strict";n.r(e);var i=n("e652"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},9252:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getIntegralGoodsList=function(t){return a.default.get("points/lst",t,{noAuth:!0})},e.getIntegralHome=function(){return a.default.get("points/home",{},{noAuth:!0})},e.getIntegralProductDetail=function(t){return a.default.get("points/detail/".concat(t),{},{noAuth:!0})},e.getIntegralScope=function(){return a.default.get("points/scope",{},{noAuth:!0})},e.integralOrderConfirm=function(t){return a.default.post("order/v3/check",t,{noAuth:!0})},e.integralOrderCreate=function(t){return a.default.post("order/v3/create",t,{noAuth:!0})},e.integralOrderDelete=function(t){return a.default.post("points/order/deleate/".concat(t),{},{noAuth:!0})},e.integralOrderDetail=function(t){return a.default.get("points/order/detail/".concat(t),{},{noAuth:!0})},e.integralOrderList=function(t){return a.default.get("points/order/lst",t,{noAuth:!0})},e.integralOrderTake=function(t){return a.default.post("points/order/take/".concat(t),{},{noAuth:!0})};var a=i(n("3314"))},"9dd3":function(t,e,n){var i=n("4d7d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("658e1190",i,!0,{sourceMap:!1,shadowMode:!1})},b1dc:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"empty-box"},[e("v-uni-image",{attrs:{src:"/static/images/empty-box.png"}}),e("v-uni-view",{staticClass:"txt"},[this._v(this._s(this.title))])],1)},a=[]},c71c:function(t,e,n){"use strict";n.r(e);var i=n("b1dc"),a=n("90a8");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("e6c2");var r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"f1a26612",null,!1,i["a"],void 0);e["default"]=c.exports},dc3c:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("14d9"),n("d401"),n("d3b7"),n("25f0"),n("a434");var a=i(n("5530")),o=i(n("c71c")),r=n("26cb"),c=n("9252"),d=n("6859"),s=i(n("fecf")),u=n("3255"),l=n("ddb3"),p={name:"exchangeRecord",components:{emptyPage:o.default,payment:s.default},props:{},data:function(){return{exchangeList:[],payMode:[{name:"微信支付",icon:"icon-weixinzhifu",value:"wechat",title:"微信快捷支付",payStatus:1},{name:"支付宝支付",icon:"icon-zhifubao",value:"alipay",title:"支付宝支付",payStatus:this.$store.getters.globalData.alipay_open},{name:"余额支付",icon:"icon-yuezhifu",value:"balance",title:"可用余额:",number:0,payStatus:this.$store.getters.globalData.yue_pay_status}],loadend:!1,loading:!1,loadTitle:"加载更多",page:1,limit:20,userInfo:{},pay_close:!1,pay_order_id:"",order_id:"",totalPrice:"0",delta:1}},computed:(0,a.default)((0,a.default)({},(0,r.mapGetters)(["isLogin","viewColor"])),(0,u.configMap)(["alipay_open","yue_pay_status"])),watch:{alipay_open:function(t){this.payMode[1].payStatus=t},yue_pay_status:function(t){this.payMode[2].payStatus=t}},onLoad:function(t){this.delta=t.delta||0},onUnload:function(){},onShow:function(){!1===this.isLogin?(0,l.toLogin)():(this.getIntegralOrderList(),this.getUserInfo())},methods:{goDetail:function(t){uni.navigateTo({url:"/pages/points_mall/integral_order_details?order_id=".concat(t)})},getUserInfo:function(){var t=this;(0,d.getUserInfo)().then((function(e){t.payMode[2].number=e.data.now_money}))},getIntegralOrderList:function(){var t=this;t.loadend||t.loading||(t.loading=!0,t.loadTitle="",(0,c.integralOrderList)({page:t.page,limit:t.limit}).then((function(e){var n=e.data.list.length<t.limit;t.loadend=n,t.loading=!1,t.loadTitle=n?"已全部加载":"加载更多",t.exchangeList.push.apply(t.exchangeList,e.data.list),t.page++})).catch((function(e){t.$util.Tips({title:e})})))},goPay:function(t){this.$set(this,"pay_close",!0),this.order_id=t.order_id,this.pay_order_id=t.group_order_id.toString(),this.$set(this,"totalPrice",t.pay_price)},pay_complete:function(){this.loadend=!1,this.page=1,this.$set(this,"exchangeList",[]),this.pay_close=!1,this.pay_order_id="",this.getIntegralOrderList()},pay_fail:function(){this.pay_close=!1,this.pay_order_id=""},payClose:function(){this.$set(this,"pay_close",!1),this.pay_order_id=""},onChangeFun:function(t){var e=t,n=e.action||null,i=void 0!=e.value?e.value:null;n&&this[n]&&this[n](i)},goOrderDetails:function(t){if(!t)return that.$util.Tips({title:"缺少订单号无法查看订单详情"});uni.navigateTo({url:"/pages/points_mall/integral_order_details?order_id="+t})},getLogistics:function(t){uni.navigateTo({url:"/pages/users/goods_logistics/index?orderId=".concat(t)})},delOrder:function(t,e,n){var i=this;uni.showModal({title:"提示",content:"确定删除该记录吗？",success:function(a){a.confirm?(0,c.integralOrderDelete)(t).then((function(t){i.exchangeList[e]["orderProduct"].splice(n,1),i.$util.Tips({title:"删除成功"})})).catch((function(t){return i.$util.Tips({title:t})})):a.cancel}})}},onReachBottom:function(){this.getIntegralOrderList()}};e.default=p},e652:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{title:{type:String,default:"暂无记录"}}};e.default=i},e6c2:function(t,e,n){"use strict";var i=n("1184"),a=n.n(i);a.a},ebbd:function(t,e,n){"use strict";n.r(e);var i=n("8752"),a=n("3d09");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("0ddc");var r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"4053d546",null,!1,i["a"],void 0);e["default"]=c.exports}}]);