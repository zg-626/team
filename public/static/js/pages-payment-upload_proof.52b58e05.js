(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-payment-upload_proof"],{"0543":function(t,e,r){var n=r("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.upload-proof-container[data-v-257718c0]{background-image:linear-gradient(var(--view-bntColor21),var(--view-bntColor22));min-height:100vh}.bg-container[data-v-257718c0]{line-height:0}.bg-image[data-v-257718c0]{width:100%}.content-card[data-v-257718c0]{background-color:#fff;border-radius:12px;padding:22px 0;margin:0 15px;position:absolute;top:%?200?%;width:calc(100% - 30px)}.card-header[data-v-257718c0]{text-align:center;padding:0 20px %?30?%;border-bottom:1px solid #eee;margin:0 20px}.page-title[data-v-257718c0]{font-size:%?36?%;font-weight:600;color:#333}.form-list[data-v-257718c0]{padding:0}.form-item[data-v-257718c0]{padding:%?50?% 0 %?20?%;border-bottom:1px solid #eee;position:relative;margin:0 20px}.form-item.no-border[data-v-257718c0]{border-bottom:none;padding-left:0;padding-right:0}.form-item .item-title[data-v-257718c0]{color:#666;font-size:%?28?%;display:block}.form-item .item-desc[data-v-257718c0]{color:#b2b2b2;font-size:%?22?%;display:block;margin-top:%?9?%;line-height:%?36?%;width:100%}.acea-row[data-v-257718c0]{display:flex;flex-wrap:wrap}.acea-row.row-middle[data-v-257718c0]{align-items:center;padding-left:2px}.acea-row.row-column[data-v-257718c0]{flex-direction:column}.acea-row.row-center-wrapper[data-v-257718c0]{align-items:center;justify-content:center}.item-name[data-v-257718c0]{width:%?190?%;font-size:%?30?%;color:#333}.input-wrapper[data-v-257718c0]{display:flex;align-items:center;flex:1;border-radius:%?8?%;padding:0 %?24?%;height:%?80?%}.currency[data-v-257718c0]{font-size:%?30?%;color:#666;margin-right:%?12?%;font-weight:500}.amount-input[data-v-257718c0]{flex:1;font-size:%?30?%;color:#333;border:none;outline:none;background:transparent}.placeholder[data-v-257718c0]{color:#b2b2b2}.upload[data-v-257718c0]{display:flex;flex-wrap:wrap;margin-top:%?20?%}.pictrue[data-v-257718c0]{width:%?130?%;height:%?130?%;margin:%?24?% %?22?% 0 0;position:relative;font-size:11px;color:#bbb}.pictrue[data-v-257718c0]:nth-child(4n){margin-right:0}.pictrue[data-v-257718c0]:nth-last-child(1){border:.5px solid #ddd;box-sizing:border-box}.pictrue uni-image[data-v-257718c0]{width:100%;height:100%;border-radius:1px}.pictrue .icon-guanbi1[data-v-257718c0]{font-size:%?33?%;position:absolute;top:-10px;right:-10px;color:#ff4757}.pictrue .icon-icon25201[data-v-257718c0]{font-size:%?40?%;color:#b4b1b4;margin-bottom:%?10?%}.submit-btn[data-v-257718c0]{width:%?588?%;margin:%?40?% auto 0;height:%?86?%;border-radius:25px;text-align:center;line-height:%?86?%;font-size:15px;color:#fff;background:#e3e3e3;border:none}.submit-btn.on[data-v-257718c0]{background:var(--view-theme)}.tips-card[data-v-257718c0]{background-color:#fff;border-radius:12px;padding:%?30?%;margin:%?30?% 15px 0}.tips-header[data-v-257718c0]{display:flex;align-items:center;margin-bottom:%?20?%}.tips-icon[data-v-257718c0]{font-size:%?32?%;margin-right:%?12?%}.tips-title[data-v-257718c0]{font-size:%?28?%;color:#333;font-weight:500}.tips-content[data-v-257718c0]{display:flex;flex-direction:column;gap:%?12?%}.tip-item[data-v-257718c0]{font-size:%?26?%;color:#666;line-height:1.5}.loading-icon[data-v-257718c0]{height:100vh;overflow:hidden;position:absolute;top:0;left:0;background:rgba(0,0,0,.3)}.loading[data-v-257718c0]{font-size:%?40?%;color:#fff;-webkit-animation:rotate-data-v-257718c0 1s linear infinite;animation:rotate-data-v-257718c0 1s linear infinite}@-webkit-keyframes rotate-data-v-257718c0{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate-data-v-257718c0{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.disabled-input[data-v-257718c0]{background-color:#f5f5f5!important;color:#999!important;cursor:not-allowed}',""]),t.exports=e},"0744":function(t,e,r){"use strict";r("6a54");var n=r("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.applyInvoiceApi=function(t,e){return a.default.post("order/receipt/".concat(t),e)},e.cartDel=function(t){return a.default.post("user/cart/delete",t)},e.cartProductAttr=function(t){return a.default.get("store/product/get_attr_value/".concat(t))},e.changeCartNum=function(t,e){return a.default.post("user/cart/change/"+t,e)},e.createOrder=function(t){return a.default.post("v2/order/create",t,{noAuth:!0})},e.createPay=function(t){return a.default.post("order/offline/create",t)},e.develiveryDetail=function(t){return a.default.get("order/delivery/".concat(t))},e.express=function(t){return a.default.post("order/express/"+t)},e.expressList=function(){return a.default.get("common/express")},e.findFriends=function(t){return a.default.get("user/find_friends?phone="+t)},e.getCallBackUrlApi=function(t){return a.default.get("common/pay_key/"+t,{},{noAuth:!0})},e.getCartCounts=function(){return a.default.get("user/cart/count")},e.getCartList=function(){return a.default.get("user/cart/lst")},e.getCouponsOrderPrice=function(t,e){return a.default.get("coupons/order/"+t,e)},e.getOfflineDetail=function(t){return a.default.get("order/offline/detail/"+t)},e.getOfflineOrderList=function(t){return a.default.get("order/offline/list",t)},e.getOrderConfirm=function(t){return a.default.post("v2/order/check",t)},e.getOrderDetail=function(t){return a.default.get("order/detail/"+t)},e.getOrderList=function(t){return a.default.get("order/list",t)},e.getPayOrder=function(t){return a.default.get("order/status/"+t)},e.getReceiptOrder=function(t){return a.default.get("user/receipt/order/"+t)},e.groupOrderDetail=function(t){return a.default.get("order/group_order_detail/"+t)},e.groupOrderList=function(t){return a.default.get("order/group_order_list",t,{noAuth:!0})},e.integralOrderPay=function(t,e){return a.default.post("order/points/pay/"+t,e)},e.ordeRefundReason=function(){return a.default.get("order/refund/reason")},e.orderAgain=function(t){return a.default.post("user/cart/again",t)},e.orderComment=function(t,e){return a.default.post("reply/"+t,e)},e.orderConfirm=function(t){return a.default.post("order/check",t)},e.orderCreate=function(t){return a.default.post("order/create",t,{noAuth:!0})},e.orderData=function(){return a.default.get("order/number")},e.orderDel=function(t){return a.default.post("order/del/"+t)},e.orderPay=function(t,e){return a.default.post("order/pay/"+t,e)},e.orderProduct=function(t){return a.default.get("reply/product/"+t)},e.orderRefundVerify=function(t){return a.default.post("order/refund/verify",t)},e.orderTake=function(t){return a.default.post("order/take/"+t)},e.postOrderComputed=function(t,e){return a.default.post("/order/computed/"+t,e)},e.presellOrderPay=function(t,e){return a.default.post("presell/pay/"+t,e)},e.receiptOrder=function(t){return a.default.get("user/receipt/order",t)},e.refundApply=function(t,e){return a.default.post("refund/apply/"+t,e,{noAuth:!0})},e.refundBackGoods=function(t,e){return a.default.post("refund/back_goods/"+t,e,{noAuth:!0})},e.refundBatch=function(t){return a.default.get("refund/batch_product/"+t,{noAuth:!0})},e.refundCancelApi=function(t){return a.default.post("refund/cancel/".concat(t))},e.refundDel=function(t){return a.default.post("refund/del/"+t,{noAuth:!0})},e.refundDetail=function(t){return a.default.get("refund/detail/"+t,{noAuth:!0})},e.refundExpress=function(t){return a.default.get("refund/express/"+t,{noAuth:!0})},e.refundList=function(t){return a.default.get("refund/list",t,{noAuth:!0})},e.refundMessage=function(){return a.default.get("common/refund_message",{noAuth:!0})},e.refundOrderExpress=function(t,e){return a.default.get("server/".concat(t,"/refund/express/").concat(e))},e.refundProduct=function(t,e){return a.default.get("refund/product/"+t,e,{noAuth:!0})},e.unOrderCancel=function(t){return a.default.post("order/cancel/"+t)},e.uploadPayProofApi=function(t){return a.default.post("order/upload_payment_voucher",t)},e.userDeduction=function(t){return a.default.post("order/offline/check",t)},e.verifyCode=function(t){return a.default.get("order/verify_code/"+t)},r("c223");var a=n(r("79e6"))},3661:function(t,e,r){"use strict";r.r(e);var n=r("75ec"),a=r("40a4");for(var i in a)["default"].indexOf(i)<0&&function(t){r.d(e,t,(function(){return a[t]}))}(i);r("645d");var o=r("828b"),d=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"257718c0",null,!1,n["a"],void 0);e["default"]=d.exports},"40a4":function(t,e,r){"use strict";r.r(e);var n=r("838e"),a=r.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},"4d4f":function(t,e,r){var n=r("0543");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=r("967d").default;a("2537a1c5",n,!0,{sourceMap:!1,shadowMode:!1})},"645d":function(t,e,r){"use strict";var n=r("4d4f"),a=r.n(n);a.a},"75ec":function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"upload-proof-container",style:t.viewColor},[r("v-uni-view",{staticClass:"bg-container"},[r("v-uni-image",{staticClass:"bg-image",attrs:{mode:"widthFix",src:t.domain+"/static/diy/paymentBg"+t.keyColor+".jpg",alt:""}})],1),r("v-uni-view",{staticClass:"content-card"},[r("v-uni-view",{staticClass:"card-header"},[r("v-uni-text",{staticClass:"page-title"},[t._v("上传支付凭证")])],1),r("v-uni-view",{staticClass:"form-list"},[r("v-uni-view",{staticClass:"form-item"},[r("v-uni-view",{staticClass:"acea-row row-middle"},[r("v-uni-text",{staticClass:"item-name"},[t._v("支付金额")]),r("v-uni-view",{staticClass:"input-wrapper"},[r("v-uni-text",{staticClass:"currency"},[t._v("¥")]),r("v-uni-input",{staticClass:"amount-input",class:{"disabled-input":t.hasOrderId},attrs:{type:"digit",placeholder:"请输入支付金额","placeholder-class":"placeholder",disabled:t.hasOrderId},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onAmountInput.apply(void 0,arguments)}},model:{value:t.formData.money,callback:function(e){t.$set(t.formData,"money",e)},expression:"formData.money"}})],1)],1)],1),r("v-uni-view",{staticClass:"form-item no-border"},[r("v-uni-view",{staticClass:"acea-row row-middle"},[r("v-uni-text",{staticClass:"item-title"},[t._v("请上传支付凭证图片")]),r("v-uni-text",{staticClass:"item-desc"},[t._v("(支持JPG、PNG格式，大小不超过5MB)")]),r("v-uni-view",{staticClass:"upload"},[t.imageUrl?r("v-uni-view",{staticClass:"pictrue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage.apply(void 0,arguments)}}},[r("v-uni-image",{attrs:{src:t.imageUrl,mode:"aspectFill"}}),r("v-uni-text",{staticClass:"iconfont icon-guanbi1",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.deleteImage.apply(void 0,arguments)}}})],1):t._e(),t.imageUrl?t._e():r("v-uni-view",{staticClass:"pictrue acea-row row-center-wrapper row-column",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseImage.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"iconfont icon-icon25201"}),r("v-uni-view",[t._v("上传图片")])],1)],1)],1)],1),r("v-uni-button",{staticClass:"submit-btn",class:t.canSubmit?"on":"",attrs:{disabled:!t.canSubmit},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitProof.apply(void 0,arguments)}}},[t._v(t._s(t.loading?"提交中...":"提交申请"))])],1)],1),r("v-uni-view",{staticClass:"tips-card"},[r("v-uni-view",{staticClass:"tips-header"},[r("v-uni-text",{staticClass:"tips-icon"},[t._v("💡")]),r("v-uni-text",{staticClass:"tips-title"},[t._v("温馨提示")])],1),r("v-uni-view",{staticClass:"tips-content"},[r("v-uni-text",{staticClass:"tip-item"},[t._v("• 请确保上传的支付凭证清晰可见")]),r("v-uni-text",{staticClass:"tip-item"},[t._v("• 支付金额需与实际转账金额一致")]),t.hasOrderId?r("v-uni-text",{staticClass:"tip-item"},[t._v("• 订单金额已自动填充，无需修改")]):t._e()],1)],1)],1)},a=[]},"838e":function(t,e,r){"use strict";r("6a54");var n=r("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r("5c47"),r("a1c1"),r("f7a5");var a=n(r("9b1b")),i=r("0744"),o=r("8f59"),d=r("6008"),u={name:"UploadProof",data:function(){return{domain:d.HTTP_REQUEST_URL,formData:{money:"",payment_voucher:""},imageUrl:"",loading:!1,order_id:"",orderInfo:null,hasOrderId:!1}},onLoad:function(t){t.order_id?(this.order_id=t.order_id,this.hasOrderId=!0,this.getOrderDetail()):this.hasOrderId=!1},computed:(0,a.default)((0,a.default)({},(0,o.mapGetters)(["viewColor","keyColor"])),{},{canSubmit:function(){return this.formData.money&&this.formData.payment_voucher&&!this.loading}}),methods:{getOrderDetail:function(){var t=this;uni.showLoading({title:"获取订单信息..."}),(0,i.groupOrderDetail)(this.order_id).then((function(e){uni.hideLoading(),t.orderInfo=e.data,t.formData.money=e.data.pay_price})).catch((function(e){uni.hideLoading(),t.$util.Tips({title:"获取订单信息失败"})}))},onAmountInput:function(t){if(!this.hasOrderId){var e=t.detail.value;e=e.replace(/[^\d.]/g,"");var r=e.split(".");r.length>2&&(e=r[0]+"."+r.slice(1).join("")),r[1]&&r[1].length>2&&(e=r[0]+"."+r[1].substring(0,2)),this.formData.money=e}},chooseImage:function(){var t=this;t.$util.uploadImageOne("upload/image",(function(e){200===e.status&&e.data&&(t.imageUrl=e.data.path,t.formData.payment_voucher=e.data.path,t.$util.Tips({title:"上传成功",icon:"success"}))}))},previewImage:function(){uni.previewImage({urls:[this.imageUrl],current:this.imageUrl})},deleteImage:function(){var t=this;uni.showModal({title:"确认删除",content:"确定要删除这张支付凭证吗？",success:function(e){e.confirm&&(t.imageUrl="",t.formData.payment_voucher="")}})},submitProof:function(){var t=this;if(!this.formData.money)return this.$util.Tips({title:"请输入支付金额"});if(!this.formData.payment_voucher)return this.$util.Tips({title:"请上传支付凭证"});this.loading=!0,uni.showLoading({title:"提交中..."});var e={payment_voucher:this.formData.payment_voucher,money:this.formData.money};this.hasOrderId&&this.order_id&&(e.order_id=this.order_id),(0,i.uploadPayProofApi)(e).then((function(e){t.loading=!1,uni.hideLoading(),t.$util.Tips({title:"支付凭证上传成功",icon:"success"},{tab:3,url:"/pages/index/index"})})).catch((function(e){t.loading=!1,uni.hideLoading(),t.$util.Tips({title:e.message||"上传失败"})}))}}};e.default=u}}]);