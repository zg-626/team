(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-points_mall-exchange_record"],{1060:function(t,e,n){"use strict";n("7a82");var a=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.applyInvoiceApi=function(t,e){return r.default.post("order/receipt/".concat(t),e)},e.cartDel=function(t){return r.default.post("user/cart/delete",t)},e.cartProductAttr=function(t){return r.default.get("store/product/get_attr_value/".concat(t))},e.changeCartNum=function(t,e){return r.default.post("user/cart/change/"+t,e)},e.createOrder=function(t){return r.default.post("v2/order/create",t,{noAuth:!0})},e.develiveryDetail=function(t){return r.default.get("order/delivery/".concat(t))},e.express=function(t){return r.default.post("order/express/"+t)},e.expressList=function(){return r.default.get("common/express")},e.getCallBackUrlApi=function(t){return r.default.get("common/pay_key/"+t,{},{noAuth:!0})},e.getCartCounts=function(){return r.default.get("user/cart/count")},e.getCartList=function(){return r.default.get("user/cart/lst")},e.getCouponsOrderPrice=function(t,e){return r.default.get("coupons/order/"+t,e)},e.getOrderConfirm=function(t){return r.default.post("v2/order/check",t)},e.getOrderDetail=function(t){return r.default.get("order/detail/"+t)},e.getOrderList=function(t){return r.default.get("order/list",t)},e.getPayOrder=function(t){return r.default.get("order/status/"+t)},e.getReceiptOrder=function(t){return r.default.get("user/receipt/order/"+t)},e.groupOrderDetail=function(t){return r.default.get("order/group_order_detail/"+t)},e.groupOrderList=function(t){return r.default.get("order/group_order_list",t,{noAuth:!0})},e.integralOrderPay=function(t,e){return r.default.post("order/points/pay/"+t,e)},e.ordeRefundReason=function(){return r.default.get("order/refund/reason")},e.orderAgain=function(t){return r.default.post("user/cart/again",t)},e.orderComment=function(t,e){return r.default.post("reply/"+t,e)},e.orderConfirm=function(t){return r.default.post("order/check",t)},e.orderCreate=function(t){return r.default.post("order/create",t,{noAuth:!0})},e.orderData=function(){return r.default.get("order/number")},e.orderDel=function(t){return r.default.post("order/del/"+t)},e.orderPay=function(t,e){return r.default.post("order/pay/"+t,e)},e.orderProduct=function(t){return r.default.get("reply/product/"+t)},e.orderRefundVerify=function(t){return r.default.post("order/refund/verify",t)},e.orderTake=function(t){return r.default.post("order/take/"+t)},e.postOrderComputed=function(t,e){return r.default.post("/order/computed/"+t,e)},e.presellOrderPay=function(t,e){return r.default.post("presell/pay/"+t,e)},e.receiptOrder=function(t){return r.default.get("user/receipt/order",t)},e.refundApply=function(t,e){return r.default.post("refund/apply/"+t,e,{noAuth:!0})},e.refundBackGoods=function(t,e){return r.default.post("refund/back_goods/"+t,e,{noAuth:!0})},e.refundBatch=function(t){return r.default.get("refund/batch_product/"+t,{noAuth:!0})},e.refundCancelApi=function(t){return r.default.post("refund/cancel/".concat(t))},e.refundDel=function(t){return r.default.post("refund/del/"+t,{noAuth:!0})},e.refundDetail=function(t){return r.default.get("refund/detail/"+t,{noAuth:!0})},e.refundExpress=function(t){return r.default.get("refund/express/"+t,{noAuth:!0})},e.refundList=function(t){return r.default.get("refund/list",t,{noAuth:!0})},e.refundMessage=function(){return r.default.get("common/refund_message",{noAuth:!0})},e.refundOrderExpress=function(t,e){return r.default.get("server/".concat(t,"/refund/express/").concat(e))},e.refundProduct=function(t,e){return r.default.get("refund/product/"+t,e,{noAuth:!0})},e.unOrderCancel=function(t){return r.default.post("order/cancel/"+t)},e.verifyCode=function(t){return r.default.get("order/verify_code/"+t)},n("99af");var r=a(n("2492"))},1280:function(t,e,n){var a=n("1660");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("4f06").default;r("9931d76c",a,!0,{sourceMap:!1,shadowMode:!1})},1660:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.payment[data-v-5fd894b6]{position:fixed;bottom:0;left:0;width:100%;max-height:%?600?%;border-radius:%?16?% %?16?% 0 0;background-color:#fff;padding-bottom:%?60?%;z-index:99;transition:all .3s cubic-bezier(.25,.5,.5,.9);-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.payment.on[data-v-5fd894b6]{-webkit-transform:translateZ(0);transform:translateZ(0)}.payment .title[data-v-5fd894b6]{text-align:center;height:%?123?%;font-size:%?32?%;color:#282828;font-weight:700;padding-right:%?30?%;margin-left:%?30?%;position:relative;border-bottom:1px solid #eee}.payment .title .iconfont[data-v-5fd894b6]{position:absolute;right:%?30?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:%?43?%;color:#8a8a8a;font-weight:400}.payment .item[data-v-5fd894b6]{border-bottom:1px solid #eee;height:%?130?%;margin-left:%?30?%;padding-right:%?30?%}.payment .item .left[data-v-5fd894b6]{width:%?610?%}.payment .item .left .text[data-v-5fd894b6]{width:%?540?%}.payment .item .left .text .name[data-v-5fd894b6]{font-size:%?32?%;color:#282828}.payment .item .left .text .info[data-v-5fd894b6]{font-size:%?24?%;color:#999}.payment .item .left .text .info .money[data-v-5fd894b6]{color:#f90}.payment .item .left .iconfont[data-v-5fd894b6]{font-size:%?45?%;color:#09bb07}.payment .item .left .iconfont.icon-zhifubao[data-v-5fd894b6]{color:#00aaea}.payment .item .left .iconfont.icon-yuezhifu[data-v-5fd894b6]{color:#f90}.payment .item .left .iconfont.icon-yuezhifu1[data-v-5fd894b6]{color:#eb6623}.payment .item .iconfont[data-v-5fd894b6]{font-size:%?0.3?%;color:#999}',""]),t.exports=e},"1f56":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{title:{type:String,default:"暂无记录"}}};e.default=a},2258:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.empty-box[data-v-0dbffc1a]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:%?200?%}.empty-box uni-image[data-v-0dbffc1a]{width:%?414?%;height:%?240?%}.empty-box .txt[data-v-0dbffc1a]{font-size:%?26?%;color:#999}',""]),t.exports=e},"2efd":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.exchange-record .item[data-v-3e8dab0b]{background-color:#fff;margin:%?10?% %?30?%;border-radius:%?6?%}.exchange-record .item .exchange_record-time[data-v-3e8dab0b]{color:#333;border-bottom:1px solid #eee;padding:%?22?% %?30?%;display:flex;justify-content:space-between}.exchange-record .item .exchange_record-time .status[data-v-3e8dab0b]{color:var(--view-theme)}.exchange-record .item .picTxt[data-v-3e8dab0b]{border-bottom:1px solid #f0f0f0;padding:%?30?% %?30?%}.exchange-record .item .picTxt .pictrue[data-v-3e8dab0b]{width:%?120?%;height:%?120?%}.exchange-record .item .picTxt .pictrue uni-image[data-v-3e8dab0b]{width:100%;height:100%;border-radius:%?6?%}.exchange-record .item .picTxt .text[data-v-3e8dab0b]{width:%?470?%;font-size:%?30?%;color:#282828}.exchange-record .item .picTxt .text .time[data-v-3e8dab0b]{font-size:%?24?%;color:#868686;justify-content:left!important}.exchange-record .item .picTxt .text .successTxt[data-v-3e8dab0b]{font-size:%?24?%}.exchange-record .item .picTxt .text .endTxt[data-v-3e8dab0b]{font-size:%?24?%;color:#999}.exchange-record .item .picTxt .text .money[data-v-3e8dab0b]{font-size:%?24?%}.exchange-record .item .picTxt .text .money .num[data-v-3e8dab0b]{font-size:%?32?%;font-weight:700}.exchange-record .item .picTxt .text .money .symbol[data-v-3e8dab0b]{font-weight:700}.exchange-record .item .bottom[data-v-3e8dab0b]{height:%?100?%;padding:0 %?30?%;font-size:%?27?%}.exchange-record .item .bottom .purple[data-v-3e8dab0b]{color:#f78513}.exchange-record .item .bottom .end[data-v-3e8dab0b]{color:#999}.exchange-record .item .bottom .success[data-v-3e8dab0b]{color:#e93323}.exchange-record .item .bottom .bnt[data-v-3e8dab0b]{font-size:%?27?%;color:#fff;width:%?176?%;height:%?60?%;border-radius:%?32?%;text-align:center;line-height:%?60?%}.exchange-record .item .bottom .bnt.cancel[data-v-3e8dab0b]{color:#aaa;border:1px solid #ddd}.exchange-record .item .bottom .bnt ~ .bnt[data-v-3e8dab0b]{margin-left:%?18?%}.exchange-record .item .bottom .bg-colort[data-v-3e8dab0b]{background-color:var(--view-theme)}.gray-sty[data-v-3e8dab0b]{width:100%;font-size:%?24?%;color:#999}',""]),t.exports=e},3205:function(t,e,n){"use strict";n.r(e);var a=n("375c"),r=n("f040");for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("e808");var o=n("f0c5"),u=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"0dbffc1a",null,!1,a["a"],void 0);e["default"]=u.exports},"375c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"empty-box"},[e("v-uni-image",{attrs:{src:"/static/images/empty-box.png"}}),e("v-uni-view",{staticClass:"txt"},[this._v(this._s(this.title))])],1)},r=[]},"40b8":function(t,e,n){"use strict";n.r(e);var a=n("75c2"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a},4897:function(t,e,n){var a=n("2efd");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("4f06").default;r("0d120cb7",a,!0,{sourceMap:!1,shadowMode:!1})},"56a1":function(t,e,n){"use strict";n.r(e);var a=n("6b6c"),r=n("40b8");for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("9fd0");var o=n("f0c5"),u=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"3e8dab0b",null,!1,a["a"],void 0);e["default"]=u.exports},"6b6c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{style:t.viewColor},[t.exchangeList.length>0?n("v-uni-view",[n("v-uni-view",{staticClass:"exchange-record"},t._l(t.exchangeList,(function(e,a){return n("v-uni-view",{key:a},t._l(e.orderProduct,(function(r,i){return n("v-uni-view",{key:i,staticClass:"item"},[n("v-uni-view",{staticClass:"exchange_record-time"},[n("v-uni-view",[t._v(t._s(1==e.paid?"兑换时间："+e.pay_time:"订单编号："+e.order_sn))]),0==e.paid?n("v-uni-view",{staticClass:"status"},[t._v("待付款")]):n("v-uni-view",{staticClass:"status"},[t._v(t._s(0==e.status?"待发货":1==e.status?"待收货":"已完成"))])],1),r.cart_info?n("v-uni-view",{staticClass:"picTxt acea-row row-between-wrapper"},[n("v-uni-view",{staticClass:"pictrue"},[n("v-uni-image",{attrs:{src:r.cart_info.productAttr&&r.cart_info.productAttr.image||r.cart_info.product.image}})],1),n("v-uni-view",{staticClass:"text acea-row row-column-around"},[n("v-uni-view",{staticClass:"line1",staticStyle:{width:"100%"}},[t._v(t._s(r.cart_info.product.store_name))]),n("v-uni-view",{staticClass:"line1 gray-sty"},[t._v(t._s(r.cart_info.productAttr&&r.cart_info.productAttr.sku||"默认"))])],1)],1):t._e(),n("v-uni-view",{staticClass:"bottom acea-row row-between-wrapper"},[n("v-uni-view",{staticClass:"end"}),n("v-uni-view",{staticClass:"acea-row row-middle row-right"},[0==e.paid?n("v-uni-view",{staticClass:"bnt bg-colort",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goPay(e)}}},[t._v("立即付款")]):t._e(),2!=e.status&&1!=e.status||1!=e.delivery_type?t._e():n("v-uni-view",{staticClass:"bnt cancel",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getLogistics(e.order_id)}}},[t._v("查看物流")]),3==e.status&&1==e.paid?n("v-uni-view",{staticClass:"bnt cancel",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.delOrder(e.order_id,a,i)}}},[t._v("删除")]):t._e(),1==e.paid?n("v-uni-view",{staticClass:"bnt bg-colort",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goDetail(e.order_id)}}},[t._v("查看详情")]):t._e()],1)],1)],1)})),1)})),1)],1):t._e(),t.isLogin?n("v-uni-view",{staticClass:"acea-row row-center-wrapper loadingicon",attrs:{hidden:!t.loading}},[n("v-uni-text",{staticClass:"iconfont icon-jiazai loading",attrs:{hidden:!t.loading}}),t._v(t._s(t.loadTitle))],1):t._e(),0!=t.exchangeList.length||t.loading?t._e():[n("emptyPage",{attrs:{title:"暂无兑换记录～"}})],n("payment",{attrs:{payMode:t.payMode,order_type:2,pay_close:t.pay_close,returnUrl:"/pages/points_mall/integral_order_details?order_id="+t.order_id,order_id:t.pay_order_id,totalPrice:t.totalPrice},on:{onChangeFun:function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeFun.apply(void 0,arguments)}}})],2)},r=[]},7480:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("acd8"),n("99af");var a=n("1060"),r={props:{payMode:{type:Array,default:function(){return[]}},pay_close:{type:Boolean,default:!1},order_id:{type:String,default:""},totalPrice:{type:String,default:"0"},order_type:{type:Number,default:0},isCall:{type:Boolean,default:!1},returnUrl:{type:String,default:""}},data:function(){return{}},mounted:function(){},methods:{close:function(){this.$emit("onChangeFun",{action:"payClose"})},goPay:function(t,e){var n=this;if(this.isCall)return this.$emit("onChangeFun",{action:"payCheck",value:e});var r=this,i="";if("wechat"==e?i=this.$wechat.isWeixin()?"weixin":"h5":"balance"==e?i="balance":"alipay"==e&&(i="alipay"),!r.order_id)return r.$util.Tips({title:"请选择要支付的订单"});if("balance"==e&&parseFloat(t)<parseFloat(r.totalPrice))return r.$util.Tips({title:"余额不足！"});uni.showLoading({title:"支付中"});var o=1===r.order_type?a.presellOrderPay:2===r.order_type?a.integralOrderPay:a.orderPay;o(r.order_id,{type:i,return_url:""!==r.returnUrl?"http://"+window.location.host+r.returnUrl:"http://"+window.location.host+"/pages/users/order_list/index"}).then((function(t){var e=t.data.status,a=t.data.result.order_id,i=t.data.result.config,o=t.data.result.pay_key,u=r.returnUrl?r.returnUrl:"/pages/users/order_list/index";switch(e){case"ORDER_EXIST":case"EXTEND_ORDER":case"PAY_ERROR":case"error":return uni.hideLoading(),n.$emit("onChangeFun",{action:"payClose"}),r.$util.Tips({title:t.message});case"success":return uni.hideLoading(),n.$emit("onChangeFun",{action:"payClose"}),r.$util.Tips({title:"支付成功",icon:"success"},{tab:5,url:u+"?status=1"});case"alipay":case"alipayQr":return uni.hideLoading(),n.$emit("onChangeFun",{action:"payClose"}),void uni.navigateTo({url:"/pages/order_pay_back/index?keyCode="+o+"&url="+i});case"wechat":case"weixin":case"weixinApp":i.timeStamp=i.timestamp,r.$wechat.pay(i).then((function(t){return n.$emit("onChangeFun",{action:"payClose"}),uni.hideLoading(),r.$util.Tips({title:"支付成功",icon:"success"},{tab:5,url:u+"status=1"})})).catch((function(t){if("chooseWXPay:cancel"==t.errMsg)return r.isCall?r.$util.Tips({title:"取消支付"}):r.$util.Tips({title:"取消支付"},{tab:5,url:u+"?status=0"})}));break;case"balance":return uni.hideLoading(),r.$emit("onChangeFun",{action:"payClose"}),r.$util.Tips({title:t.message});case"h5":var c=window.location.protocol+"//"+window.location.host,d="".concat(c,"/pages/order_pay_status/index?order_id=").concat(a),s=encodeURIComponent(d),l=i.mweb_url||i.h5_url,f="".concat(l,"&redirect_url=").concat(s);setTimeout((function(){location.href=f}),100);break}})).catch((function(t){return uni.hideLoading(),r.$util.Tips({title:t})}))}}};e.default=r},"750c":function(t,e,n){"use strict";n("7a82");var a=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getIntegralGoodsList=function(t){return r.default.get("points/lst",t,{noAuth:!0})},e.getIntegralHome=function(){return r.default.get("points/home",{},{noAuth:!0})},e.getIntegralProductDetail=function(t){return r.default.get("points/detail/".concat(t),{},{noAuth:!0})},e.getIntegralScope=function(){return r.default.get("points/scope",{},{noAuth:!0})},e.integralOrderConfirm=function(t){return r.default.post("order/v3/check",t,{noAuth:!0})},e.integralOrderCreate=function(t){return r.default.post("order/v3/create",t,{noAuth:!0})},e.integralOrderDelete=function(t){return r.default.post("points/order/deleate/".concat(t),{},{noAuth:!0})},e.integralOrderDetail=function(t){return r.default.get("points/order/detail/".concat(t),{},{noAuth:!0})},e.integralOrderList=function(t){return r.default.get("points/order/lst",t,{noAuth:!0})},e.integralOrderTake=function(t){return r.default.post("points/order/take/".concat(t),{},{noAuth:!0})};var r=a(n("2492"))},"75c2":function(t,e,n){"use strict";n("7a82");var a=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("14d9"),n("d401"),n("d3b7"),n("25f0"),n("a434");var r=a(n("f3f3")),i=a(n("3205")),o=n("26cb"),u=n("750c"),c=n("577a"),d=a(n("9dec")),s=n("6a8d"),l=n("1ccf"),f={name:"exchangeRecord",components:{emptyPage:i.default,payment:d.default},props:{},data:function(){return{exchangeList:[],payMode:[{name:"微信支付",icon:"icon-weixinzhifu",value:"wechat",title:"微信快捷支付",payStatus:1},{name:"支付宝支付",icon:"icon-zhifubao",value:"alipay",title:"支付宝支付",payStatus:this.$store.getters.globalData.alipay_open},{name:"余额支付",icon:"icon-yuezhifu",value:"balance",title:"可用余额:",number:0,payStatus:this.$store.getters.globalData.yue_pay_status}],loadend:!1,loading:!1,loadTitle:"加载更多",page:1,limit:20,userInfo:{},pay_close:!1,pay_order_id:"",order_id:"",totalPrice:"0",delta:1}},computed:(0,r.default)((0,r.default)({},(0,o.mapGetters)(["isLogin","viewColor"])),(0,s.configMap)(["alipay_open","yue_pay_status"])),watch:{alipay_open:function(t){this.payMode[1].payStatus=t},yue_pay_status:function(t){this.payMode[2].payStatus=t}},onLoad:function(t){this.delta=t.delta||0},onUnload:function(){},onShow:function(){!1===this.isLogin?(0,l.toLogin)():(this.getIntegralOrderList(),this.getUserInfo())},methods:{goDetail:function(t){uni.navigateTo({url:"/pages/points_mall/integral_order_details?order_id=".concat(t)})},getUserInfo:function(){var t=this;(0,c.getUserInfo)().then((function(e){t.payMode[2].number=e.data.now_money}))},getIntegralOrderList:function(){var t=this;t.loadend||t.loading||(t.loading=!0,t.loadTitle="",(0,u.integralOrderList)({page:t.page,limit:t.limit}).then((function(e){var n=e.data.list.length<t.limit;t.loadend=n,t.loading=!1,t.loadTitle=n?"已全部加载":"加载更多",t.exchangeList.push.apply(t.exchangeList,e.data.list),t.page++})).catch((function(e){t.$util.Tips({title:e})})))},goPay:function(t){this.$set(this,"pay_close",!0),this.order_id=t.order_id,this.pay_order_id=t.group_order_id.toString(),this.$set(this,"totalPrice",t.pay_price)},pay_complete:function(){this.loadend=!1,this.page=1,this.$set(this,"exchangeList",[]),this.pay_close=!1,this.pay_order_id="",this.getIntegralOrderList()},pay_fail:function(){this.pay_close=!1,this.pay_order_id=""},payClose:function(){this.$set(this,"pay_close",!1),this.pay_order_id=""},onChangeFun:function(t){var e=t,n=e.action||null,a=void 0!=e.value?e.value:null;n&&this[n]&&this[n](a)},goOrderDetails:function(t){if(!t)return that.$util.Tips({title:"缺少订单号无法查看订单详情"});uni.navigateTo({url:"/pages/points_mall/integral_order_details?order_id="+t})},getLogistics:function(t){uni.navigateTo({url:"/pages/users/goods_logistics/index?orderId=".concat(t)})},delOrder:function(t,e,n){var a=this;uni.showModal({title:"提示",content:"确定删除该记录吗？",success:function(r){r.confirm?(0,u.integralOrderDelete)(t).then((function(t){a.exchangeList[e]["orderProduct"].splice(n,1),a.$util.Tips({title:"删除成功"})})).catch((function(t){return a.$util.Tips({title:t})})):r.cancel}})}},onReachBottom:function(){this.getIntegralOrderList()}};e.default=f},"84d3":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"payment",class:t.pay_close?"on":""},[n("v-uni-view",{staticClass:"title acea-row row-center-wrapper"},[t._v("选择付款方式"),n("v-uni-text",{staticClass:"iconfont icon-guanbi",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1),t._l(t.payMode,(function(e,a){return 1==e.payStatus?n("v-uni-view",{key:a,staticClass:"item acea-row row-between-wrapper",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goPay(e.number||0,e.value)}}},[n("v-uni-view",{staticClass:"left acea-row row-between-wrapper"},[n("v-uni-view",{staticClass:"iconfont",class:e.icon}),n("v-uni-view",{staticClass:"text"},[n("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]),e.number?n("v-uni-view",{staticClass:"info"},[t._v(t._s(e.title)),n("span",{staticClass:"money"},[t._v("￥"+t._s(e.number))])]):n("v-uni-view",{staticClass:"info"},[t._v(t._s(e.title))])],1)],1),n("v-uni-view",{staticClass:"iconfont icon-xiangyou"})],1):t._e()}))],2),t.pay_close?n("v-uni-view",{ref:"close",staticClass:"mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}):t._e()],1)},r=[]},"9dec":function(t,e,n){"use strict";n.r(e);var a=n("84d3"),r=n("bd90");for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("c1d2");var o=n("f0c5"),u=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"5fd894b6",null,!1,a["a"],void 0);e["default"]=u.exports},"9fd0":function(t,e,n){"use strict";var a=n("4897"),r=n.n(a);r.a},bd90:function(t,e,n){"use strict";n.r(e);var a=n("7480"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a},c1d2:function(t,e,n){"use strict";var a=n("1280"),r=n.n(a);r.a},e456:function(t,e,n){var a=n("2258");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("4f06").default;r("53c56fb1",a,!0,{sourceMap:!1,shadowMode:!1})},e808:function(t,e,n){"use strict";var a=n("e456"),r=n.n(a);r.a},f040:function(t,e,n){"use strict";n.r(e);var a=n("1f56"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a}}]);